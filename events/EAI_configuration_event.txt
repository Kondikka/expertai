add_namespace = EAI

############################################################################################################
# Expert AI mod - config events
############################################################################################################

country_event = { #multiplayer check
	id = EAI.3
	title = EAI.3.t
	desc = EAI.3.d
	picture = GFX_report_event_expert_ai
	is_triggered_only = yes
	
	option = { name = EAI.3.o1 

		hidden_effect = {
			if = { limit = { NOT = { any_other_country = { has_country_flag = EAI_startup_config_active } } }
				country_event = EAI.1000
			}
		}
	}
	
	option = { name = EAI.3.o2 }
}

country_event = { #message when the config has been opened by someone
	id = EAI.4
	title = EAI.4.t
	desc = EAI.4.d
	picture = GFX_report_event_expert_ai
	is_triggered_only = yes
	option = { name = "OK" }
}

country_event = { #startup config
	id = EAI.1000
	title = EAI.1000.t
	desc = EAI.1000.d
	picture = GFX_report_event_expert_ai
	is_triggered_only = yes

	immediate = {
	
		if = { limit = { NOT = { has_country_flag = EAI_startup_config_active } } # notifies other players when the event has been opened
			
			set_country_flag = EAI_startup_config_active
			
			every_other_country = { limit = { is_ai = no } country_event = EAI.4 }
		}

		if = { limit = { is_historical_focus_on = yes NOT = { has_global_flag = EAI_normal } } # default historical setting
			set_global_flag = EAI_normal

			if = { limit = { SPR = { is_ai = yes } }
				set_global_flag = EAI_neutral_spr
			}
		}

		set_country_flag = { flag = EAI_show_AI_config_decisions days = 5 value = 1 }
	}

	#################################################

	option = { name = EAI.1000.o1a # "Mode: Normal"

		trigger = { NOT = { has_global_flag = EAI_historical_mode has_global_flag = EAI_challenging_mode has_global_flag = EAI_random_focuses } }

		hidden_effect = {
			if = { limit = { has_country_flag = EAI_player_has_AI_army_config_open }

				country_event = EAI.1001

				else = {
					set_global_flag = EAI_historical_mode

					country_event = EAI.1001
				}
			}
		}

		custom_effect_tooltip = EAI.1000.o1a.tt
	}
	option = { name = EAI.1000.o1b # "Mode: Historical"

		trigger = { has_global_flag = EAI_historical_mode }

		hidden_effect = {
			if = { limit = { has_country_flag = EAI_player_has_AI_army_config_open }

				country_event = EAI.1001

				else = {
					clr_global_flag = EAI_historical_mode
					set_global_flag = EAI_challenging_mode

					country_event = EAI.1001
				}
			}
		}

		custom_effect_tooltip = EAI.1000.o1b.tt
	}
	option = { name = EAI.1000.o1c # "Mode: Challenging"

		trigger = { has_global_flag = EAI_challenging_mode }

		hidden_effect = {
			if = { limit = { has_country_flag = EAI_player_has_AI_army_config_open }

				country_event = EAI.1001

				else = {
					clr_global_flag = EAI_challenging_mode
					set_global_flag = EAI_random_focuses

					country_event = EAI.1001
				}
			}
		}

		custom_effect_tooltip = EAI.1000.o1c.tt
	}
	option = { name = EAI.1000.o1d # "Mode: Random"

		trigger = { has_global_flag = EAI_random_focuses }

		hidden_effect = {
			if = { limit = { has_country_flag = EAI_player_has_AI_army_config_open }

				country_event = EAI.1001

				else = {
					clr_global_flag = EAI_random_focuses

					country_event = EAI.1001
				}
			}
		}

		custom_effect_tooltip = EAI.1000.o1d.tt
	}

	#################################################

	option = { name = EAI.1000.o2f # "Impossible"

		trigger = { has_global_flag = EAI_general_difficulty_impossible }

		hidden_effect = {
			if = { limit = { has_country_flag = EAI_player_has_AI_army_config_open }

				country_event = EAI.1001

				else = {
					clr_global_flag = EAI_general_difficulty_impossible
					set_global_flag = EAI_general_difficulty_easy

					country_event = EAI.1001
				}
			}
		}

		custom_effect_tooltip = EAI.1000.o2f.tt
		effect_tooltip = { show_ideas_tooltip = EAI_insane_mode }
		custom_effect_tooltip = EAI.0.difficulty.1.ttd
		
		custom_effect_tooltip = EAI.1000.o2c.tt2
		effect_tooltip = { show_ideas_tooltip = EAI_desperate_defense_10 }
		custom_effect_tooltip = EAI.0.difficulty.2.tt4b
		custom_effect_tooltip = EAI_nl
		
		custom_effect_tooltip = EAI.0.difficulty.2.tt3
		effect_tooltip = { show_ideas_tooltip = EAI_desperate_defense_20 }
		custom_effect_tooltip = EAI.0.difficulty.2.tt4c
	}
	option = { name = EAI.1000.o2d # "Insane"

		trigger = { has_global_flag = EAI_general_difficulty_insane }

		hidden_effect = {
			if = { limit = { has_country_flag = EAI_player_has_AI_army_config_open }

				country_event = EAI.1001

				else = {
					clr_global_flag = EAI_general_difficulty_insane
					set_global_flag = EAI_general_difficulty_impossible

					country_event = EAI.1001
				}
			}
		}

		custom_effect_tooltip = EAI.1000.o2d.tt
		effect_tooltip = { show_ideas_tooltip = EAI_very_hard_mode }
		custom_effect_tooltip = EAI.0.difficulty.1.ttc
		
		custom_effect_tooltip = EAI.1000.o2c.tt2
		effect_tooltip = { show_ideas_tooltip = EAI_desperate_defense_1 }
		custom_effect_tooltip = EAI.0.difficulty.2.tt4a
		custom_effect_tooltip = EAI_nl
		
		custom_effect_tooltip = EAI.0.difficulty.2.tt3
		effect_tooltip = { show_ideas_tooltip = EAI_desperate_defense_20 }
		custom_effect_tooltip = EAI.0.difficulty.2.tt4c
	}
	option = { name = EAI.1000.o2c # "Very Hard"

		trigger = { has_global_flag = EAI_general_difficulty_very_hard }

		hidden_effect = {
			if = { limit = { has_country_flag = EAI_player_has_AI_army_config_open }

				country_event = EAI.1001

				else = {
					clr_global_flag = EAI_general_difficulty_very_hard
					set_global_flag = EAI_general_difficulty_insane

					country_event = EAI.1001
				}
			}
		}

		custom_effect_tooltip = EAI.1000.o2c.tt
		effect_tooltip = { show_ideas_tooltip = EAI_hard_mode }
		custom_effect_tooltip = EAI.0.difficulty.1.ttb
		
		custom_effect_tooltip = EAI.1000.o2c.tt2
		effect_tooltip = { show_ideas_tooltip = EAI_desperate_defense_1 }
		custom_effect_tooltip = EAI.0.difficulty.2.tt4a
		custom_effect_tooltip = EAI_nl
		
		custom_effect_tooltip = EAI.0.difficulty.2.tt3
		effect_tooltip = { show_ideas_tooltip = EAI_desperate_defense_20 }
		custom_effect_tooltip = EAI.0.difficulty.2.tt4c
	}
	option = { name = EAI.1000.o2b # "Hard"

		trigger = { has_global_flag = EAI_general_difficulty_hard }

		hidden_effect = {
			if = { limit = { has_country_flag = EAI_player_has_AI_army_config_open }

				country_event = EAI.1001

				else = {
					clr_global_flag = EAI_general_difficulty_hard
					set_global_flag = EAI_general_difficulty_very_hard

					country_event = EAI.1001
				}
			}
		}

		custom_effect_tooltip = EAI.1000.o2b.tt

		effect_tooltip = { show_ideas_tooltip = EAI_hard_mode }
		
		custom_effect_tooltip = EAI.0.difficulty.1.ttb
	}
	option = { name = EAI.1000.o2a # "Normal"

		trigger = {
			NOT = {
				has_global_flag = EAI_general_difficulty_easy
				has_global_flag = EAI_general_difficulty_hard
				has_global_flag = EAI_general_difficulty_very_hard
				has_global_flag = EAI_general_difficulty_insane
				has_global_flag = EAI_general_difficulty_impossible
			}

		}
		hidden_effect = {
			if = { limit = { has_country_flag = EAI_player_has_AI_army_config_open }

				country_event = EAI.1001

				else = {
					set_global_flag = EAI_general_difficulty_hard

					country_event = EAI.1001
				}
			}
		}

		custom_effect_tooltip = EAI.1000.o2a.tt
	}
	option = { name = EAI.1000.o2e # "Easy"

		trigger = { has_global_flag = EAI_general_difficulty_easy }

		hidden_effect = {
			if = { limit = { has_country_flag = EAI_player_has_AI_army_config_open }

				country_event = EAI.1001

				else = {
					clr_global_flag = EAI_general_difficulty_easy

					country_event = EAI.1001
				}
			}
		}

		custom_effect_tooltip = EAI.1000.o2e.tt
	}

	#################################################

	option = { name = EAI.1000.o3 # "Customise"

		hidden_effect = {
			if = { limit = { has_country_flag = EAI_player_has_AI_army_config_open }

				country_event = EAI.1001

				else = {
					clr_country_flag = EAI_player_has_AI_army_config_open
					clr_country_flag = EAI_startup_config_active

					if = { limit = { has_global_flag = EAI_historical_mode }
						EAI_set_historical = yes
					}
					
					if = { limit = { has_global_flag = EAI_general_difficulty_impossible }
						set_global_flag = EAI_dynamic_desperate_defense set_global_flag = EAI_dynamic_desperate_defense_HIGH
						set_global_flag = EAI_dynamic_division_spawning
						set_global_flag = EAI_dynamic_insane_enemies
						set_global_flag = EAI_attrition set_global_flag = EAI_attrition_1
						set_global_flag = EAI_free_convoys
					}
					if = { limit = { has_global_flag = EAI_general_difficulty_insane }
						set_global_flag = EAI_dynamic_desperate_defense set_global_flag = EAI_dynamic_desperate_defense_NORMAL
						set_global_flag = EAI_dynamic_very_hard_enemies
						set_global_flag = EAI_attrition set_global_flag = EAI_attrition_1
					}
					if = { limit = { has_global_flag = EAI_general_difficulty_very_hard }
						set_global_flag = EAI_dynamic_desperate_defense set_global_flag = EAI_dynamic_desperate_defense_NORMAL
						set_global_flag = EAI_dynamic_hard_enemies
						set_global_flag = EAI_attrition set_global_flag = EAI_attrition_2
					}
					if = { limit = { has_global_flag = EAI_general_difficulty_hard }
						set_global_flag = EAI_dynamic_hard_enemies
						set_global_flag = EAI_attrition set_global_flag = EAI_attrition_3
					}
					if = { limit = { has_global_flag = EAI_general_difficulty_easy }
						clr_global_flag = EAI_lend_lease
						clr_global_flag = EAI_anti_aggression_diplomacy
						set_global_flag = EAI_no_resistance_reduction

						every_country = { limit = { OR = { has_idea = EAI_resistance_effects_reduced has_idea = EAI_resistance_effects_reduced } }
							remove_ideas = EAI_resistance_effects_reduced
							remove_ideas = EAI_resistance_effects_reduced
						}
					}

					country_event = EAI.0
				}
			}
		}
	}
	option = { name = EAI.1000.o4 # "Exit"

		ai_chance = { factor = 100 }

		hidden_effect = {
			if = { limit = { has_country_flag = EAI_player_has_AI_army_config_open }

				country_event = EAI.1001

				else = {
					clr_country_flag = EAI_show_AI_config_decisions

					clr_country_flag = EAI_player_has_AI_army_config_open
					clr_country_flag = EAI_startup_config_active

					if = { limit = { has_global_flag = EAI_historical_mode }
						EAI_set_historical = yes
					}
					
					if = { limit = { has_global_flag = EAI_general_difficulty_impossible }
						set_global_flag = EAI_dynamic_desperate_defense set_global_flag = EAI_dynamic_desperate_defense_HIGH
						set_global_flag = EAI_dynamic_division_spawning
						set_global_flag = EAI_dynamic_insane_enemies
						set_global_flag = EAI_attrition set_global_flag = EAI_attrition_1
						set_global_flag = EAI_free_convoys
					}
					if = { limit = { has_global_flag = EAI_general_difficulty_insane }
						set_global_flag = EAI_dynamic_desperate_defense set_global_flag = EAI_dynamic_desperate_defense_NORMAL
						set_global_flag = EAI_dynamic_very_hard_enemies
						set_global_flag = EAI_attrition set_global_flag = EAI_attrition_1
					}
					if = { limit = { has_global_flag = EAI_general_difficulty_very_hard }
						set_global_flag = EAI_dynamic_desperate_defense set_global_flag = EAI_dynamic_desperate_defense_NORMAL
						set_global_flag = EAI_dynamic_hard_enemies
						set_global_flag = EAI_attrition set_global_flag = EAI_attrition_2
					}
					if = { limit = { has_global_flag = EAI_general_difficulty_hard }
						set_global_flag = EAI_dynamic_hard_enemies
						set_global_flag = EAI_attrition set_global_flag = EAI_attrition_3
					}
					if = { limit = { has_global_flag = EAI_general_difficulty_easy }
						clr_global_flag = EAI_lend_lease
						clr_global_flag = EAI_anti_aggression_diplomacy
						set_global_flag = EAI_no_resistance_reduction

						every_country = { limit = { OR = { has_idea = EAI_resistance_effects_reduced has_idea = EAI_resistance_effects_reduced } }
							remove_ideas = EAI_resistance_effects_reduced
							remove_ideas = EAI_resistance_effects_reduced
						}
					}

					every_country = {
						limit = {
							is_ai = yes
							NOT = { has_country_flag = EAI_army_config_triggered }
						}
						country_event = EAI_CFG.0
					}
				}
			}
		}
	}
}
country_event = { #startup config
	id = EAI.1001
	title = EAI.1000.t
	desc = EAI.1000.d
	picture = GFX_report_event_expert_ai
	is_triggered_only = yes
	
	immediate = {
	
		if = { limit = { NOT = { has_country_flag = EAI_startup_config_active } } # notifies other players when the event has been opened
			
			set_country_flag = EAI_startup_config_active
			
			every_other_country = { limit = { is_ai = no } country_event = EAI.4 }
		}

		if = { limit = { is_historical_focus_on = yes NOT = { has_global_flag = EAI_normal } } # default historical setting
			set_global_flag = EAI_normal

			if = { limit = { SPR = { is_ai = yes } }
				set_global_flag = EAI_neutral_spr
			}
		}

		set_country_flag = { flag = EAI_show_AI_config_decisions days = 5 value = 1 }
	}

	#################################################

	option = { name = EAI.1000.o1a # "Mode: Normal"

		trigger = { NOT = { has_global_flag = EAI_historical_mode has_global_flag = EAI_challenging_mode has_global_flag = EAI_random_focuses } }

		hidden_effect = {
			if = { limit = { has_country_flag = EAI_player_has_AI_army_config_open }

				country_event = EAI.1000

				else = {
					set_global_flag = EAI_historical_mode

					country_event = EAI.1000
				}
			}
		}

		custom_effect_tooltip = EAI.1000.o1a.tt
	}
	option = { name = EAI.1000.o1b # "Mode: Historical"

		trigger = { has_global_flag = EAI_historical_mode }

		hidden_effect = {
			if = { limit = { has_country_flag = EAI_player_has_AI_army_config_open }

				country_event = EAI.1000

				else = {
					clr_global_flag = EAI_historical_mode
					set_global_flag = EAI_challenging_mode

					country_event = EAI.1000
				}
			}
		}

		custom_effect_tooltip = EAI.1000.o1b.tt
	}
	option = { name = EAI.1000.o1c # "Mode: Challenging"

		trigger = { has_global_flag = EAI_challenging_mode }

		hidden_effect = {
			if = { limit = { has_country_flag = EAI_player_has_AI_army_config_open }

				country_event = EAI.1000

				else = {
					clr_global_flag = EAI_challenging_mode
					set_global_flag = EAI_random_focuses

					country_event = EAI.1000
				}
			}
		}

		custom_effect_tooltip = EAI.1000.o1c.tt
	}
	option = { name = EAI.1000.o1d # "Mode: Random"

		trigger = { has_global_flag = EAI_random_focuses }

		hidden_effect = {
			if = { limit = { has_country_flag = EAI_player_has_AI_army_config_open }

				country_event = EAI.1000

				else = {
					clr_global_flag = EAI_random_focuses

					country_event = EAI.1000
				}
			}
		}

		custom_effect_tooltip = EAI.1000.o1d.tt
	}

	#################################################

	option = { name = EAI.1000.o2f # "Impossible"

		trigger = { has_global_flag = EAI_general_difficulty_impossible }

		hidden_effect = {
			if = { limit = { has_country_flag = EAI_player_has_AI_army_config_open }

				country_event = EAI.1000

				else = {
					clr_global_flag = EAI_general_difficulty_impossible
					set_global_flag = EAI_general_difficulty_easy

					country_event = EAI.1000
				}
			}
		}

		custom_effect_tooltip = EAI.1000.o2f.tt
		effect_tooltip = { show_ideas_tooltip = EAI_insane_mode }
		custom_effect_tooltip = EAI.0.difficulty.1.ttd
		
		custom_effect_tooltip = EAI.1000.o2c.tt2
		effect_tooltip = { show_ideas_tooltip = EAI_desperate_defense_10 }
		custom_effect_tooltip = EAI.0.difficulty.2.tt4b
		custom_effect_tooltip = EAI_nl
		
		custom_effect_tooltip = EAI.0.difficulty.2.tt3
		effect_tooltip = { show_ideas_tooltip = EAI_desperate_defense_20 }
		custom_effect_tooltip = EAI.0.difficulty.2.tt4c
	}
	option = { name = EAI.1000.o2d # "Insane"

		trigger = { has_global_flag = EAI_general_difficulty_insane }

		hidden_effect = {
			if = { limit = { has_country_flag = EAI_player_has_AI_army_config_open }

				country_event = EAI.1000

				else = {
					clr_global_flag = EAI_general_difficulty_insane
					set_global_flag = EAI_general_difficulty_impossible

					country_event = EAI.1000
				}
			}
		}

		custom_effect_tooltip = EAI.1000.o2d.tt
		effect_tooltip = { show_ideas_tooltip = EAI_very_hard_mode }
		custom_effect_tooltip = EAI.0.difficulty.1.ttc
		
		custom_effect_tooltip = EAI.1000.o2c.tt2
		effect_tooltip = { show_ideas_tooltip = EAI_desperate_defense_1 }
		custom_effect_tooltip = EAI.0.difficulty.2.tt4a
		custom_effect_tooltip = EAI_nl
		
		custom_effect_tooltip = EAI.0.difficulty.2.tt3
		effect_tooltip = { show_ideas_tooltip = EAI_desperate_defense_20 }
		custom_effect_tooltip = EAI.0.difficulty.2.tt4c
	}
	option = { name = EAI.1000.o2c # "Very Hard"

		trigger = { has_global_flag = EAI_general_difficulty_very_hard }

		hidden_effect = {
			if = { limit = { has_country_flag = EAI_player_has_AI_army_config_open }

				country_event = EAI.1000

				else = {
					clr_global_flag = EAI_general_difficulty_very_hard
					set_global_flag = EAI_general_difficulty_insane

					country_event = EAI.1000
				}
			}
		}

		custom_effect_tooltip = EAI.1000.o2c.tt
		effect_tooltip = { show_ideas_tooltip = EAI_hard_mode }
		custom_effect_tooltip = EAI.0.difficulty.1.ttb
		
		custom_effect_tooltip = EAI.1000.o2c.tt2
		effect_tooltip = { show_ideas_tooltip = EAI_desperate_defense_1 }
		custom_effect_tooltip = EAI.0.difficulty.2.tt4a
		custom_effect_tooltip = EAI_nl
		
		custom_effect_tooltip = EAI.0.difficulty.2.tt3
		effect_tooltip = { show_ideas_tooltip = EAI_desperate_defense_20 }
		custom_effect_tooltip = EAI.0.difficulty.2.tt4c
	}
	option = { name = EAI.1000.o2b # "Hard"

		trigger = { has_global_flag = EAI_general_difficulty_hard }

		hidden_effect = {
			if = { limit = { has_country_flag = EAI_player_has_AI_army_config_open }

				country_event = EAI.1000

				else = {
					clr_global_flag = EAI_general_difficulty_hard
					set_global_flag = EAI_general_difficulty_very_hard

					country_event = EAI.1000
				}
			}
		}

		custom_effect_tooltip = EAI.1000.o2b.tt

		effect_tooltip = { show_ideas_tooltip = EAI_hard_mode }
		
		custom_effect_tooltip = EAI.0.difficulty.1.ttb
	}
	option = { name = EAI.1000.o2a # "Normal"

		trigger = {
			NOT = {
				has_global_flag = EAI_general_difficulty_easy
				has_global_flag = EAI_general_difficulty_hard
				has_global_flag = EAI_general_difficulty_very_hard
				has_global_flag = EAI_general_difficulty_insane
				has_global_flag = EAI_general_difficulty_impossible
			}

		}
		hidden_effect = {
			if = { limit = { has_country_flag = EAI_player_has_AI_army_config_open }

				country_event = EAI.1000

				else = {
					set_global_flag = EAI_general_difficulty_hard

					country_event = EAI.1000
				}
			}
		}

		custom_effect_tooltip = EAI.1000.o2a.tt
	}
	option = { name = EAI.1000.o2e # "Easy"

		trigger = { has_global_flag = EAI_general_difficulty_easy }

		hidden_effect = {
			if = { limit = { has_country_flag = EAI_player_has_AI_army_config_open }

				country_event = EAI.1000

				else = {
					clr_global_flag = EAI_general_difficulty_easy

					country_event = EAI.1000
				}
			}
		}

		custom_effect_tooltip = EAI.1000.o2e.tt
	}

	#################################################

	option = { name = EAI.1000.o3 # "Customise"

		hidden_effect = {
			if = { limit = { has_country_flag = EAI_player_has_AI_army_config_open }

				country_event = EAI.1000

				else = {
					clr_country_flag = EAI_player_has_AI_army_config_open
					clr_country_flag = EAI_startup_config_active

					if = { limit = { has_global_flag = EAI_historical_mode }
						EAI_set_historical = yes
					}
					
					if = { limit = { has_global_flag = EAI_general_difficulty_impossible }
						set_global_flag = EAI_dynamic_desperate_defense set_global_flag = EAI_dynamic_desperate_defense_HIGH
						set_global_flag = EAI_dynamic_division_spawning
						set_global_flag = EAI_dynamic_insane_enemies
						set_global_flag = EAI_attrition set_global_flag = EAI_attrition_1
						set_global_flag = EAI_free_convoys
					}
					if = { limit = { has_global_flag = EAI_general_difficulty_insane }
						set_global_flag = EAI_dynamic_desperate_defense set_global_flag = EAI_dynamic_desperate_defense_NORMAL
						set_global_flag = EAI_dynamic_very_hard_enemies
						set_global_flag = EAI_attrition set_global_flag = EAI_attrition_1
					}
					if = { limit = { has_global_flag = EAI_general_difficulty_very_hard }
						set_global_flag = EAI_dynamic_desperate_defense set_global_flag = EAI_dynamic_desperate_defense_NORMAL
						set_global_flag = EAI_dynamic_hard_enemies
						set_global_flag = EAI_attrition set_global_flag = EAI_attrition_2
					}
					if = { limit = { has_global_flag = EAI_general_difficulty_hard }
						set_global_flag = EAI_dynamic_hard_enemies
						set_global_flag = EAI_attrition set_global_flag = EAI_attrition_3
					}
					if = { limit = { has_global_flag = EAI_general_difficulty_easy }
						clr_global_flag = EAI_lend_lease
						clr_global_flag = EAI_anti_aggression_diplomacy
						set_global_flag = EAI_no_resistance_reduction

						every_country = { limit = { OR = { has_idea = EAI_resistance_effects_reduced has_idea = EAI_resistance_effects_reduced } }
							remove_ideas = EAI_resistance_effects_reduced
							remove_ideas = EAI_resistance_effects_reduced
						}
					}

					country_event = EAI.0
				}
			}
		}
	}
	option = { name = EAI.1000.o4 # "Exit"

		ai_chance = { factor = 100 }

		hidden_effect = {
			if = { limit = { has_country_flag = EAI_player_has_AI_army_config_open }

				country_event = EAI.1000

				else = {
					clr_country_flag = EAI_show_AI_config_decisions

					clr_country_flag = EAI_player_has_AI_army_config_open
					clr_country_flag = EAI_startup_config_active

					if = { limit = { has_global_flag = EAI_historical_mode }
						EAI_set_historical = yes
					}
					
					if = { limit = { has_global_flag = EAI_general_difficulty_impossible }
						set_global_flag = EAI_dynamic_desperate_defense set_global_flag = EAI_dynamic_desperate_defense_HIGH
						set_global_flag = EAI_dynamic_division_spawning
						set_global_flag = EAI_dynamic_insane_enemies
						set_global_flag = EAI_attrition set_global_flag = EAI_attrition_1
						set_global_flag = EAI_free_convoys
					}
					if = { limit = { has_global_flag = EAI_general_difficulty_insane }
						set_global_flag = EAI_dynamic_desperate_defense set_global_flag = EAI_dynamic_desperate_defense_NORMAL
						set_global_flag = EAI_dynamic_very_hard_enemies
						set_global_flag = EAI_attrition set_global_flag = EAI_attrition_1
					}
					if = { limit = { has_global_flag = EAI_general_difficulty_very_hard }
						set_global_flag = EAI_dynamic_desperate_defense set_global_flag = EAI_dynamic_desperate_defense_NORMAL
						set_global_flag = EAI_dynamic_hard_enemies
						set_global_flag = EAI_attrition set_global_flag = EAI_attrition_2
					}
					if = { limit = { has_global_flag = EAI_general_difficulty_hard }
						set_global_flag = EAI_dynamic_hard_enemies
						set_global_flag = EAI_attrition set_global_flag = EAI_attrition_3
					}
					if = { limit = { has_global_flag = EAI_general_difficulty_easy }
						clr_global_flag = EAI_lend_lease
						clr_global_flag = EAI_anti_aggression_diplomacy
						set_global_flag = EAI_no_resistance_reduction

						every_country = { limit = { OR = { has_idea = EAI_resistance_effects_reduced has_idea = EAI_resistance_effects_reduced } }
							remove_ideas = EAI_resistance_effects_reduced
							remove_ideas = EAI_resistance_effects_reduced
						}
					}

					every_country = {
						limit = {
							is_ai = yes
							NOT = { has_country_flag = EAI_army_config_triggered }
						}
						country_event = EAI_CFG.0
					}
				}
			}
		}
	}
}

country_event = { #advanced config
	id = EAI.0
	title = EAI.0.t # "Expert AI Configuration"
	desc = EAI.0.d
	picture = GFX_report_event_expert_ai
	is_triggered_only = yes

	immediate = {
		if = { limit = { NOT = { has_country_flag = EAI_advanced_config_active } }
		
			set_country_flag = EAI_advanced_config_active

			set_variable = { EAI_advanced_config_general = 1 }
			
			every_other_country = { limit = { is_ai = no } country_event = EAI.4 } # notifies other players when the event has been opened
		}

		set_country_flag = EAI_show_AI_config_decisions
	}

	#################################################### GENERAL/DIFFICULTY SWITCH

	option = { name = EAI.0.general
	
		trigger = { has_variable = EAI_advanced_config_general }
		
		hidden_effect = {
			clear_variable = EAI_advanced_config_general
			
			set_variable = { EAI_advanced_config_difficulty = 1 }

			country_event = EAI.1
		}
		
		custom_effect_tooltip = EAI.0.general.tt
	}
	option = { name = EAI.0.difficulty
	
		trigger = { has_variable = EAI_advanced_config_difficulty }
		
		hidden_effect = {
			clear_variable = EAI_advanced_config_difficulty
			
			set_variable = { EAI_advanced_config_general = 1 }

			country_event = EAI.1
		}
		
		custom_effect_tooltip = EAI.0.difficulty.tt
	}

	#################################################### GENERAL CATEGORY

	option = { name = EAI.0.general.cat
	
		trigger = { has_variable = EAI_advanced_config_general }
		
		hidden_effect = {
			if = { limit = { check_variable = { EAI_advanced_config_general < 7 } }
				
				add_to_variable = { EAI_advanced_config_general = 1 }
				
				else = { set_variable = { EAI_advanced_config_general = 1 } }
			}
			
			country_event = EAI.1
		}
		
		custom_effect_tooltip = EAI.0.general.cat.tt
	}
	
	#########################

	### ai army focuses
	option = { name = EAI.0.general.1.a
		
		trigger = { check_variable = { EAI_advanced_config_general = 1 } NOT = { has_global_flag = EAI_historical_mode has_global_flag = EAI_random_focuses has_global_flag = EAI_challenging_mode } }

		hidden_effect = {
			set_global_flag = EAI_historical_mode

			country_event = EAI.1
		}

		custom_effect_tooltip = EAI.0.general.1.tt
	}
	option = { name = EAI.0.general.1.b
	
		trigger = { check_variable = { EAI_advanced_config_general = 1 } has_global_flag = EAI_historical_mode }

		hidden_effect = {
			clr_global_flag = EAI_historical_mode

			set_global_flag = EAI_challenging_mode

			country_event = EAI.1
		}

		custom_effect_tooltip = EAI.0.general.1.tt
	}
	option = { name = EAI.0.general.1.c
	
		trigger = { check_variable = { EAI_advanced_config_general = 1 } has_global_flag = EAI_challenging_mode }

		hidden_effect = {
			clr_global_flag = EAI_challenging_mode

			set_global_flag = EAI_random_focuses

			country_event = EAI.1
		}

		custom_effect_tooltip = EAI.0.general.1.tt
	}
	option = { name = EAI.0.general.1.d
	
		trigger = { check_variable = { EAI_advanced_config_general = 1 } has_global_flag = EAI_random_focuses }

		hidden_effect = {
			clr_global_flag = EAI_random_focuses

			country_event = EAI.1
		}

		custom_effect_tooltip = EAI.0.general.1.tt
	}

	### anti-aggression diplomacy
	option = { name = EAI.0.general.2.a
	
		trigger = { check_variable = { EAI_advanced_config_general = 2 } NOT = { has_global_flag = EAI_anti_aggression_diplomacy }  }

		hidden_effect = {
			set_global_flag = EAI_anti_aggression_diplomacy

			country_event = EAI.1
		}

		custom_effect_tooltip = EAI.0.general.2.tt
	}
	option = { name = EAI.0.general.2.b
	
		trigger = { check_variable = { EAI_advanced_config_general = 2 } has_global_flag = EAI_anti_aggression_diplomacy }

		hidden_effect = {
			clr_global_flag = EAI_anti_aggression_diplomacy
			
			every_country = { #clear flags
				every_other_country = {
					limit = { has_country_flag = EAI_invite_to_faction_@PREV }
					
					clr_country_flag = EAI_invite_to_faction_@PREV
				}
			}
			every_country = { #clear flags
				every_other_country = {
					limit = { PREV = { has_country_flag = EAI_supports_@PREV } }
					
					clr_country_flag = EAI_supports_@PREV
					clr_country_flag = EAI_receives_support_@THIS
				}
			}

			country_event = EAI.1
		}

		custom_effect_tooltip = EAI.0.general.2.tt
	}

	### improved lend lease
	option = { name = EAI.0.general.3.a
	
		trigger = { check_variable = { EAI_advanced_config_general = 3 } NOT = { has_global_flag = EAI_lend_lease } }

		hidden_effect = {
			set_global_flag = EAI_lend_lease

			country_event = EAI.1
		}

		custom_effect_tooltip = EAI.0.general.3.tt
	}
	option = { name = EAI.0.general.3.b
	
		trigger = { check_variable = { EAI_advanced_config_general = 3 } has_global_flag = EAI_lend_lease }

		hidden_effect = {
			clr_global_flag = EAI_lend_lease

			country_event = EAI.1
		}

		custom_effect_tooltip = EAI.0.general.3.tt
	}

	### neutral spain
	option = { name = EAI.0.general.4.a
	
		trigger = { check_variable = { EAI_advanced_config_general = 4 } NOT = { has_global_flag = EAI_neutral_spr } }

		hidden_effect = {
			set_global_flag = EAI_neutral_spr

			country_event = EAI.1
		}

		custom_effect_tooltip = EAI.0.general.4.tt
	}
	option = { name = EAI.0.general.4.b
	
		trigger = { check_variable = { EAI_advanced_config_general = 4 } has_global_flag = EAI_neutral_spr }

		hidden_effect = {
			clr_global_flag = EAI_neutral_spr

			country_event = EAI.1
		}

		custom_effect_tooltip = EAI.0.general.4.tt
	}

	### aggressive germany
	option = { name = EAI.0.general.5.a
	
		trigger = { check_variable = { EAI_advanced_config_general = 5 } NOT = { has_global_flag = EAI_aggressive_GER } }

		hidden_effect = {
			set_global_flag = EAI_aggressive_GER

			country_event = EAI.1
		}

		custom_effect_tooltip = EAI.0.general.5.tt
	}
	option = { name = EAI.0.general.5.b
	
		trigger = { check_variable = { EAI_advanced_config_general = 5 } has_global_flag = EAI_aggressive_GER }

		hidden_effect = {
			clr_global_flag = EAI_aggressive_GER

			country_event = EAI.1
		}

		custom_effect_tooltip = EAI.0.general.5.tt
	}

	### limit minors research slots
	option = { name = EAI.0.general.6.a
	
		trigger = { check_variable = { EAI_advanced_config_general = 6 } NOT = { has_global_flag = EAI_limit_research } }

		hidden_effect = {
			set_global_flag = EAI_limit_research

			every_country = {
				limit = { NOT = { EAI_major_country = yes } original_research_slots > 3 }
				add_research_slot = -3
				set_country_flag = EAI_slots_reduced_3
			}
			every_country = {
				limit = { NOT = { EAI_major_country = yes } original_research_slots > 2 original_research_slots < 4 }
				add_research_slot = -2
				set_country_flag = EAI_slots_reduced_2
			}
			every_country = {
				limit = { NOT = { EAI_major_country = yes } original_research_slots > 1 original_research_slots < 3 }
				add_research_slot = -1
				set_country_flag = EAI_slots_reduced_1
			}

			country_event = EAI.1
		}

		custom_effect_tooltip = EAI.0.general.6.tt
	}
	option = { name = EAI.0.general.6.b
	
		trigger = { check_variable = { EAI_advanced_config_general = 6 } has_global_flag = EAI_limit_research }

		hidden_effect = {
			clr_global_flag = EAI_limit_research

			every_country = {
				limit = { has_country_flag = EAI_slots_reduced_3 }
				add_research_slot = 3
				clr_country_flag = EAI_slots_reduced_3
			}
			every_country = {
				limit = { has_country_flag = EAI_slots_reduced_2 }
				add_research_slot = 2
				clr_country_flag = EAI_slots_reduced_2
			}
			every_country = {
				limit = { has_country_flag = EAI_slots_reduced_1 }
				add_research_slot = 1
				clr_country_flag = EAI_slots_reduced_1
			}

			country_event = EAI.1
		}

		custom_effect_tooltip = EAI.0.general.6.tt
	}

	### limit south america production
	option = { name = EAI.0.general.7.a
	
		trigger = { check_variable = { EAI_advanced_config_general = 7 } NOT = { has_global_flag = EAI_limit_south_america_production } }

		hidden_effect = {
			set_global_flag = EAI_limit_south_america_production

			country_event = EAI.1
		}

		custom_effect_tooltip = EAI.0.general.7.tt
	}
	option = { name = EAI.0.general.7.b
	
		trigger = { check_variable = { EAI_advanced_config_general = 7 } has_global_flag = EAI_limit_south_america_production }

		hidden_effect = {
			clr_global_flag = EAI_limit_south_america_production

			country_event = EAI.1
		}

		custom_effect_tooltip = EAI.0.general.7.tt
	}

	#################################################### DIFFICULTY CATEGORY

	option = { name = EAI.0.difficulty.cat
	
		trigger = { has_variable = EAI_advanced_config_difficulty }
		
		hidden_effect = {
			if = { limit = { check_variable = { EAI_advanced_config_difficulty < 5 } }
				
				add_to_variable = { EAI_advanced_config_difficulty = 1 }
				
				else = { set_variable = { EAI_advanced_config_difficulty = 1 } }
			}
			
			country_event = EAI.1
		}
		
		custom_effect_tooltip = EAI.0.difficulty.cat.tt
	}

	#########################

	### dynamic bonus
	option = { name = EAI.0.difficulty.1.a
	
		trigger = { check_variable = { EAI_advanced_config_difficulty = 1 } NOT = { has_global_flag = EAI_dynamic_insane_enemies has_global_flag = EAI_dynamic_very_hard_enemies has_global_flag = EAI_dynamic_hard_enemies } }

		hidden_effect = {
			set_global_flag = EAI_dynamic_hard_enemies

			every_country = {
				limit = { has_country_flag = EAI_dynamic_country_bonus_active }
				
				EAI_clear_difficulty = yes
				
				EAI_apply_difficulty_HARD = yes
				
				add_ideas = EAI_hard_mode
				
				EAI_fix_production_boost = yes
			}

			country_event = EAI.1
		}

		custom_effect_tooltip = EAI.0.difficulty.1.tt
	}
	option = { name = EAI.0.difficulty.1.b
	
		trigger = { check_variable = { EAI_advanced_config_difficulty = 1 } has_global_flag = EAI_dynamic_hard_enemies }

		hidden_effect = {
			clr_global_flag = EAI_dynamic_hard_enemies

			set_global_flag = EAI_dynamic_very_hard_enemies

			every_country = {
				limit = { has_country_flag = EAI_dynamic_country_bonus_active }
				
				EAI_clear_difficulty = yes
				
				EAI_apply_difficulty_VERY_HARD = yes
				
				add_ideas = EAI_very_hard_mode
				
				EAI_fix_production_boost = yes
			}

			country_event = EAI.1
		}

		custom_effect_tooltip = EAI.0.difficulty.1.tt
		custom_effect_tooltip = EAI.0.difficulty.1.tt2

		effect_tooltip = { show_ideas_tooltip = EAI_hard_mode }
		
		custom_effect_tooltip = EAI.0.difficulty.1.ttb
	}
	option = { name = EAI.0.difficulty.1.c
	
		trigger = { check_variable = { EAI_advanced_config_difficulty = 1 } has_global_flag = EAI_dynamic_very_hard_enemies }

		hidden_effect = {
			clr_global_flag = EAI_dynamic_very_hard_enemies

			set_global_flag = EAI_dynamic_insane_enemies

			every_country = {
				limit = { has_country_flag = EAI_dynamic_country_bonus_active }
				
				EAI_clear_difficulty = yes
				
				EAI_apply_difficulty_INSANE = yes
				
				add_ideas = EAI_insane_mode
				
				EAI_fix_production_boost = yes
			}

			country_event = EAI.1
		}

		custom_effect_tooltip = EAI.0.difficulty.1.tt
		custom_effect_tooltip = EAI.0.difficulty.1.tt2

		effect_tooltip = { show_ideas_tooltip = EAI_very_hard_mode }
		
		custom_effect_tooltip = EAI.0.difficulty.1.ttc
	}
	option = { name = EAI.0.difficulty.1.d
	
		trigger = { check_variable = { EAI_advanced_config_difficulty = 1 } has_global_flag = EAI_dynamic_insane_enemies }

		hidden_effect = {
			clr_global_flag = EAI_dynamic_insane_enemies

			every_country = {
				limit = { has_country_flag = EAI_dynamic_country_bonus_active }
				
				EAI_clear_difficulty = yes
				
				clr_country_flag = EAI_dynamic_country_bonus_active
			}

			country_event = EAI.1
		}

		custom_effect_tooltip = EAI.0.difficulty.1.tt
		custom_effect_tooltip = EAI.0.difficulty.1.tt2

		effect_tooltip = { show_ideas_tooltip = EAI_insane_mode }
		
		custom_effect_tooltip = EAI.0.difficulty.1.ttd
	}

	### dynamic desperate defense
	option = { name = EAI.0.difficulty.2.a
	
		trigger = { check_variable = { EAI_advanced_config_difficulty = 2 } NOT = { has_global_flag = EAI_dynamic_desperate_defense } }

		hidden_effect = {
			set_global_flag = EAI_dynamic_desperate_defense
			
			set_global_flag = EAI_dynamic_desperate_defense_LOW
			
			every_country = {
				limit = { has_country_flag = EAI_dynamic_desperate_defense_active }
				
				EAI_clear_desperate_defense = yes
			}

			country_event = EAI.1
		}
		
		custom_effect_tooltip = EAI.0.difficulty.2.tt
	}
	option = { name = EAI.0.difficulty.2.b
	
		trigger = { check_variable = { EAI_advanced_config_difficulty = 2 } has_global_flag = EAI_dynamic_desperate_defense_LOW }

		hidden_effect = {
			clr_global_flag = EAI_dynamic_desperate_defense_LOW
			
			set_global_flag = EAI_dynamic_desperate_defense_NORMAL
			
			every_country = {
				limit = { has_country_flag = EAI_dynamic_desperate_defense_active }
				
				EAI_clear_desperate_defense = yes
			}

			country_event = EAI.1
		}
		
		custom_effect_tooltip = EAI.0.difficulty.2.tt

		custom_effect_tooltip = EAI.0.difficulty.2.tt2
		effect_tooltip = { show_ideas_tooltip = EAI_desperate_defense_1 }
		custom_effect_tooltip = EAI.0.difficulty.2.tt4a
		custom_effect_tooltip = EAI_nl
		
		custom_effect_tooltip = EAI.0.difficulty.2.tt3b
		effect_tooltip = { show_ideas_tooltip = EAI_desperate_defense_10 }
		custom_effect_tooltip = EAI.0.difficulty.2.tt4b
	}
	option = { name = EAI.0.difficulty.2.c
	
		trigger = { check_variable = { EAI_advanced_config_difficulty = 2 } has_global_flag = EAI_dynamic_desperate_defense_NORMAL }

		hidden_effect = {
			clr_global_flag = EAI_dynamic_desperate_defense_NORMAL
			
			set_global_flag = EAI_dynamic_desperate_defense_HIGH
			
			every_country = {
				limit = { has_country_flag = EAI_dynamic_desperate_defense_active }
				
				EAI_clear_desperate_defense = yes
			}

			country_event = EAI.1
		}
		
		custom_effect_tooltip = EAI.0.difficulty.2.tt

		custom_effect_tooltip = EAI.0.difficulty.2.tt2
		effect_tooltip = { show_ideas_tooltip = EAI_desperate_defense_1 }
		custom_effect_tooltip = EAI.0.difficulty.2.tt4a
		custom_effect_tooltip = EAI_nl
		
		custom_effect_tooltip = EAI.0.difficulty.2.tt3
		effect_tooltip = { show_ideas_tooltip = EAI_desperate_defense_20 }
		custom_effect_tooltip = EAI.0.difficulty.2.tt4c
	}
	option = { name = EAI.0.difficulty.2.d
	
		trigger = { check_variable = { EAI_advanced_config_difficulty = 2 } has_global_flag = EAI_dynamic_desperate_defense_HIGH }

		hidden_effect = {
			clr_global_flag = EAI_dynamic_desperate_defense
			
			clr_global_flag = EAI_dynamic_desperate_defense_HIGH
			
			every_country = {
				limit = { has_country_flag = EAI_dynamic_desperate_defense_active }
				
				EAI_clear_desperate_defense = yes
			}

			country_event = EAI.1
		}
		
		custom_effect_tooltip = EAI.0.difficulty.2.tt
		
		custom_effect_tooltip = EAI.0.difficulty.2.tt2
		effect_tooltip = { show_ideas_tooltip = EAI_desperate_defense_10 }
		custom_effect_tooltip = EAI.0.difficulty.2.tt4b
		custom_effect_tooltip = EAI_nl
		
		custom_effect_tooltip = EAI.0.difficulty.2.tt3
		effect_tooltip = { show_ideas_tooltip = EAI_desperate_defense_20}
		custom_effect_tooltip = EAI.0.difficulty.2.tt4c
	}
	
	### division spawning
	option = { name = EAI.0.difficulty.3.a
	
		trigger = { check_variable = { EAI_advanced_config_difficulty = 3 } NOT = { has_global_flag = EAI_dynamic_division_spawning } }

		hidden_effect = {
			set_global_flag = EAI_dynamic_division_spawning

			country_event = EAI.1
		}

		custom_effect_tooltip = EAI.0.difficulty.3.tt
	}
	option = { name = EAI.0.difficulty.3.b
	
		trigger = { check_variable = { EAI_advanced_config_difficulty = 3 } has_global_flag = EAI_dynamic_division_spawning }

		hidden_effect = {
			clr_global_flag = EAI_dynamic_division_spawning

			country_event = EAI.1
		}

		custom_effect_tooltip = EAI.0.difficulty.3.tt
	}

	### ai attrition
	option = { name = EAI.0.difficulty.4.a
	
		trigger = { check_variable = { EAI_advanced_config_difficulty = 4 } NOT = { has_global_flag = EAI_attrition_1 has_global_flag = EAI_attrition_2 has_global_flag = EAI_attrition_3 } }

		hidden_effect = {
			set_global_flag = EAI_attrition_3

			every_country = {
				limit = { is_ai = yes }

				remove_ideas = EAI_attrition_reduction
				remove_ideas = EAI_attrition_reduction2

				add_ideas = EAI_attrition_reduction3
			}

			country_event = EAI.1
		}

		custom_effect_tooltip = EAI.0.difficulty.4.tt
	}
	option = { name = EAI.0.difficulty.4.b
	
		trigger = { check_variable = { EAI_advanced_config_difficulty = 4 } has_global_flag = EAI_attrition_3 }

		hidden_effect = {
			clr_global_flag = EAI_attrition_3

			set_global_flag = EAI_attrition_2

			every_country = {
				limit = { is_ai = yes }

				remove_ideas = EAI_attrition_reduction
				remove_ideas = EAI_attrition_reduction3

				add_ideas = EAI_attrition_reduction2
			}

			country_event = EAI.1
		}

		custom_effect_tooltip = EAI.0.difficulty.4.tt
	}
	option = { name = EAI.0.difficulty.4.c
	
		trigger = { check_variable = { EAI_advanced_config_difficulty = 4 } has_global_flag = EAI_attrition_2 }

		hidden_effect = {
			clr_global_flag = EAI_attrition_2

			set_global_flag = EAI_attrition_1

			every_country = {
				limit = { is_ai = yes }

				remove_ideas = EAI_attrition_reduction2
				remove_ideas = EAI_attrition_reduction3

				add_ideas = EAI_attrition_reduction
			}

			country_event = EAI.1
		}

		custom_effect_tooltip = EAI.0.difficulty.4.tt
	}
	option = { name = EAI.0.difficulty.4.d
	
		trigger = { check_variable = { EAI_advanced_config_difficulty = 4 } has_global_flag = EAI_attrition_1 }

		hidden_effect = {
			clr_global_flag = EAI_attrition_1

			every_country = {
				limit = { is_ai = yes }

				remove_ideas = EAI_attrition_reduction
				remove_ideas = EAI_attrition_reduction2
				remove_ideas = EAI_attrition_reduction3
			}

			country_event = EAI.1
		}

		custom_effect_tooltip = EAI.0.difficulty.4.tt
	}

	### free convoys
	option = { name = EAI.0.difficulty.5.a
	
		trigger = { check_variable = { EAI_advanced_config_difficulty = 5 } NOT = { has_global_flag = EAI_free_convoys } }

		hidden_effect = {
			set_global_flag = EAI_free_convoys

			country_event = EAI.1
		}

		custom_effect_tooltip = EAI.0.difficulty.5.tt
	}
	option = { name = EAI.0.difficulty.5.b
	
		trigger = { check_variable = { EAI_advanced_config_difficulty = 5 } has_global_flag = EAI_free_convoys }

		hidden_effect = {
			clr_global_flag = EAI_free_convoys

			country_event = EAI.1
		}

		custom_effect_tooltip = EAI.0.difficulty.5.tt
	}

	####################################################

	option = { name = EAI.0.exit

		ai_chance = { factor = 100 }

		hidden_effect = {
			if = { limit = { has_country_flag = EAI_player_has_AI_army_config_open }

				country_event = EAI.1

				else = {
					clr_country_flag = EAI_show_AI_config_decisions

					clr_country_flag = EAI_advanced_config_active

					clr_country_flag = EAI_player_has_AI_army_config_open

					clear_variable = EAI_advanced_config_general
					
					clear_variable = EAI_advanced_config_difficulty

					if = { limit = { has_global_flag = EAI_historical_mode }
						EAI_set_historical = yes
					}

					every_country = {
						limit = { is_ai = yes NOT = { has_country_flag = EAI_army_config_triggered } }

						country_event = EAI_CFG.0
					}
				}
			}
		}
	}
}
country_event = { #advanced config
	id = EAI.1
	title = EAI.0.t # "Expert AI Configuration"
	desc = EAI.0.d
	picture = GFX_report_event_expert_ai
	is_triggered_only = yes
	
	immediate = {
		if = { limit = { NOT = { has_country_flag = EAI_advanced_config_active } }
		
			set_country_flag = EAI_advanced_config_active

			set_variable = { EAI_advanced_config_general = 1 }
			
			every_other_country = { limit = { is_ai = no } country_event = EAI.4 } # notifies other players when the event has been opened
		}

		set_country_flag = EAI_show_AI_config_decisions
	}

	#################################################### GENERAL/DIFFICULTY SWITCH

	option = { name = EAI.0.general
	
		trigger = { has_variable = EAI_advanced_config_general }
		
		hidden_effect = {
			clear_variable = EAI_advanced_config_general
			
			set_variable = { EAI_advanced_config_difficulty = 1 }

			country_event = EAI.0
		}
		
		custom_effect_tooltip = EAI.0.general.tt
	}
	option = { name = EAI.0.difficulty
	
		trigger = { has_variable = EAI_advanced_config_difficulty }
		
		hidden_effect = {
			clear_variable = EAI_advanced_config_difficulty
			
			set_variable = { EAI_advanced_config_general = 1 }

			country_event = EAI.0
		}
		
		custom_effect_tooltip = EAI.0.difficulty.tt
	}

	#################################################### GENERAL CATEGORY

	option = { name = EAI.0.general.cat
	
		trigger = { has_variable = EAI_advanced_config_general }
		
		hidden_effect = {
			if = { limit = { check_variable = { EAI_advanced_config_general < 7 } }
				
				add_to_variable = { EAI_advanced_config_general = 1 }
				
				else = { set_variable = { EAI_advanced_config_general = 1 } }
			}
			
			country_event = EAI.0
		}
		
		custom_effect_tooltip = EAI.0.general.cat.tt
	}
	
	#########################

	### ai army focuses
	option = { name = EAI.0.general.1.a
		
		trigger = { check_variable = { EAI_advanced_config_general = 1 } NOT = { has_global_flag = EAI_historical_mode has_global_flag = EAI_random_focuses has_global_flag = EAI_challenging_mode } }

		hidden_effect = {
			set_global_flag = EAI_historical_mode

			country_event = EAI.0
		}

		custom_effect_tooltip = EAI.0.general.1.tt
	}
	option = { name = EAI.0.general.1.b
	
		trigger = { check_variable = { EAI_advanced_config_general = 1 } has_global_flag = EAI_historical_mode }

		hidden_effect = {
			clr_global_flag = EAI_historical_mode

			set_global_flag = EAI_challenging_mode

			country_event = EAI.0
		}

		custom_effect_tooltip = EAI.0.general.1.tt
	}
	option = { name = EAI.0.general.1.c
	
		trigger = { check_variable = { EAI_advanced_config_general = 1 } has_global_flag = EAI_challenging_mode }

		hidden_effect = {
			clr_global_flag = EAI_challenging_mode

			set_global_flag = EAI_random_focuses

			country_event = EAI.0
		}

		custom_effect_tooltip = EAI.0.general.1.tt
	}
	option = { name = EAI.0.general.1.d
	
		trigger = { check_variable = { EAI_advanced_config_general = 1 } has_global_flag = EAI_random_focuses }

		hidden_effect = {
			clr_global_flag = EAI_random_focuses

			country_event = EAI.0
		}

		custom_effect_tooltip = EAI.0.general.1.tt
	}

	### anti-aggression diplomacy
	option = { name = EAI.0.general.2.a
	
		trigger = { check_variable = { EAI_advanced_config_general = 2 } NOT = { has_global_flag = EAI_anti_aggression_diplomacy }  }

		hidden_effect = {
			set_global_flag = EAI_anti_aggression_diplomacy

			country_event = EAI.0
		}

		custom_effect_tooltip = EAI.0.general.2.tt
	}
	option = { name = EAI.0.general.2.b
	
		trigger = { check_variable = { EAI_advanced_config_general = 2 } has_global_flag = EAI_anti_aggression_diplomacy }

		hidden_effect = {
			clr_global_flag = EAI_anti_aggression_diplomacy
			
			every_country = { #clear flags
				every_other_country = {
					limit = { has_country_flag = EAI_invite_to_faction_@PREV }
					
					clr_country_flag = EAI_invite_to_faction_@PREV
				}
			}
			every_country = { #clear flags
				every_other_country = {
					limit = { PREV = { has_country_flag = EAI_supports_@PREV } }
					
					clr_country_flag = EAI_supports_@PREV
					clr_country_flag = EAI_receives_support_@THIS
				}
			}

			country_event = EAI.0
		}

		custom_effect_tooltip = EAI.0.general.2.tt
	}

	### improved lend lease
	option = { name = EAI.0.general.3.a
	
		trigger = { check_variable = { EAI_advanced_config_general = 3 } NOT = { has_global_flag = EAI_lend_lease } }

		hidden_effect = {
			set_global_flag = EAI_lend_lease

			country_event = EAI.0
		}

		custom_effect_tooltip = EAI.0.general.3.tt
	}
	option = { name = EAI.0.general.3.b
	
		trigger = { check_variable = { EAI_advanced_config_general = 3 } has_global_flag = EAI_lend_lease }

		hidden_effect = {
			clr_global_flag = EAI_lend_lease

			country_event = EAI.0
		}

		custom_effect_tooltip = EAI.0.general.3.tt
	}

	### neutral spain
	option = { name = EAI.0.general.4.a
	
		trigger = { check_variable = { EAI_advanced_config_general = 4 } NOT = { has_global_flag = EAI_neutral_spr } }

		hidden_effect = {
			set_global_flag = EAI_neutral_spr

			country_event = EAI.0
		}

		custom_effect_tooltip = EAI.0.general.4.tt
	}
	option = { name = EAI.0.general.4.b
	
		trigger = { check_variable = { EAI_advanced_config_general = 4 } has_global_flag = EAI_neutral_spr }

		hidden_effect = {
			clr_global_flag = EAI_neutral_spr

			country_event = EAI.0
		}

		custom_effect_tooltip = EAI.0.general.4.tt
	}

	### aggressive germany
	option = { name = EAI.0.general.5.a
	
		trigger = { check_variable = { EAI_advanced_config_general = 5 } NOT = { has_global_flag = EAI_aggressive_GER } }

		hidden_effect = {
			set_global_flag = EAI_aggressive_GER

			country_event = EAI.0
		}

		custom_effect_tooltip = EAI.0.general.5.tt
	}
	option = { name = EAI.0.general.5.b
	
		trigger = { check_variable = { EAI_advanced_config_general = 5 } has_global_flag = EAI_aggressive_GER }

		hidden_effect = {
			clr_global_flag = EAI_aggressive_GER

			country_event = EAI.0
		}

		custom_effect_tooltip = EAI.0.general.5.tt
	}

	### limit minors research slots
	option = { name = EAI.0.general.6.a
	
		trigger = { check_variable = { EAI_advanced_config_general = 6 } NOT = { has_global_flag = EAI_limit_research } }

		hidden_effect = {
			set_global_flag = EAI_limit_research

			every_country = {
				limit = { NOT = { EAI_major_country = yes } original_research_slots > 3 }
				add_research_slot = -3
				set_country_flag = EAI_slots_reduced_3
			}
			every_country = {
				limit = { NOT = { EAI_major_country = yes } original_research_slots > 2 original_research_slots < 4 }
				add_research_slot = -2
				set_country_flag = EAI_slots_reduced_2
			}
			every_country = {
				limit = { NOT = { EAI_major_country = yes } original_research_slots > 1 original_research_slots < 3 }
				add_research_slot = -1
				set_country_flag = EAI_slots_reduced_1
			}

			country_event = EAI.0
		}

		custom_effect_tooltip = EAI.0.general.6.tt
	}
	option = { name = EAI.0.general.6.b
	
		trigger = { check_variable = { EAI_advanced_config_general = 6 } has_global_flag = EAI_limit_research }

		hidden_effect = {
			clr_global_flag = EAI_limit_research

			every_country = {
				limit = { has_country_flag = EAI_slots_reduced_3 }
				add_research_slot = 3
				clr_country_flag = EAI_slots_reduced_3
			}
			every_country = {
				limit = { has_country_flag = EAI_slots_reduced_2 }
				add_research_slot = 2
				clr_country_flag = EAI_slots_reduced_2
			}
			every_country = {
				limit = { has_country_flag = EAI_slots_reduced_1 }
				add_research_slot = 1
				clr_country_flag = EAI_slots_reduced_1
			}

			country_event = EAI.0
		}

		custom_effect_tooltip = EAI.0.general.6.tt
	}

	### limit south america production
	option = { name = EAI.0.general.7.a
	
		trigger = { check_variable = { EAI_advanced_config_general = 7 } NOT = { has_global_flag = EAI_limit_south_america_production } }

		hidden_effect = {
			set_global_flag = EAI_limit_south_america_production

			country_event = EAI.0
		}

		custom_effect_tooltip = EAI.0.general.7.tt
	}
	option = { name = EAI.0.general.7.b
	
		trigger = { check_variable = { EAI_advanced_config_general = 7 } has_global_flag = EAI_limit_south_america_production }

		hidden_effect = {
			clr_global_flag = EAI_limit_south_america_production

			country_event = EAI.0
		}

		custom_effect_tooltip = EAI.0.general.7.tt
	}

	#################################################### DIFFICULTY CATEGORY

	option = { name = EAI.0.difficulty.cat
	
		trigger = { has_variable = EAI_advanced_config_difficulty }
		
		hidden_effect = {
			if = { limit = { check_variable = { EAI_advanced_config_difficulty < 5 } }
				
				add_to_variable = { EAI_advanced_config_difficulty = 1 }
				
				else = { set_variable = { EAI_advanced_config_difficulty = 1 } }
			}
			
			country_event = EAI.0
		}
		
		custom_effect_tooltip = EAI.0.difficulty.cat.tt
	}

	#########################

	### dynamic bonus
	option = { name = EAI.0.difficulty.1.a
	
		trigger = { check_variable = { EAI_advanced_config_difficulty = 1 } NOT = { has_global_flag = EAI_dynamic_insane_enemies has_global_flag = EAI_dynamic_very_hard_enemies has_global_flag = EAI_dynamic_hard_enemies } }

		hidden_effect = {
			set_global_flag = EAI_dynamic_hard_enemies

			every_country = {
				limit = { has_country_flag = EAI_dynamic_country_bonus_active }
				
				EAI_clear_difficulty = yes
				
				EAI_apply_difficulty_HARD = yes
				
				add_ideas = EAI_hard_mode
				
				EAI_fix_production_boost = yes
			}

			country_event = EAI.0
		}

		custom_effect_tooltip = EAI.0.difficulty.1.tt
	}
	option = { name = EAI.0.difficulty.1.b
	
		trigger = { check_variable = { EAI_advanced_config_difficulty = 1 } has_global_flag = EAI_dynamic_hard_enemies }

		hidden_effect = {
			clr_global_flag = EAI_dynamic_hard_enemies

			set_global_flag = EAI_dynamic_very_hard_enemies

			every_country = {
				limit = { has_country_flag = EAI_dynamic_country_bonus_active }
				
				EAI_clear_difficulty = yes
				
				EAI_apply_difficulty_VERY_HARD = yes
				
				add_ideas = EAI_very_hard_mode
				
				EAI_fix_production_boost = yes
			}

			country_event = EAI.0
		}

		custom_effect_tooltip = EAI.0.difficulty.1.tt
		custom_effect_tooltip = EAI.0.difficulty.1.tt2

		effect_tooltip = { show_ideas_tooltip = EAI_hard_mode }
		
		custom_effect_tooltip = EAI.0.difficulty.1.ttb
	}
	option = { name = EAI.0.difficulty.1.c
	
		trigger = { check_variable = { EAI_advanced_config_difficulty = 1 } has_global_flag = EAI_dynamic_very_hard_enemies }

		hidden_effect = {
			clr_global_flag = EAI_dynamic_very_hard_enemies

			set_global_flag = EAI_dynamic_insane_enemies

			every_country = {
				limit = { has_country_flag = EAI_dynamic_country_bonus_active }
				
				EAI_clear_difficulty = yes
				
				EAI_apply_difficulty_INSANE = yes
				
				add_ideas = EAI_insane_mode
				
				EAI_fix_production_boost = yes
			}

			country_event = EAI.0
		}

		custom_effect_tooltip = EAI.0.difficulty.1.tt
		custom_effect_tooltip = EAI.0.difficulty.1.tt2

		effect_tooltip = { show_ideas_tooltip = EAI_very_hard_mode }
		
		custom_effect_tooltip = EAI.0.difficulty.1.ttc
	}
	option = { name = EAI.0.difficulty.1.d
	
		trigger = { check_variable = { EAI_advanced_config_difficulty = 1 } has_global_flag = EAI_dynamic_insane_enemies }

		hidden_effect = {
			clr_global_flag = EAI_dynamic_insane_enemies

			every_country = {
				limit = { has_country_flag = EAI_dynamic_country_bonus_active }
				
				EAI_clear_difficulty = yes
				
				clr_country_flag = EAI_dynamic_country_bonus_active
			}

			country_event = EAI.0
		}

		custom_effect_tooltip = EAI.0.difficulty.1.tt
		custom_effect_tooltip = EAI.0.difficulty.1.tt2

		effect_tooltip = { show_ideas_tooltip = EAI_insane_mode }
		
		custom_effect_tooltip = EAI.0.difficulty.1.ttd
	}

	### dynamic desperate defense
	option = { name = EAI.0.difficulty.2.a
	
		trigger = { check_variable = { EAI_advanced_config_difficulty = 2 } NOT = { has_global_flag = EAI_dynamic_desperate_defense } }

		hidden_effect = {
			set_global_flag = EAI_dynamic_desperate_defense
			
			set_global_flag = EAI_dynamic_desperate_defense_LOW
			
			every_country = {
				limit = { has_country_flag = EAI_dynamic_desperate_defense_active }
				
				EAI_clear_desperate_defense = yes
			}

			country_event = EAI.0
		}
		
		custom_effect_tooltip = EAI.0.difficulty.2.tt
	}
	option = { name = EAI.0.difficulty.2.b
	
		trigger = { check_variable = { EAI_advanced_config_difficulty = 2 } has_global_flag = EAI_dynamic_desperate_defense_LOW }

		hidden_effect = {
			clr_global_flag = EAI_dynamic_desperate_defense_LOW
			
			set_global_flag = EAI_dynamic_desperate_defense_NORMAL
			
			every_country = {
				limit = { has_country_flag = EAI_dynamic_desperate_defense_active }
				
				EAI_clear_desperate_defense = yes
			}

			country_event = EAI.0
		}
		
		custom_effect_tooltip = EAI.0.difficulty.2.tt

		custom_effect_tooltip = EAI.0.difficulty.2.tt2
		effect_tooltip = { show_ideas_tooltip = EAI_desperate_defense_1 }
		custom_effect_tooltip = EAI.0.difficulty.2.tt4a
		custom_effect_tooltip = EAI_nl
		
		custom_effect_tooltip = EAI.0.difficulty.2.tt3b
		effect_tooltip = { show_ideas_tooltip = EAI_desperate_defense_10 }
		custom_effect_tooltip = EAI.0.difficulty.2.tt4b
	}
	option = { name = EAI.0.difficulty.2.c
	
		trigger = { check_variable = { EAI_advanced_config_difficulty = 2 } has_global_flag = EAI_dynamic_desperate_defense_NORMAL }

		hidden_effect = {
			clr_global_flag = EAI_dynamic_desperate_defense_NORMAL
			
			set_global_flag = EAI_dynamic_desperate_defense_HIGH
			
			every_country = {
				limit = { has_country_flag = EAI_dynamic_desperate_defense_active }
				
				EAI_clear_desperate_defense = yes
			}

			country_event = EAI.0
		}
		
		custom_effect_tooltip = EAI.0.difficulty.2.tt

		custom_effect_tooltip = EAI.0.difficulty.2.tt2
		effect_tooltip = { show_ideas_tooltip = EAI_desperate_defense_1 }
		custom_effect_tooltip = EAI.0.difficulty.2.tt4a
		custom_effect_tooltip = EAI_nl
		
		custom_effect_tooltip = EAI.0.difficulty.2.tt3
		effect_tooltip = { show_ideas_tooltip = EAI_desperate_defense_20 }
		custom_effect_tooltip = EAI.0.difficulty.2.tt4c
	}
	option = { name = EAI.0.difficulty.2.d
	
		trigger = { check_variable = { EAI_advanced_config_difficulty = 2 } has_global_flag = EAI_dynamic_desperate_defense_HIGH }

		hidden_effect = {
			clr_global_flag = EAI_dynamic_desperate_defense
			
			clr_global_flag = EAI_dynamic_desperate_defense_HIGH
			
			every_country = {
				limit = { has_country_flag = EAI_dynamic_desperate_defense_active }
				
				EAI_clear_desperate_defense = yes
			}

			country_event = EAI.0
		}
		
		custom_effect_tooltip = EAI.0.difficulty.2.tt
		
		custom_effect_tooltip = EAI.0.difficulty.2.tt2
		effect_tooltip = { show_ideas_tooltip = EAI_desperate_defense_10 }
		custom_effect_tooltip = EAI.0.difficulty.2.tt4b
		custom_effect_tooltip = EAI_nl
		
		custom_effect_tooltip = EAI.0.difficulty.2.tt3
		effect_tooltip = { show_ideas_tooltip = EAI_desperate_defense_20}
		custom_effect_tooltip = EAI.0.difficulty.2.tt4c
	}
	
	### division spawning
	option = { name = EAI.0.difficulty.3.a
	
		trigger = { check_variable = { EAI_advanced_config_difficulty = 3 } NOT = { has_global_flag = EAI_dynamic_division_spawning } }

		hidden_effect = {
			set_global_flag = EAI_dynamic_division_spawning

			country_event = EAI.0
		}

		custom_effect_tooltip = EAI.0.difficulty.3.tt
	}
	option = { name = EAI.0.difficulty.3.b
	
		trigger = { check_variable = { EAI_advanced_config_difficulty = 3 } has_global_flag = EAI_dynamic_division_spawning }

		hidden_effect = {
			clr_global_flag = EAI_dynamic_division_spawning

			country_event = EAI.0
		}

		custom_effect_tooltip = EAI.0.difficulty.3.tt
	}

	### ai attrition
	option = { name = EAI.0.difficulty.4.a
	
		trigger = { check_variable = { EAI_advanced_config_difficulty = 4 } NOT = { has_global_flag = EAI_attrition_1 has_global_flag = EAI_attrition_2 has_global_flag = EAI_attrition_3 } }

		hidden_effect = {
			set_global_flag = EAI_attrition_3

			every_country = {
				limit = { is_ai = yes }

				remove_ideas = EAI_attrition_reduction
				remove_ideas = EAI_attrition_reduction2

				add_ideas = EAI_attrition_reduction3
			}

			country_event = EAI.0
		}

		custom_effect_tooltip = EAI.0.difficulty.4.tt
	}
	option = { name = EAI.0.difficulty.4.b
	
		trigger = { check_variable = { EAI_advanced_config_difficulty = 4 } has_global_flag = EAI_attrition_3 }

		hidden_effect = {
			clr_global_flag = EAI_attrition_3

			set_global_flag = EAI_attrition_2

			every_country = {
				limit = { is_ai = yes }

				remove_ideas = EAI_attrition_reduction
				remove_ideas = EAI_attrition_reduction3

				add_ideas = EAI_attrition_reduction2
			}

			country_event = EAI.0
		}

		custom_effect_tooltip = EAI.0.difficulty.4.tt
	}
	option = { name = EAI.0.difficulty.4.c
	
		trigger = { check_variable = { EAI_advanced_config_difficulty = 4 } has_global_flag = EAI_attrition_2 }

		hidden_effect = {
			clr_global_flag = EAI_attrition_2

			set_global_flag = EAI_attrition_1

			every_country = {
				limit = { is_ai = yes }

				remove_ideas = EAI_attrition_reduction2
				remove_ideas = EAI_attrition_reduction3

				add_ideas = EAI_attrition_reduction
			}

			country_event = EAI.0
		}

		custom_effect_tooltip = EAI.0.difficulty.4.tt
	}
	option = { name = EAI.0.difficulty.4.d
	
		trigger = { check_variable = { EAI_advanced_config_difficulty = 4 } has_global_flag = EAI_attrition_1 }

		hidden_effect = {
			clr_global_flag = EAI_attrition_1

			every_country = {
				limit = { is_ai = yes }

				remove_ideas = EAI_attrition_reduction
				remove_ideas = EAI_attrition_reduction2
				remove_ideas = EAI_attrition_reduction3
			}

			country_event = EAI.0
		}

		custom_effect_tooltip = EAI.0.difficulty.4.tt
	}

	### free convoys
	option = { name = EAI.0.difficulty.5.a
	
		trigger = { check_variable = { EAI_advanced_config_difficulty = 5 } NOT = { has_global_flag = EAI_free_convoys } }

		hidden_effect = {
			set_global_flag = EAI_free_convoys

			country_event = EAI.0
		}

		custom_effect_tooltip = EAI.0.difficulty.5.tt
	}
	option = { name = EAI.0.difficulty.5.b
	
		trigger = { check_variable = { EAI_advanced_config_difficulty = 5 } has_global_flag = EAI_free_convoys }

		hidden_effect = {
			clr_global_flag = EAI_free_convoys

			country_event = EAI.0
		}

		custom_effect_tooltip = EAI.0.difficulty.5.tt
	}

	####################################################

	option = { name = EAI.0.exit

		ai_chance = { factor = 100 }

		hidden_effect = {
			if = { limit = { has_country_flag = EAI_player_has_AI_army_config_open }

				country_event = EAI.0

				else = {
					clr_country_flag = EAI_show_AI_config_decisions

					clr_country_flag = EAI_advanced_config_active

					clr_country_flag = EAI_player_has_AI_army_config_open

					clear_variable = EAI_advanced_config_general
					
					clear_variable = EAI_advanced_config_difficulty

					if = { limit = { has_global_flag = EAI_historical_mode }
						EAI_set_historical = yes
					}

					every_country = {
						limit = { is_ai = yes NOT = { has_country_flag = EAI_army_config_triggered } }

						country_event = EAI_CFG.0
					}
				}
			}
		}
	}
}

country_event = { #country config
	id = EAI.10
	title = EAI.10.t
	desc = EAI.10.d
	picture = GFX_report_event_expert_ai
	is_triggered_only = yes

	option = { name = EAI.10.o1 # army

		hidden_effect = { country_event = EAI.100 }
		
		custom_effect_tooltip = EAI.10.o1.tt
	}

	### bonus

	option = { name = EAI.10.o2a

		trigger = { event_target:EAI_AI_customisation = { NOT = { has_country_flag = EAI_country_bonus } } }

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				set_country_flag = EAI_country_bonus 
				
				set_country_flag = EAI_country_bonus_HARD
				
				EAI_clear_difficulty = yes
				
				clr_country_flag = EAI_dynamic_country_bonus_active 
				
				EAI_apply_difficulty_HARD = yes
				
				add_ideas = EAI_hard_mode
				
				EAI_fix_production_boost = yes
			}

			country_event = EAI.11
		}

		custom_effect_tooltip = EAI_disabled
	}
	option = { name = EAI.10.o2b

		trigger = { event_target:EAI_AI_customisation = { has_country_flag = EAI_country_bonus has_country_flag = EAI_country_bonus_HARD } }

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_country_bonus_HARD
				
				set_country_flag = EAI_country_bonus_VERY_HARD
				
				EAI_clear_difficulty = yes
				
				clr_country_flag = EAI_dynamic_country_bonus_active 
				
				EAI_apply_difficulty_VERY_HARD = yes
				
				add_ideas = EAI_very_hard_mode
				
				EAI_fix_production_boost = yes
			}

			country_event = EAI.11
		}

		custom_effect_tooltip = EAI.10.o2b.tt

		effect_tooltip = { event_target:EAI_AI_customisation = { show_ideas_tooltip = EAI_hard_mode } }
		
		custom_effect_tooltip = EAI.0.difficulty.1.ttb
	}
	option = { name = EAI.10.o2c

		trigger = { event_target:EAI_AI_customisation = { has_country_flag = EAI_country_bonus has_country_flag = EAI_country_bonus_VERY_HARD } }

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_country_bonus_VERY_HARD
				
				set_country_flag = EAI_country_bonus_INSANE
				
				EAI_clear_difficulty = yes
				
				clr_country_flag = EAI_dynamic_country_bonus_active 
				
				EAI_apply_difficulty_INSANE = yes
				
				add_ideas = EAI_insane_mode
				
				EAI_fix_production_boost = yes
			}

			country_event = EAI.11
		}

		custom_effect_tooltip = EAI.10.o2c.tt

		effect_tooltip = { event_target:EAI_AI_customisation = { show_ideas_tooltip = EAI_very_hard_mode } }
		
		custom_effect_tooltip = EAI.0.difficulty.1.ttc
	}
	option = { name = EAI.10.o2d

		trigger = { event_target:EAI_AI_customisation = { has_country_flag = EAI_country_bonus has_country_flag = EAI_country_bonus_INSANE } }

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_country_bonus

				clr_country_flag = EAI_country_bonus_INSANE
				
				EAI_clear_difficulty = yes
				
				clr_country_flag = EAI_dynamic_country_bonus_active 
			}

			country_event = EAI.11
		}

		custom_effect_tooltip = EAI.10.o2d.tt

		effect_tooltip = { event_target:EAI_AI_customisation = { show_ideas_tooltip = EAI_insane_mode } }
		
		custom_effect_tooltip = EAI.0.difficulty.1.ttd
	}

	### desperate defense

	option = { name = EAI.10.o3a

		trigger = { event_target:EAI_AI_customisation = { NOT = { has_country_flag = EAI_desperate_defense } } }

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				set_country_flag = EAI_desperate_defense 
				
				set_country_flag = EAI_desperate_defense_LOW
				
				EAI_clear_desperate_defense = yes 
				
				country_event = EAI_H.202
			}

			country_event = EAI.11
		}

		custom_effect_tooltip = EAI.10.o3.tt
	}
	option = { name = EAI.10.o3b

		trigger = { event_target:EAI_AI_customisation = { has_country_flag = EAI_desperate_defense_LOW } }

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_desperate_defense_LOW
				
				set_country_flag = EAI_desperate_defense_NORMAL
				
				EAI_clear_desperate_defense = yes 
				
				country_event = EAI_H.200
			}

			country_event = EAI.11
		}

		custom_effect_tooltip = EAI.10.o3.tt

		custom_effect_tooltip = EAI.0.difficulty.2.tt2
		effect_tooltip = { show_ideas_tooltip = EAI_desperate_defense_1 }
		
		custom_effect_tooltip = EAI.0.difficulty.2.tt3b
		effect_tooltip = { show_ideas_tooltip = EAI_desperate_defense_9 }
	}
	option = { name = EAI.10.o3c

		trigger = { event_target:EAI_AI_customisation = { has_country_flag = EAI_desperate_defense_NORMAL } }

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_desperate_defense_NORMAL
				
				set_country_flag = EAI_desperate_defense_HIGH
				
				EAI_clear_desperate_defense = yes 
				
				country_event = EAI_H.201
			}

			country_event = EAI.11
		}

		custom_effect_tooltip = EAI.10.o3.tt

		custom_effect_tooltip = EAI.0.difficulty.2.tt2
		effect_tooltip = { show_ideas_tooltip = EAI_desperate_defense_1 }
		
		custom_effect_tooltip = EAI.0.difficulty.2.tt3
		effect_tooltip = { show_ideas_tooltip = EAI_desperate_defense_17 }
	}
	option = { name = EAI.10.o3d

		trigger = { event_target:EAI_AI_customisation = { has_country_flag = EAI_desperate_defense_HIGH } }

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_desperate_defense_HIGH
				
				clr_country_flag = EAI_desperate_defense
				
				EAI_clear_desperate_defense = yes
			}

			country_event = EAI.11
		}

		custom_effect_tooltip = EAI.10.o3.tt
		
		custom_effect_tooltip = EAI.0.difficulty.2.tt2
		effect_tooltip = { show_ideas_tooltip = EAI_desperate_defense_9 }
		
		custom_effect_tooltip = EAI.0.difficulty.2.tt3
		effect_tooltip = { show_ideas_tooltip = EAI_desperate_defense_17 }
	}

	### division spawning
	
	option = { name = EAI.10.o4a

		trigger = { event_target:EAI_AI_customisation = { NOT = { has_country_flag = EAI_division_spawning } } }

		hidden_effect = {
			event_target:EAI_AI_customisation = { set_country_flag = EAI_division_spawning }

			country_event = EAI.11
		}

		custom_effect_tooltip = EAI.10.o4.tt
	}
	option = { name = EAI.10.o4b

		trigger = { event_target:EAI_AI_customisation = { has_country_flag = EAI_division_spawning } }

		hidden_effect = {
			event_target:EAI_AI_customisation = { clr_country_flag = EAI_division_spawning }

			country_event = EAI.11
		}
		
		custom_effect_tooltip = EAI.10.o4.tt
	}
	
	###

	option = { name = EAI.10.exit

		clr_country_flag = EAI_player_has_AI_army_config_open
		
		event_target:EAI_AI_customisation = { clr_country_flag = EAI_player_is_configuring_this_country }
	}
}
country_event = { #country config
	id = EAI.11
	title = EAI.10.t
	desc = EAI.10.d
	picture = GFX_report_event_expert_ai
	is_triggered_only = yes

	option = { name = EAI.10.o1 # army

		hidden_effect = { country_event = EAI.100 }
		
		custom_effect_tooltip = EAI.10.o1.tt
	}

	### bonus

	option = { name = EAI.10.o2a

		trigger = { event_target:EAI_AI_customisation = { NOT = { has_country_flag = EAI_country_bonus } } }

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				set_country_flag = EAI_country_bonus 
				
				set_country_flag = EAI_country_bonus_HARD
				
				EAI_clear_difficulty = yes
				
				clr_country_flag = EAI_dynamic_country_bonus_active 
				
				EAI_apply_difficulty_HARD = yes
				
				add_ideas = EAI_hard_mode
				
				EAI_fix_production_boost = yes
			}

			country_event = EAI.10
		}

		custom_effect_tooltip = EAI_disabled
	}
	option = { name = EAI.10.o2b

		trigger = { event_target:EAI_AI_customisation = { has_country_flag = EAI_country_bonus has_country_flag = EAI_country_bonus_HARD } }

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_country_bonus_HARD
				
				set_country_flag = EAI_country_bonus_VERY_HARD
				
				EAI_clear_difficulty = yes
				
				clr_country_flag = EAI_dynamic_country_bonus_active 
				
				EAI_apply_difficulty_VERY_HARD = yes
				
				add_ideas = EAI_very_hard_mode
				
				EAI_fix_production_boost = yes
			}

			country_event = EAI.10
		}

		custom_effect_tooltip = EAI.10.o2b.tt

		effect_tooltip = { event_target:EAI_AI_customisation = { show_ideas_tooltip = EAI_hard_mode } }
		
		custom_effect_tooltip = EAI.0.difficulty.1.ttb
	}
	option = { name = EAI.10.o2c

		trigger = { event_target:EAI_AI_customisation = { has_country_flag = EAI_country_bonus has_country_flag = EAI_country_bonus_VERY_HARD } }

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_country_bonus_VERY_HARD
				
				set_country_flag = EAI_country_bonus_INSANE
				
				EAI_clear_difficulty = yes
				
				clr_country_flag = EAI_dynamic_country_bonus_active 
				
				EAI_apply_difficulty_INSANE = yes
				
				add_ideas = EAI_insane_mode
				
				EAI_fix_production_boost = yes
			}

			country_event = EAI.10
		}

		custom_effect_tooltip = EAI.10.o2c.tt

		effect_tooltip = { event_target:EAI_AI_customisation = { show_ideas_tooltip = EAI_very_hard_mode } }
		
		custom_effect_tooltip = EAI.0.difficulty.1.ttc
	}
	option = { name = EAI.10.o2d

		trigger = { event_target:EAI_AI_customisation = { has_country_flag = EAI_country_bonus has_country_flag = EAI_country_bonus_INSANE } }

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_country_bonus

				clr_country_flag = EAI_country_bonus_INSANE
				
				EAI_clear_difficulty = yes
				
				clr_country_flag = EAI_dynamic_country_bonus_active 
			}

			country_event = EAI.10
		}

		custom_effect_tooltip = EAI.10.o2d.tt

		effect_tooltip = { event_target:EAI_AI_customisation = { show_ideas_tooltip = EAI_insane_mode } }
		
		custom_effect_tooltip = EAI.0.difficulty.1.ttd
	}

	### desperate defense

	option = { name = EAI.10.o3a

		trigger = { event_target:EAI_AI_customisation = { NOT = { has_country_flag = EAI_desperate_defense } } }

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				set_country_flag = EAI_desperate_defense 
				
				set_country_flag = EAI_desperate_defense_LOW
				
				EAI_clear_desperate_defense = yes 
				
				country_event = EAI_H.202
			}

			country_event = EAI.10
		}

		custom_effect_tooltip = EAI.10.o3.tt
	}
	option = { name = EAI.10.o3b

		trigger = { event_target:EAI_AI_customisation = { has_country_flag = EAI_desperate_defense_LOW } }

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_desperate_defense_LOW
				
				set_country_flag = EAI_desperate_defense_NORMAL
				
				EAI_clear_desperate_defense = yes 
				
				country_event = EAI_H.200
			}

			country_event = EAI.10
		}

		custom_effect_tooltip = EAI.10.o3.tt

		custom_effect_tooltip = EAI.0.difficulty.2.tt2
		effect_tooltip = { show_ideas_tooltip = EAI_desperate_defense_1 }
		
		custom_effect_tooltip = EAI.0.difficulty.2.tt3b
		effect_tooltip = { show_ideas_tooltip = EAI_desperate_defense_9 }
	}
	option = { name = EAI.10.o3c

		trigger = { event_target:EAI_AI_customisation = { has_country_flag = EAI_desperate_defense_NORMAL } }

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_desperate_defense_NORMAL
				
				set_country_flag = EAI_desperate_defense_HIGH
				
				EAI_clear_desperate_defense = yes 
				
				country_event = EAI_H.201
			}

			country_event = EAI.10
		}

		custom_effect_tooltip = EAI.10.o3.tt

		custom_effect_tooltip = EAI.0.difficulty.2.tt2
		effect_tooltip = { show_ideas_tooltip = EAI_desperate_defense_1 }
		
		custom_effect_tooltip = EAI.0.difficulty.2.tt3
		effect_tooltip = { show_ideas_tooltip = EAI_desperate_defense_17 }
	}
	option = { name = EAI.10.o3d

		trigger = { event_target:EAI_AI_customisation = { has_country_flag = EAI_desperate_defense_HIGH } }

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_desperate_defense_HIGH
				
				clr_country_flag = EAI_desperate_defense
				
				EAI_clear_desperate_defense = yes
			}

			country_event = EAI.10
		}

		custom_effect_tooltip = EAI.10.o3.tt
		
		custom_effect_tooltip = EAI.0.difficulty.2.tt2
		effect_tooltip = { show_ideas_tooltip = EAI_desperate_defense_9 }
		
		custom_effect_tooltip = EAI.0.difficulty.2.tt3
		effect_tooltip = { show_ideas_tooltip = EAI_desperate_defense_17 }
	}

	### division spawning
	
	option = { name = EAI.10.o4a

		trigger = { event_target:EAI_AI_customisation = { NOT = { has_country_flag = EAI_division_spawning } } }

		hidden_effect = {
			event_target:EAI_AI_customisation = { set_country_flag = EAI_division_spawning }

			country_event = EAI.10
		}

		custom_effect_tooltip = EAI.10.o4.tt
	}
	option = { name = EAI.10.o4b

		trigger = { event_target:EAI_AI_customisation = { has_country_flag = EAI_division_spawning } }

		hidden_effect = {
			event_target:EAI_AI_customisation = { clr_country_flag = EAI_division_spawning }

			country_event = EAI.10
		}
		
		custom_effect_tooltip = EAI.10.o4.tt
	}
	
	###

	option = { name = EAI.10.exit

		clr_country_flag = EAI_player_has_AI_army_config_open
		
		event_target:EAI_AI_customisation = { clr_country_flag = EAI_player_is_configuring_this_country }
	}
}

country_event = { #country army config
	id = EAI.100
	title = EAI.100.t
	desc = EAI.100.d
	picture = GFX_report_event_expert_ai
	is_triggered_only = yes

	########################################################################################################## AI FOCUSES

	option = { name = EAI.100.o1 # configure

		trigger = {
			NOT = { has_country_flag = EAI_player_is_configuring_army_focuses }

			if = { limit = { date > 1936.1.7 has_country_flag = EAI_player_has_AI_army_config_open_DIPLOMATIC }

				event_target:EAI_AI_customisation = {
					ROOT = { NOT = { command_power < EAI_config_cp_cost_@PREV } }
				}
			}
		}

		hidden_effect = {
			set_country_flag = EAI_player_is_configuring_army_focuses

			set_variable = { EAI_configuring_army_focuses_category = 1 }

			country_event = EAI.101
		}
	}
	
	option = { name = EAI.100.o2 # check stockpile

		trigger = {
			has_country_flag = EAI_player_has_AI_army_config_open_DIPLOMATIC
			
			NOT = { has_country_flag = EAI_player_is_configuring_army_focuses }
		}

		hidden_effect = {
			country_event = EAI.103
		}
	}

	option = { name = EAI.100.o3 # reset

		trigger = {
			NOT = { 
				has_country_flag = EAI_player_is_configuring_army_focuses 
				has_country_flag = EAI_player_has_AI_army_config_open_DIPLOMATIC
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				EAI_clear_all_focuses = yes
				EAI_clear_all_override_focuses = yes
			}
			
			country_event = EAI.101
		}
		
		custom_effect_tooltip = EAI.100.o3.tt
	}
	
	#####################################################
	
	option = { name = EAI.100.focus.next
	
		trigger = { has_country_flag = EAI_player_is_configuring_army_focuses }

		hidden_effect = {
			if = { limit = { check_variable = { EAI_configuring_army_focuses_category < 19 } }
				
				add_to_variable = { EAI_configuring_army_focuses_category = 1 }
				
				else = { set_variable = { EAI_configuring_army_focuses_category = 1 } }
			}

			country_event = EAI.101
		}
	}
	
	option = { name = EAI.100.focus.prev

		trigger = { has_country_flag = EAI_player_is_configuring_army_focuses }
	
		hidden_effect = {
			if = { limit = { check_variable = { EAI_configuring_army_focuses_category > 1 } }
				
				add_to_variable = { EAI_configuring_army_focuses_category = -1 }
				
				else = { set_variable = { EAI_configuring_army_focuses_category = 19 } }
			}
		
			country_event = EAI.101
		}
	}
	
	##################################################### LAND DOCTRINE

	option = { name = EAI.100.focus.1.o1 #-

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 1 }

			event_target:EAI_AI_customisation = {
				NOT = {
					has_country_flag = EAI_FOCUS/MW_doctrine_override
					has_country_flag = EAI_FOCUS/SF_doctrine_override
					has_country_flag = EAI_FOCUS/GB_doctrine_override
					has_country_flag = EAI_FOCUS/MA_doctrine_override
				}
			}
		}

		hidden_effect = {
			if = {
				limit = {
					event_target:EAI_AI_customisation = {
						NOT = {
							is_researching_technology = mobile_warfare
							is_researching_technology = superior_firepower
							is_researching_technology = trench_warfare
							is_researching_technology = mass_assault

							has_tech = delay is_researching_technology = delay
							has_tech = sup_delay is_researching_technology = sup_delay
							has_tech = grand_battle_plan is_researching_technology = grand_battle_plan
							has_tech = pocket_defence is_researching_technology = pocket_defence
						}
					}
				}
				
				event_target:EAI_AI_customisation = {
					clr_country_flag = EAI_FOCUS/land_doctrine_left_path_override
					clr_country_flag = EAI_FOCUS/land_doctrine_right_path_override
					
					set_country_flag = EAI_FOCUS/MW_doctrine_override
				}
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.1.tt
	}
	option = { name = EAI.100.focus.1.o1 #mw

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 1 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/MW_doctrine_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/MW_doctrine_override

				clr_country_flag = EAI_FOCUS/land_doctrine_left_path_override
				clr_country_flag = EAI_FOCUS/land_doctrine_right_path_override

				set_country_flag = EAI_FOCUS/SF_doctrine_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.1.tt
	}
	option = { name = EAI.100.focus.1.o1 #sf

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 1 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/SF_doctrine_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/SF_doctrine_override

				clr_country_flag = EAI_FOCUS/land_doctrine_left_path_override
				clr_country_flag = EAI_FOCUS/land_doctrine_right_path_override

				set_country_flag = EAI_FOCUS/GB_doctrine_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.1.tt
	}
	option = { name = EAI.100.focus.1.o1 #gb

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 1 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/GB_doctrine_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/GB_doctrine_override

				clr_country_flag = EAI_FOCUS/land_doctrine_left_path_override
				clr_country_flag = EAI_FOCUS/land_doctrine_right_path_override

				if = {
					limit = {
						OR = { has_country_flag = EAI_FOCUS/infantry_design_C_override has_country_flag = EAI_FOCUS/infantry_design_D_override NOT = { has_country_flag = EAI_FOCUS/infantry_design_B has_country_flag = EAI_FOCUS/infantry_design_B_override has_country_flag = EAI_FOCUS/infantry_design_A has_country_flag = EAI_FOCUS/infantry_design_A_override } }
					}
					set_country_flag = EAI_FOCUS/MA_doctrine_override
				}
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.1.tt
	}
	option = { name = EAI.100.focus.1.o1 #ma

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 1 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/MA_doctrine_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/MA_doctrine_override

				clr_country_flag = EAI_FOCUS/land_doctrine_left_path_override
				clr_country_flag = EAI_FOCUS/land_doctrine_right_path_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.1.tt
	}

	option = { name = EAI.100.focus.1.o2 #PATH

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 1 }

			event_target:EAI_AI_customisation = {
				NOT = { has_country_flag = EAI_FOCUS/land_doctrine_right_path_override has_country_flag = EAI_FOCUS/land_doctrine_left_path_override }
				OR = {
					has_country_flag = EAI_FOCUS/MW_doctrine_override
					has_country_flag = EAI_FOCUS/SF_doctrine_override
					has_country_flag = EAI_FOCUS/GB_doctrine_override
					has_country_flag = EAI_FOCUS/MA_doctrine_override
				}
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				set_country_flag = EAI_FOCUS/land_doctrine_right_path_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.1.tt
	}
	option = { name = EAI.100.focus.1.o2 #PATH

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 1 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/land_doctrine_right_path_override
				OR = {
					has_country_flag = EAI_FOCUS/MW_doctrine_override
					has_country_flag = EAI_FOCUS/SF_doctrine_override
					has_country_flag = EAI_FOCUS/GB_doctrine_override
					has_country_flag = EAI_FOCUS/MA_doctrine_override
				}
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/land_doctrine_right_path_override

				set_country_flag = EAI_FOCUS/land_doctrine_left_path_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.1.tt
	}
	option = { name = EAI.100.focus.1.o2 #PATH

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 1 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/land_doctrine_left_path_override
				OR = {
					has_country_flag = EAI_FOCUS/MW_doctrine_override
					has_country_flag = EAI_FOCUS/SF_doctrine_override
					has_country_flag = EAI_FOCUS/GB_doctrine_override
					has_country_flag = EAI_FOCUS/MA_doctrine_override
				}
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/land_doctrine_left_path_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.1.tt
	}

	##################################################### AIR DOCTRINE

	option = { name = EAI.100.focus.2.o1 #-

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 2 }

			event_target:EAI_AI_customisation = {
				NOT = {
					has_country_flag = EAI_FOCUS/SD_doctrine_override
					has_country_flag = EAI_FOCUS/BFS_doctrine_override
					has_country_flag = EAI_FOCUS/OI_doctrine_override
				}
			}
		}

		hidden_effect = {
			if = {
				limit = {
					event_target:EAI_AI_customisation = {
						NOT = {
							is_researching_technology = air_superiority
						    is_researching_technology = formation_flying
							is_researching_technology = force_rotation

							has_tech = infrastructure_destruction is_researching_technology = infrastructure_destruction
							has_tech = home_defence is_researching_technology = home_defence
							has_tech = dive_bombing is_researching_technology = dive_bombing
							has_tech = fighter_baiting is_researching_technology = fighter_baiting
						}
					}
				}
				
				event_target:EAI_AI_customisation = {
					set_country_flag = EAI_FOCUS/SD_doctrine_override
				}
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.2.tt
	}
	option = { name = EAI.100.focus.2.o1 #sd

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 2 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/SD_doctrine_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/SD_doctrine_override

				set_country_flag = EAI_FOCUS/BFS_doctrine_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.2.tt
	}
	option = { name = EAI.100.focus.2.o1 #bfs

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 2 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/BFS_doctrine_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/BFS_doctrine_override

				set_country_flag = EAI_FOCUS/OI_doctrine_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.2.tt
	}
	option = { name = EAI.100.focus.2.o1 #oi

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 2 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/OI_doctrine_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/OI_doctrine_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.2.tt
	}

	##################################################### NAVAL DOCTRINE

	option = { name = EAI.100.focus.3.o1 #-

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 3 }

			event_target:EAI_AI_customisation = {
				NOT = {
					has_country_flag = EAI_FOCUS/FIB_doctrine_override
					has_country_flag = EAI_FOCUS/TI_doctrine_override
					has_country_flag = EAI_FOCUS/BS_doctrine_override
				}
			}
		}

		hidden_effect = {
			if = {
				limit = {
					event_target:EAI_AI_customisation = {
						NOT = {
							is_researching_technology = fleet_in_being
							is_researching_technology = trade_interdiction
							is_researching_technology = base_strike

							has_tech = battlefleet_concentration is_researching_technology = battlefleet_concentration
							has_tech = convoy_sailing is_researching_technology = convoy_sailing
							has_tech = submarine_operations is_researching_technology = submarine_operations

							has_tech = convoy_interdiction_ti is_researching_technology = convoy_interdiction_ti
							has_tech = raider_patrols is_researching_technology = raider_patrols
							has_tech = carrier_operations is_researching_technology = carrier_operations

							has_tech = carrier_primacy is_researching_technology = carrier_primacy
							has_tech = submarine_operations_bs is_researching_technology = submarine_operations_bs
							has_tech = convoy_escorts_bs is_researching_technology = convoy_escorts_bs
						}
					}
				}
				
				event_target:EAI_AI_customisation = {
					set_country_flag = EAI_FOCUS/FIB_doctrine_override
				}
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.3.tt
	}
	option = { name = EAI.100.focus.3.o1 #fib

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 3 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/FIB_doctrine_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/FIB_doctrine_override

				set_country_flag = EAI_FOCUS/TI_doctrine_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.3.tt
	}
	option = { name = EAI.100.focus.3.o1 #ti

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 3 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/TI_doctrine_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/TI_doctrine_override

				set_country_flag = EAI_FOCUS/BS_doctrine_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.3.tt
	}
	option = { name = EAI.100.focus.3.o1 #bs

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 3 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/BS_doctrine_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/BS_doctrine_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.3.tt
	}

	##################################################### INFANTRY DESIGN

	option = { name = EAI.100.focus.4.o1 #-

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 4 }

			event_target:EAI_AI_customisation = {
				NOT = {
					has_country_flag = EAI_FOCUS/infantry_design_A_override
					has_country_flag = EAI_FOCUS/infantry_design_B_override
					has_country_flag = EAI_FOCUS/infantry_design_C_override
					has_country_flag = EAI_FOCUS/infantry_design_D_override
					has_country_flag = EAI_FOCUS/infantry_design_E_override
				}
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				if = { limit = { OR = { has_country_flag = EAI_FOCUS/MW_doctrine_override has_country_flag = EAI_FOCUS/SF_doctrine_override has_country_flag = EAI_FOCUS/GB_doctrine_override NOT = { has_country_flag = EAI_FOCUS/MA_doctrine has_country_flag = EAI_FOCUS/MA_doctrine_override } } }
					set_country_flag = EAI_FOCUS/infantry_design_A_override

					else = {
						set_country_flag = EAI_FOCUS/infantry_design_C_override
					}
				}
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.4.tt
	}
	option = { name = EAI.100.focus.4.o1 #infA

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 4 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/infantry_design_A_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/infantry_design_A_override

				set_country_flag = EAI_FOCUS/infantry_design_B_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.4.tt
	}
	option = { name = EAI.100.focus.4.o1 #infB

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 4 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/infantry_design_B_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/infantry_design_B_override

				set_country_flag = EAI_FOCUS/infantry_design_C_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.4.tt
	}
	option = { name = EAI.100.focus.4.o1 #infC

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 4 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/infantry_design_C_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/infantry_design_C_override

				set_country_flag = EAI_FOCUS/infantry_design_D_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.4.tt
	}
	option = { name = EAI.100.focus.4.o1 #infD

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 4 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/infantry_design_D_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/infantry_design_D_override
				
				set_country_flag = EAI_FOCUS/infantry_design_E_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.4.tt
	}
	option = { name = EAI.100.focus.4.o1 #infE

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 4 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/infantry_design_E_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/infantry_design_E_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.4.tt
	}

	##################################################### ARMOR TYPE

	option = { name = EAI.100.focus.5.o1 #-

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 5 }

			event_target:EAI_AI_customisation = {
				NOT = {
					has_country_flag = EAI_FOCUS/marm_army_focus_override
					has_country_flag = EAI_FOCUS/harm_army_focus_override
					has_country_flag = EAI_FOCUS/anti_tank_army_focus_override
				}
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				if = { limit = { OR = { has_country_flag = EAI_FOCUS/harm_attachment_override has_country_flag = EAI_FOCUS/motorized_attachment_override NOT = { has_country_flag = EAI_FOCUS/marm_attachment has_country_flag = EAI_FOCUS/marm_attachment_override } } }
					set_country_flag = EAI_FOCUS/marm_army_focus_override

					else = {
						set_country_flag = EAI_FOCUS/harm_army_focus_override
					}
				}
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.5.tt
	}
	option = { name = EAI.100.focus.5.o1 #marm

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 5 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/marm_army_focus_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/marm_army_focus_override

				if = { limit = { OR = { has_country_flag = EAI_FOCUS/marm_attachment_override has_country_flag = EAI_FOCUS/motorized_attachment_override NOT = { has_country_flag = EAI_FOCUS/harm_attachment has_country_flag = EAI_FOCUS/harm_attachment_override } } }
					set_country_flag = EAI_FOCUS/harm_army_focus_override

					else = {
						set_country_flag = EAI_FOCUS/anti_tank_army_focus_override
					}
				}
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.5.tt
	}
	option = { name = EAI.100.focus.5.o1 #harm

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 5 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/harm_army_focus_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/harm_army_focus_override

				set_country_flag = EAI_FOCUS/anti_tank_army_focus_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.5.tt
	}
	option = { name = EAI.100.focus.5.o1 #at

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 5 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/anti_tank_army_focus_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/anti_tank_army_focus_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.5.tt
	}
	
	##################################################### ARMOR DESIGN

	option = { name = EAI.100.focus.6.o1 #-

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 6 }

			event_target:EAI_AI_customisation = {
				NOT = {
					has_country_flag = EAI_FOCUS/armor_design_A_override
					has_country_flag = EAI_FOCUS/armor_design_B_override
					has_country_flag = EAI_FOCUS/armor_design_C_override
				}
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				set_country_flag = EAI_FOCUS/armor_design_A_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.6.tt
	}
	option = { name = EAI.100.focus.6.o1 #armA

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 6 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/armor_design_A_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/armor_design_A_override

				set_country_flag = EAI_FOCUS/armor_design_B_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.6.tt
	}
	option = { name = EAI.100.focus.6.o1 #armB

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 6 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/armor_design_B_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/armor_design_B_override

				set_country_flag = EAI_FOCUS/armor_design_C_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.6.tt
	}
	option = { name = EAI.100.focus.6.o1 #armC

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 6 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/armor_design_C_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/armor_design_C_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.6.tt
	}

	option = { name = EAI.100.focus.6.o2 #-

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 6 }

			event_target:EAI_AI_customisation = { NOT = { has_country_flag = EAI_FOCUS/40w_armor_design_0_override has_country_flag = EAI_FOCUS/40w_armor_design_1_override } }
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				set_country_flag = EAI_FOCUS/40w_armor_design_0_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.6.tt
	}
	option = { name = EAI.100.focus.6.o2 #40w

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 6 }

			event_target:EAI_AI_customisation = { has_country_flag = EAI_FOCUS/40w_armor_design_0_override }
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/40w_armor_design_0_override

				set_country_flag = EAI_FOCUS/40w_armor_design_1_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.6.tt
	}
	option = { name = EAI.100.focus.6.o2 #40w

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 6 }

			event_target:EAI_AI_customisation = { has_country_flag = EAI_FOCUS/40w_armor_design_1_override }
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/40w_armor_design_1_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.6.tt
	}

	##################################################### ATTACHMENT

	option = { name = EAI.100.focus.7.o1 #-

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 7 }

			event_target:EAI_AI_customisation = {
				NOT = {
					has_country_flag = EAI_FOCUS/larm_attachment_override
					has_country_flag = EAI_FOCUS/marm_attachment_override
					has_country_flag = EAI_FOCUS/harm_attachment_override
					has_country_flag = EAI_FOCUS/motorized_attachment_override
				}
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				if = { limit = { OR = { has_country_flag = EAI_FOCUS/harm_army_focus_override has_country_flag = EAI_FOCUS/anti_tank_army_focus_override NOT = { has_country_flag = EAI_FOCUS/marm_army_focus has_country_flag = EAI_FOCUS/marm_army_focus_override } } }
					set_country_flag = EAI_FOCUS/marm_attachment_override

					else = {
						set_country_flag = EAI_FOCUS/harm_attachment_override
					}
				}
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.7.tt
	}
	option = { name = EAI.100.focus.7.o1 #marmATT

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 7 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/marm_attachment_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/marm_attachment_override

				if = { limit = { OR = { has_country_flag = EAI_FOCUS/marm_army_focus_override has_country_flag = EAI_FOCUS/anti_tank_army_focus_override NOT = { has_country_flag = EAI_FOCUS/harm_army_focus has_country_flag = EAI_FOCUS/harm_army_focus_override } } }
					set_country_flag = EAI_FOCUS/harm_attachment_override

					else = {
						set_country_flag = EAI_FOCUS/motorized_attachment_override
					}
				}
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.7.tt
	}
	option = { name = EAI.100.focus.7.o1 #harmATT

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 7 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/harm_attachment_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/harm_attachment_override

				set_country_flag = EAI_FOCUS/motorized_attachment_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.7.tt
	}
	option = { name = EAI.100.focus.7.o1 #motATT

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 7 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/motorized_attachment_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/motorized_attachment_override
				
				set_country_flag = EAI_FOCUS/larm_attachment_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.7.tt
	}
	option = { name = EAI.100.focus.7.o1 #larmATT

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 7 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/larm_attachment_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/larm_attachment_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.7.tt
	}

	##################################################### SPEC OPS

	option = { name = EAI.100.focus.8.o1 #-

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 8 }

			event_target:EAI_AI_customisation = {
				NOT = {
					has_country_flag = EAI_FOCUS/no_spec_ops_override
					has_country_flag = EAI_FOCUS/marine_spec_ops_override
					has_country_flag = EAI_FOCUS/mountaineer_spec_ops_override
				}
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				set_country_flag = EAI_FOCUS/no_spec_ops_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.8.tt
	}
	option = { name = EAI.100.focus.8.o1 #none

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 8 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/no_spec_ops_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/no_spec_ops_override

				set_country_flag = EAI_FOCUS/marine_spec_ops_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.8.tt
	}
	option = { name = EAI.100.focus.8.o1 #mar

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 8 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/marine_spec_ops_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/marine_spec_ops_override

				set_country_flag = EAI_FOCUS/mountaineer_spec_ops_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.8.tt
	}
	option = { name = EAI.100.focus.8.o1 #mnt

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 8 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/mountaineer_spec_ops_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/mountaineer_spec_ops_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.8.tt
	}

	##################################################### HEAVY FIGHTER
	
	option = { name = EAI.100.focus.9.o1 #-

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 9 }

			event_target:EAI_AI_customisation = {
				NOT = {
					has_country_flag = EAI_FOCUS/hftr_air_focus_1_override
					has_country_flag = EAI_FOCUS/hftr_air_focus_0_override
				}
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				set_country_flag = EAI_FOCUS/hftr_air_focus_1_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.9.tt
	}
	option = { name = EAI.100.focus.9.o1 #on

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 9 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/hftr_air_focus_1_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/hftr_air_focus_1_override

				set_country_flag = EAI_FOCUS/hftr_air_focus_0_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.9.tt
	}
	option = { name = EAI.100.focus.9.o1 #off

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 9 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/hftr_air_focus_0_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/hftr_air_focus_0_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.9.tt
	}

	##################################################### GROUND SUPPORT

	option = { name = EAI.100.focus.10.o1 #-

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 10 }

			event_target:EAI_AI_customisation = {
				NOT = {
					has_country_flag = EAI_FOCUS/cas_air_focus_override
					has_country_flag = EAI_FOCUS/tac_air_focus_override
				}
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				set_country_flag = EAI_FOCUS/cas_air_focus_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.10.tt
	}
	option = { name = EAI.100.focus.10.o1 #cas

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 10 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/cas_air_focus_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/cas_air_focus_override

				set_country_flag = EAI_FOCUS/tac_air_focus_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.10.tt
	}
	option = { name = EAI.100.focus.10.o1 #tac

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 10 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/tac_air_focus_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/tac_air_focus_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.10.tt
	}

	##################################################### NAVAL BOMBER

	option = { name = EAI.100.focus.11.o1 #-

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 11 }

			event_target:EAI_AI_customisation = {
				NOT = {
					has_country_flag = EAI_FOCUS/nav_air_focus_1_override
					has_country_flag = EAI_FOCUS/nav_air_focus_0_override
				}
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				set_country_flag = EAI_FOCUS/nav_air_focus_1_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.11.tt
	}
	option = { name = EAI.100.focus.11.o1 #on

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 11 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/nav_air_focus_1_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/nav_air_focus_1_override

				set_country_flag = EAI_FOCUS/nav_air_focus_0_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.11.tt
	}
	option = { name = EAI.100.focus.11.o1 #off

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 11 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/nav_air_focus_0_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/nav_air_focus_0_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.11.tt
	}

	##################################################### STRATEGIC BOMBER

	option = { name = EAI.100.focus.12.o1 #-

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 12 }

			event_target:EAI_AI_customisation = {
				NOT = {
					has_country_flag = EAI_FOCUS/str_air_focus_1_override
					has_country_flag = EAI_FOCUS/str_air_focus_0_override
				}
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				set_country_flag = EAI_FOCUS/str_air_focus_1_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.12.tt
	}
	option = { name = EAI.100.focus.12.o1 #on

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 12 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/str_air_focus_1_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/str_air_focus_1_override

				set_country_flag = EAI_FOCUS/str_air_focus_0_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.12.tt
	}
	option = { name = EAI.100.focus.12.o1 #off

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 12 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/str_air_focus_0_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/str_air_focus_0_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.12.tt
	}

	##################################################### DD FOCUS
	
	option = { name = EAI.100.focus.13.o1 #-

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 13 }

			event_target:EAI_AI_customisation = {
				NOT = {
					has_country_flag = EAI_FOCUS/dd_navy_focus_1_override
					has_country_flag = EAI_FOCUS/dd_navy_focus_0_override
				}
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				set_country_flag = EAI_FOCUS/dd_navy_focus_1_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.13.tt
	}
	option = { name = EAI.100.focus.13.o1 #on

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 13 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/dd_navy_focus_1_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/dd_navy_focus_1_override

				set_country_flag = EAI_FOCUS/dd_navy_focus_0_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.13.tt
	}
	option = { name = EAI.100.focus.13.o1 #off

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 13 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/dd_navy_focus_0_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/dd_navy_focus_0_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.13.tt
	}

	##################################################### CL FOCUS
	
	option = { name = EAI.100.focus.14.o1 #-

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 14 }

			event_target:EAI_AI_customisation = {
				NOT = {
					has_country_flag = EAI_FOCUS/cl_navy_focus_1_override
					has_country_flag = EAI_FOCUS/cl_navy_focus_0_override
				}
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				set_country_flag = EAI_FOCUS/cl_navy_focus_1_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.14.tt
	}
	option = { name = EAI.100.focus.14.o1 #on

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 14 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/cl_navy_focus_1_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/cl_navy_focus_1_override

				set_country_flag = EAI_FOCUS/cl_navy_focus_0_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.14.tt
	}
	option = { name = EAI.100.focus.14.o1 #off

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 14 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/cl_navy_focus_0_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/cl_navy_focus_0_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.14.tt
	}

	##################################################### CA FOCUS
	
	option = { name = EAI.100.focus.15.o1 #-

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 15 }

			event_target:EAI_AI_customisation = {
				NOT = {
					has_country_flag = EAI_FOCUS/ca_navy_focus_1_override
					has_country_flag = EAI_FOCUS/ca_navy_focus_0_override
				}
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				set_country_flag = EAI_FOCUS/ca_navy_focus_1_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.15.tt
	}
	option = { name = EAI.100.focus.15.o1 #on

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 15 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/ca_navy_focus_1_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/ca_navy_focus_1_override

				set_country_flag = EAI_FOCUS/ca_navy_focus_0_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.15.tt
	}
	option = { name = EAI.100.focus.15.o1 #off

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 15 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/ca_navy_focus_0_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/ca_navy_focus_0_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.15.tt
	}

	##################################################### BC FOCUS

	option = { name = EAI.100.focus.16.o1 #-

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 16 }

			event_target:EAI_AI_customisation = {
				NOT = {
					has_country_flag = EAI_FOCUS/bc_navy_focus_1_override
					has_country_flag = EAI_FOCUS/bc_navy_focus_0_override
				}
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				set_country_flag = EAI_FOCUS/bc_navy_focus_1_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.16.tt
	}
	option = { name = EAI.100.focus.16.o1 #on

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 16 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/bc_navy_focus_1_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/bc_navy_focus_1_override

				set_country_flag = EAI_FOCUS/bc_navy_focus_0_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.16.tt
	}
	option = { name = EAI.100.focus.16.o1 #off

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 16 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/bc_navy_focus_0_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/bc_navy_focus_0_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.16.tt
	}

	##################################################### BB FOCUS

	option = { name = EAI.100.focus.17.o1 #-

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 17 }

			event_target:EAI_AI_customisation = {
				NOT = {
					has_country_flag = EAI_FOCUS/bb_navy_focus_1_override
					has_country_flag = EAI_FOCUS/bb_navy_focus_0_override
				}
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				set_country_flag = EAI_FOCUS/bb_navy_focus_1_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.17.tt
	}
	option = { name = EAI.100.focus.17.o1 #on

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 17 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/bb_navy_focus_1_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/bb_navy_focus_1_override

				set_country_flag = EAI_FOCUS/bb_navy_focus_0_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.17.tt
	}
	option = { name = EAI.100.focus.17.o1 #off

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 17 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/bb_navy_focus_0_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/bb_navy_focus_0_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.17.tt
	}

	##################################################### CV FOCUS

	option = { name = EAI.100.focus.18.o1 #-

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 18 }

			event_target:EAI_AI_customisation = {
				NOT = {
					has_country_flag = EAI_FOCUS/cv_navy_focus_1_override
					has_country_flag = EAI_FOCUS/cv_navy_focus_0_override
				}
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				set_country_flag = EAI_FOCUS/cv_navy_focus_1_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.18.tt
	}
	option = { name = EAI.100.focus.18.o1 #on

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 18 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/cv_navy_focus_1_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/cv_navy_focus_1_override

				set_country_flag = EAI_FOCUS/cv_navy_focus_0_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.18.tt
	}
	option = { name = EAI.100.focus.18.o1 #off

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 18 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/cv_navy_focus_0_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/cv_navy_focus_0_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.18.tt
	}

	##################################################### SS FOCUS

	option = { name = EAI.100.focus.19.o1 #-

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 19 }

			event_target:EAI_AI_customisation = {
				NOT = {
					has_country_flag = EAI_FOCUS/ss_navy_focus_1_override
					has_country_flag = EAI_FOCUS/ss_navy_focus_0_override
				}
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				set_country_flag = EAI_FOCUS/ss_navy_focus_1_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.19.tt
	}
	option = { name = EAI.100.focus.19.o1 #on

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 19 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/ss_navy_focus_1_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/ss_navy_focus_1_override

				set_country_flag = EAI_FOCUS/ss_navy_focus_0_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.19.tt
	}
	option = { name = EAI.100.focus.19.o1 #off

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 19 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/ss_navy_focus_0_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/ss_navy_focus_0_override
			}

			country_event = EAI.101
		}

		custom_effect_tooltip = EAI.100.focus.19.tt
	}

	#####################################################
	
	option = { name = EAI.100.confirm

		trigger = { 
			has_country_flag = EAI_player_is_configuring_army_focuses 
			
			event_target:EAI_AI_customisation = { EAI_has_override_focuses = yes } 
			
			if = { limit = { date > 1936.1.7 has_country_flag = EAI_player_has_AI_army_config_open_DIPLOMATIC }
				event_target:EAI_AI_customisation = { ROOT = { NOT = { command_power < EAI_config_cp_cost_@PREV } } }
			}
		}

		hidden_effect = {
			clear_variable = EAI_configuring_army_focuses_category
			
			clr_country_flag = EAI_player_is_configuring_army_focuses

			if = { limit = { NOT = { has_country_flag = EAI_player_has_AI_army_config_open_DIPLOMATIC } }

				event_target:EAI_AI_customisation = {
					EAI_clear_modified_focuses = yes

					clr_country_flag = EAI_army_config_triggered
				}
			}
			else_if = { limit = { NOT = { date > 1936.1.7 } } #diplo config for the first week is free
				event_target:EAI_AI_customisation = {
					EAI_clear_modified_focuses = yes
		
					clr_country_flag = EAI_army_config_triggered
				}
			}
			else_if = { limit = { event_target:EAI_AI_customisation = { ROOT = { NOT = { command_power < EAI_config_cp_cost_@PREV } } } }
				event_target:EAI_AI_customisation = {
					EAI_clear_modified_focuses = yes
		
					clr_country_flag = EAI_army_config_triggered
				}
			}
			else = { event_target:EAI_AI_customisation = { EAI_clear_all_override_focuses = yes } }

			country_event = EAI.101
		}

		if = { limit = { date > 1936.1.7 has_country_flag = EAI_player_has_AI_army_config_open_DIPLOMATIC }

			event_target:EAI_AI_customisation = {
				ROOT = { add_command_power = EAI_config_cp_cost_effect_@PREV }
			}
		}
	}
	option = { name = EAI.100.cancel

		trigger = { has_country_flag = EAI_player_is_configuring_army_focuses }

		hidden_effect = {
			clear_variable = EAI_configuring_army_focuses_category
			
			clr_country_flag = EAI_player_is_configuring_army_focuses

			event_target:EAI_AI_customisation = {
				EAI_clear_all_override_focuses = yes
			}

			country_event = EAI.101
		}
	}

	#####################################################

	option = { name = EAI.100.exit

		trigger = { NOT = { has_country_flag = EAI_player_is_configuring_army_focuses } }

		hidden_effect = {
			if = { limit = { has_country_flag = EAI_player_has_AI_army_config_open_DIPLOMATIC }
				clr_country_flag = EAI_player_has_AI_army_config_open_DIPLOMATIC

				event_target:EAI_AI_customisation = { clr_country_flag = EAI_player_is_configuring_this_country country_event = EAI_CFG.0 }

				else = { country_event = EAI.10 }
			}
		}
	}
}
country_event = { #country army config
	id = EAI.101
	title = EAI.100.t
	desc = EAI.100.d
	picture = GFX_report_event_expert_ai
	is_triggered_only = yes

	########################################################################################################## AI FOCUSES

	option = { name = EAI.100.o1 # configure

		trigger = {
			NOT = { has_country_flag = EAI_player_is_configuring_army_focuses }

			if = { limit = { date > 1936.1.7 has_country_flag = EAI_player_has_AI_army_config_open_DIPLOMATIC }

				event_target:EAI_AI_customisation = {
					ROOT = { NOT = { command_power < EAI_config_cp_cost_@PREV } }
				}
			}
		}

		hidden_effect = {
			set_country_flag = EAI_player_is_configuring_army_focuses

			set_variable = { EAI_configuring_army_focuses_category = 1 }

			country_event = EAI.100
		}
	}

	option = { name = EAI.100.o2 # check stockpile

		trigger = {
			has_country_flag = EAI_player_has_AI_army_config_open_DIPLOMATIC
			
			NOT = { has_country_flag = EAI_player_is_configuring_army_focuses }
		}

		hidden_effect = {
			country_event = EAI.103
		}
	}
	
	option = { name = EAI.100.o3 # reset

		trigger = {
			NOT = { 
				has_country_flag = EAI_player_is_configuring_army_focuses
				has_country_flag = EAI_player_has_AI_army_config_open_DIPLOMATIC
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				EAI_clear_all_focuses = yes
				EAI_clear_all_override_focuses = yes
			}
			
			country_event = EAI.100
		}
		
		custom_effect_tooltip = EAI.100.o3.tt
	}
	
	#####################################################
	
	option = { name = EAI.100.focus.next
	
		trigger = { has_country_flag = EAI_player_is_configuring_army_focuses }

		hidden_effect = {
			if = { limit = { check_variable = { EAI_configuring_army_focuses_category < 19 } }
				
				add_to_variable = { EAI_configuring_army_focuses_category = 1 }
				
				else = { set_variable = { EAI_configuring_army_focuses_category = 1 } }
			}

			country_event = EAI.100
		}
	}
	
	option = { name = EAI.100.focus.prev

		trigger = { has_country_flag = EAI_player_is_configuring_army_focuses }
	
		hidden_effect = {
			if = { limit = { check_variable = { EAI_configuring_army_focuses_category > 1 } }
				
				add_to_variable = { EAI_configuring_army_focuses_category = -1 }
				
				else = { set_variable = { EAI_configuring_army_focuses_category = 19 } }
			}
		
			country_event = EAI.100
		}
	}
	
	##################################################### LAND DOCTRINE

	option = { name = EAI.100.focus.1.o1 #-

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 1 }

			event_target:EAI_AI_customisation = {
				NOT = {
					has_country_flag = EAI_FOCUS/MW_doctrine_override
					has_country_flag = EAI_FOCUS/SF_doctrine_override
					has_country_flag = EAI_FOCUS/GB_doctrine_override
					has_country_flag = EAI_FOCUS/MA_doctrine_override
				}
			}
		}

		hidden_effect = {
			if = {
				limit = {
					event_target:EAI_AI_customisation = {
						NOT = {
							is_researching_technology = mobile_warfare
							is_researching_technology = superior_firepower
							is_researching_technology = trench_warfare
							is_researching_technology = mass_assault

							has_tech = delay is_researching_technology = delay
							has_tech = sup_delay is_researching_technology = sup_delay
							has_tech = grand_battle_plan is_researching_technology = grand_battle_plan
							has_tech = pocket_defence is_researching_technology = pocket_defence
						}
					}
				}
				
				event_target:EAI_AI_customisation = {
					clr_country_flag = EAI_FOCUS/land_doctrine_left_path_override
					clr_country_flag = EAI_FOCUS/land_doctrine_right_path_override
					
					set_country_flag = EAI_FOCUS/MW_doctrine_override
				}
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.1.tt
	}
	option = { name = EAI.100.focus.1.o1 #mw

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 1 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/MW_doctrine_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/MW_doctrine_override

				clr_country_flag = EAI_FOCUS/land_doctrine_left_path_override
				clr_country_flag = EAI_FOCUS/land_doctrine_right_path_override

				set_country_flag = EAI_FOCUS/SF_doctrine_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.1.tt
	}
	option = { name = EAI.100.focus.1.o1 #sf

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 1 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/SF_doctrine_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/SF_doctrine_override

				clr_country_flag = EAI_FOCUS/land_doctrine_left_path_override
				clr_country_flag = EAI_FOCUS/land_doctrine_right_path_override

				set_country_flag = EAI_FOCUS/GB_doctrine_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.1.tt
	}
	option = { name = EAI.100.focus.1.o1 #gb

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 1 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/GB_doctrine_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/GB_doctrine_override

				clr_country_flag = EAI_FOCUS/land_doctrine_left_path_override
				clr_country_flag = EAI_FOCUS/land_doctrine_right_path_override

				if = {
					limit = {
						OR = { has_country_flag = EAI_FOCUS/infantry_design_C_override has_country_flag = EAI_FOCUS/infantry_design_D_override NOT = { has_country_flag = EAI_FOCUS/infantry_design_B has_country_flag = EAI_FOCUS/infantry_design_B_override has_country_flag = EAI_FOCUS/infantry_design_A has_country_flag = EAI_FOCUS/infantry_design_A_override } }
					}
					set_country_flag = EAI_FOCUS/MA_doctrine_override
				}
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.1.tt
	}
	option = { name = EAI.100.focus.1.o1 #ma

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 1 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/MA_doctrine_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/MA_doctrine_override

				clr_country_flag = EAI_FOCUS/land_doctrine_left_path_override
				clr_country_flag = EAI_FOCUS/land_doctrine_right_path_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.1.tt
	}

	option = { name = EAI.100.focus.1.o2 #PATH

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 1 }

			event_target:EAI_AI_customisation = {
				NOT = { has_country_flag = EAI_FOCUS/land_doctrine_right_path_override has_country_flag = EAI_FOCUS/land_doctrine_left_path_override }
				OR = {
					has_country_flag = EAI_FOCUS/MW_doctrine_override
					has_country_flag = EAI_FOCUS/SF_doctrine_override
					has_country_flag = EAI_FOCUS/GB_doctrine_override
					has_country_flag = EAI_FOCUS/MA_doctrine_override
				}
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				set_country_flag = EAI_FOCUS/land_doctrine_right_path_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.1.tt
	}
	option = { name = EAI.100.focus.1.o2 #PATH

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 1 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/land_doctrine_right_path_override
				OR = {
					has_country_flag = EAI_FOCUS/MW_doctrine_override
					has_country_flag = EAI_FOCUS/SF_doctrine_override
					has_country_flag = EAI_FOCUS/GB_doctrine_override
					has_country_flag = EAI_FOCUS/MA_doctrine_override
				}
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/land_doctrine_right_path_override

				set_country_flag = EAI_FOCUS/land_doctrine_left_path_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.1.tt
	}
	option = { name = EAI.100.focus.1.o2 #PATH

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 1 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/land_doctrine_left_path_override
				OR = {
					has_country_flag = EAI_FOCUS/MW_doctrine_override
					has_country_flag = EAI_FOCUS/SF_doctrine_override
					has_country_flag = EAI_FOCUS/GB_doctrine_override
					has_country_flag = EAI_FOCUS/MA_doctrine_override
				}
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/land_doctrine_left_path_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.1.tt
	}

	##################################################### AIR DOCTRINE

	option = { name = EAI.100.focus.2.o1 #-

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 2 }

			event_target:EAI_AI_customisation = {
				NOT = {
					has_country_flag = EAI_FOCUS/SD_doctrine_override
					has_country_flag = EAI_FOCUS/BFS_doctrine_override
					has_country_flag = EAI_FOCUS/OI_doctrine_override
				}
			}
		}

		hidden_effect = {
			if = {
				limit = {
					event_target:EAI_AI_customisation = {
						NOT = {
							is_researching_technology = air_superiority
						    is_researching_technology = formation_flying
							is_researching_technology = force_rotation

							has_tech = infrastructure_destruction is_researching_technology = infrastructure_destruction
							has_tech = home_defence is_researching_technology = home_defence
							has_tech = dive_bombing is_researching_technology = dive_bombing
							has_tech = fighter_baiting is_researching_technology = fighter_baiting
						}
					}
				}
				
				event_target:EAI_AI_customisation = {
					set_country_flag = EAI_FOCUS/SD_doctrine_override
				}
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.2.tt
	}
	option = { name = EAI.100.focus.2.o1 #sd

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 2 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/SD_doctrine_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/SD_doctrine_override

				set_country_flag = EAI_FOCUS/BFS_doctrine_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.2.tt
	}
	option = { name = EAI.100.focus.2.o1 #bfs

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 2 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/BFS_doctrine_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/BFS_doctrine_override

				set_country_flag = EAI_FOCUS/OI_doctrine_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.2.tt
	}
	option = { name = EAI.100.focus.2.o1 #oi

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 2 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/OI_doctrine_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/OI_doctrine_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.2.tt
	}

	##################################################### NAVAL DOCTRINE

	option = { name = EAI.100.focus.3.o1 #-

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 3 }

			event_target:EAI_AI_customisation = {
				NOT = {
					has_country_flag = EAI_FOCUS/FIB_doctrine_override
					has_country_flag = EAI_FOCUS/TI_doctrine_override
					has_country_flag = EAI_FOCUS/BS_doctrine_override
				}
			}
		}

		hidden_effect = {
			if = {
				limit = {
					event_target:EAI_AI_customisation = {
						NOT = {
							is_researching_technology = fleet_in_being
							is_researching_technology = trade_interdiction
							is_researching_technology = base_strike

							has_tech = battlefleet_concentration is_researching_technology = battlefleet_concentration
							has_tech = convoy_sailing is_researching_technology = convoy_sailing
							has_tech = submarine_operations is_researching_technology = submarine_operations

							has_tech = convoy_interdiction_ti is_researching_technology = convoy_interdiction_ti
							has_tech = raider_patrols is_researching_technology = raider_patrols
							has_tech = carrier_operations is_researching_technology = carrier_operations

							has_tech = carrier_primacy is_researching_technology = carrier_primacy
							has_tech = submarine_operations_bs is_researching_technology = submarine_operations_bs
							has_tech = convoy_escorts_bs is_researching_technology = convoy_escorts_bs
						}
					}
				}
				
				event_target:EAI_AI_customisation = {
					set_country_flag = EAI_FOCUS/FIB_doctrine_override
				}
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.3.tt
	}
	option = { name = EAI.100.focus.3.o1 #fib

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 3 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/FIB_doctrine_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/FIB_doctrine_override

				set_country_flag = EAI_FOCUS/TI_doctrine_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.3.tt
	}
	option = { name = EAI.100.focus.3.o1 #ti

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 3 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/TI_doctrine_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/TI_doctrine_override

				set_country_flag = EAI_FOCUS/BS_doctrine_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.3.tt
	}
	option = { name = EAI.100.focus.3.o1 #bs

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 3 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/BS_doctrine_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/BS_doctrine_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.3.tt
	}

	##################################################### INFANTRY DESIGN

	option = { name = EAI.100.focus.4.o1 #-

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 4 }

			event_target:EAI_AI_customisation = {
				NOT = {
					has_country_flag = EAI_FOCUS/infantry_design_A_override
					has_country_flag = EAI_FOCUS/infantry_design_B_override
					has_country_flag = EAI_FOCUS/infantry_design_C_override
					has_country_flag = EAI_FOCUS/infantry_design_D_override
					has_country_flag = EAI_FOCUS/infantry_design_E_override
				}
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				if = { limit = { OR = { has_country_flag = EAI_FOCUS/MW_doctrine_override has_country_flag = EAI_FOCUS/SF_doctrine_override has_country_flag = EAI_FOCUS/GB_doctrine_override NOT = { has_country_flag = EAI_FOCUS/MA_doctrine has_country_flag = EAI_FOCUS/MA_doctrine_override } } }
					set_country_flag = EAI_FOCUS/infantry_design_A_override

					else = {
						set_country_flag = EAI_FOCUS/infantry_design_C_override
					}
				}
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.4.tt
	}
	option = { name = EAI.100.focus.4.o1 #infA

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 4 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/infantry_design_A_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/infantry_design_A_override

				set_country_flag = EAI_FOCUS/infantry_design_B_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.4.tt
	}
	option = { name = EAI.100.focus.4.o1 #infB

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 4 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/infantry_design_B_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/infantry_design_B_override

				set_country_flag = EAI_FOCUS/infantry_design_C_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.4.tt
	}
	option = { name = EAI.100.focus.4.o1 #infC

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 4 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/infantry_design_C_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/infantry_design_C_override

				set_country_flag = EAI_FOCUS/infantry_design_D_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.4.tt
	}
	option = { name = EAI.100.focus.4.o1 #infD

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 4 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/infantry_design_D_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/infantry_design_D_override
				
				set_country_flag = EAI_FOCUS/infantry_design_E_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.4.tt
	}
	option = { name = EAI.100.focus.4.o1 #infE

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 4 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/infantry_design_E_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/infantry_design_E_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.4.tt
	}

	##################################################### ARMOR TYPE

	option = { name = EAI.100.focus.5.o1 #-

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 5 }

			event_target:EAI_AI_customisation = {
				NOT = {
					has_country_flag = EAI_FOCUS/marm_army_focus_override
					has_country_flag = EAI_FOCUS/harm_army_focus_override
					has_country_flag = EAI_FOCUS/anti_tank_army_focus_override
				}
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				if = { limit = { OR = { has_country_flag = EAI_FOCUS/harm_attachment_override has_country_flag = EAI_FOCUS/motorized_attachment_override NOT = { has_country_flag = EAI_FOCUS/marm_attachment has_country_flag = EAI_FOCUS/marm_attachment_override } } }
					set_country_flag = EAI_FOCUS/marm_army_focus_override

					else = {
						set_country_flag = EAI_FOCUS/harm_army_focus_override
					}
				}
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.5.tt
	}
	option = { name = EAI.100.focus.5.o1 #marm

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 5 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/marm_army_focus_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/marm_army_focus_override

				if = { limit = { OR = { has_country_flag = EAI_FOCUS/marm_attachment_override has_country_flag = EAI_FOCUS/motorized_attachment_override NOT = { has_country_flag = EAI_FOCUS/harm_attachment has_country_flag = EAI_FOCUS/harm_attachment_override } } }
					set_country_flag = EAI_FOCUS/harm_army_focus_override

					else = {
						set_country_flag = EAI_FOCUS/anti_tank_army_focus_override
					}
				}
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.5.tt
	}
	option = { name = EAI.100.focus.5.o1 #harm

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 5 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/harm_army_focus_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/harm_army_focus_override

				set_country_flag = EAI_FOCUS/anti_tank_army_focus_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.5.tt
	}
	option = { name = EAI.100.focus.5.o1 #at

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 5 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/anti_tank_army_focus_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/anti_tank_army_focus_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.5.tt
	}
	
	##################################################### ARMOR DESIGN

	option = { name = EAI.100.focus.6.o1 #-

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 6 }

			event_target:EAI_AI_customisation = {
				NOT = {
					has_country_flag = EAI_FOCUS/armor_design_A_override
					has_country_flag = EAI_FOCUS/armor_design_B_override
					has_country_flag = EAI_FOCUS/armor_design_C_override
				}
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				set_country_flag = EAI_FOCUS/armor_design_A_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.6.tt
	}
	option = { name = EAI.100.focus.6.o1 #armA

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 6 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/armor_design_A_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/armor_design_A_override

				set_country_flag = EAI_FOCUS/armor_design_B_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.6.tt
	}
	option = { name = EAI.100.focus.6.o1 #armB

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 6 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/armor_design_B_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/armor_design_B_override

				set_country_flag = EAI_FOCUS/armor_design_C_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.6.tt
	}
	option = { name = EAI.100.focus.6.o1 #armC

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 6 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/armor_design_C_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/armor_design_C_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.6.tt
	}

	option = { name = EAI.100.focus.6.o2 #-

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 6 }

			event_target:EAI_AI_customisation = { NOT = { has_country_flag = EAI_FOCUS/40w_armor_design_0_override has_country_flag = EAI_FOCUS/40w_armor_design_1_override } }
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				set_country_flag = EAI_FOCUS/40w_armor_design_0_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.6.tt
	}
	option = { name = EAI.100.focus.6.o2 #40w

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 6 }

			event_target:EAI_AI_customisation = { has_country_flag = EAI_FOCUS/40w_armor_design_0_override }
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/40w_armor_design_0_override

				set_country_flag = EAI_FOCUS/40w_armor_design_1_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.6.tt
	}
	option = { name = EAI.100.focus.6.o2 #40w

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 6 }

			event_target:EAI_AI_customisation = { has_country_flag = EAI_FOCUS/40w_armor_design_1_override }
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/40w_armor_design_1_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.6.tt
	}

	##################################################### ATTACHMENT

	option = { name = EAI.100.focus.7.o1 #-

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 7 }

			event_target:EAI_AI_customisation = {
				NOT = {
					has_country_flag = EAI_FOCUS/larm_attachment_override
					has_country_flag = EAI_FOCUS/marm_attachment_override
					has_country_flag = EAI_FOCUS/harm_attachment_override
					has_country_flag = EAI_FOCUS/motorized_attachment_override
				}
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				if = { limit = { OR = { has_country_flag = EAI_FOCUS/harm_army_focus_override has_country_flag = EAI_FOCUS/anti_tank_army_focus_override NOT = { has_country_flag = EAI_FOCUS/marm_army_focus has_country_flag = EAI_FOCUS/marm_army_focus_override } } }
					set_country_flag = EAI_FOCUS/marm_attachment_override

					else = {
						set_country_flag = EAI_FOCUS/harm_attachment_override
					}
				}
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.7.tt
	}
	option = { name = EAI.100.focus.7.o1 #marmATT

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 7 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/marm_attachment_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/marm_attachment_override

				if = { limit = { OR = { has_country_flag = EAI_FOCUS/marm_army_focus_override has_country_flag = EAI_FOCUS/anti_tank_army_focus_override NOT = { has_country_flag = EAI_FOCUS/harm_army_focus has_country_flag = EAI_FOCUS/harm_army_focus_override } } }
					set_country_flag = EAI_FOCUS/harm_attachment_override

					else = {
						set_country_flag = EAI_FOCUS/motorized_attachment_override
					}
				}
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.7.tt
	}
	option = { name = EAI.100.focus.7.o1 #harmATT

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 7 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/harm_attachment_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/harm_attachment_override

				set_country_flag = EAI_FOCUS/motorized_attachment_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.7.tt
	}
	option = { name = EAI.100.focus.7.o1 #motATT

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 7 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/motorized_attachment_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/motorized_attachment_override
				
				set_country_flag = EAI_FOCUS/larm_attachment_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.7.tt
	}
	option = { name = EAI.100.focus.7.o1 #larmATT

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 7 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/larm_attachment_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/larm_attachment_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.7.tt
	}

	##################################################### SPEC OPS

	option = { name = EAI.100.focus.8.o1 #-

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 8 }

			event_target:EAI_AI_customisation = {
				NOT = {
					has_country_flag = EAI_FOCUS/no_spec_ops_override
					has_country_flag = EAI_FOCUS/marine_spec_ops_override
					has_country_flag = EAI_FOCUS/mountaineer_spec_ops_override
				}
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				set_country_flag = EAI_FOCUS/no_spec_ops_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.8.tt
	}
	option = { name = EAI.100.focus.8.o1 #none

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 8 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/no_spec_ops_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/no_spec_ops_override

				set_country_flag = EAI_FOCUS/marine_spec_ops_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.8.tt
	}
	option = { name = EAI.100.focus.8.o1 #mar

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 8 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/marine_spec_ops_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/marine_spec_ops_override

				set_country_flag = EAI_FOCUS/mountaineer_spec_ops_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.8.tt
	}
	option = { name = EAI.100.focus.8.o1 #mnt

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 8 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/mountaineer_spec_ops_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/mountaineer_spec_ops_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.8.tt
	}

	##################################################### HEAVY FIGHTER
	
	option = { name = EAI.100.focus.9.o1 #-

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 9 }

			event_target:EAI_AI_customisation = {
				NOT = {
					has_country_flag = EAI_FOCUS/hftr_air_focus_1_override
					has_country_flag = EAI_FOCUS/hftr_air_focus_0_override
				}
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				set_country_flag = EAI_FOCUS/hftr_air_focus_1_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.9.tt
	}
	option = { name = EAI.100.focus.9.o1 #on

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 9 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/hftr_air_focus_1_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/hftr_air_focus_1_override

				set_country_flag = EAI_FOCUS/hftr_air_focus_0_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.9.tt
	}
	option = { name = EAI.100.focus.9.o1 #off

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 9 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/hftr_air_focus_0_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/hftr_air_focus_0_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.9.tt
	}

	##################################################### GROUND SUPPORT

	option = { name = EAI.100.focus.10.o1 #-

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 10 }

			event_target:EAI_AI_customisation = {
				NOT = {
					has_country_flag = EAI_FOCUS/cas_air_focus_override
					has_country_flag = EAI_FOCUS/tac_air_focus_override
				}
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				set_country_flag = EAI_FOCUS/cas_air_focus_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.10.tt
	}
	option = { name = EAI.100.focus.10.o1 #cas

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 10 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/cas_air_focus_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/cas_air_focus_override

				set_country_flag = EAI_FOCUS/tac_air_focus_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.10.tt
	}
	option = { name = EAI.100.focus.10.o1 #tac

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 10 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/tac_air_focus_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/tac_air_focus_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.10.tt
	}

	##################################################### NAVAL BOMBER

	option = { name = EAI.100.focus.11.o1 #-

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 11 }

			event_target:EAI_AI_customisation = {
				NOT = {
					has_country_flag = EAI_FOCUS/nav_air_focus_1_override
					has_country_flag = EAI_FOCUS/nav_air_focus_0_override
				}
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				set_country_flag = EAI_FOCUS/nav_air_focus_1_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.11.tt
	}
	option = { name = EAI.100.focus.11.o1 #on

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 11 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/nav_air_focus_1_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/nav_air_focus_1_override

				set_country_flag = EAI_FOCUS/nav_air_focus_0_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.11.tt
	}
	option = { name = EAI.100.focus.11.o1 #off

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 11 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/nav_air_focus_0_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/nav_air_focus_0_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.11.tt
	}

	##################################################### STRATEGIC BOMBER

	option = { name = EAI.100.focus.12.o1 #-

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 12 }

			event_target:EAI_AI_customisation = {
				NOT = {
					has_country_flag = EAI_FOCUS/str_air_focus_1_override
					has_country_flag = EAI_FOCUS/str_air_focus_0_override
				}
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				set_country_flag = EAI_FOCUS/str_air_focus_1_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.12.tt
	}
	option = { name = EAI.100.focus.12.o1 #on

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 12 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/str_air_focus_1_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/str_air_focus_1_override

				set_country_flag = EAI_FOCUS/str_air_focus_0_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.12.tt
	}
	option = { name = EAI.100.focus.12.o1 #off

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 12 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/str_air_focus_0_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/str_air_focus_0_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.12.tt
	}

	##################################################### DD FOCUS
	
	option = { name = EAI.100.focus.13.o1 #-

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 13 }

			event_target:EAI_AI_customisation = {
				NOT = {
					has_country_flag = EAI_FOCUS/dd_navy_focus_1_override
					has_country_flag = EAI_FOCUS/dd_navy_focus_0_override
				}
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				set_country_flag = EAI_FOCUS/dd_navy_focus_1_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.13.tt
	}
	option = { name = EAI.100.focus.13.o1 #on

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 13 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/dd_navy_focus_1_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/dd_navy_focus_1_override

				set_country_flag = EAI_FOCUS/dd_navy_focus_0_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.13.tt
	}
	option = { name = EAI.100.focus.13.o1 #off

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 13 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/dd_navy_focus_0_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/dd_navy_focus_0_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.13.tt
	}

	##################################################### CL FOCUS
	
	option = { name = EAI.100.focus.14.o1 #-

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 14 }

			event_target:EAI_AI_customisation = {
				NOT = {
					has_country_flag = EAI_FOCUS/cl_navy_focus_1_override
					has_country_flag = EAI_FOCUS/cl_navy_focus_0_override
				}
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				set_country_flag = EAI_FOCUS/cl_navy_focus_1_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.14.tt
	}
	option = { name = EAI.100.focus.14.o1 #on

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 14 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/cl_navy_focus_1_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/cl_navy_focus_1_override

				set_country_flag = EAI_FOCUS/cl_navy_focus_0_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.14.tt
	}
	option = { name = EAI.100.focus.14.o1 #off

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 14 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/cl_navy_focus_0_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/cl_navy_focus_0_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.14.tt
	}

	##################################################### CA FOCUS
	
	option = { name = EAI.100.focus.15.o1 #-

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 15 }

			event_target:EAI_AI_customisation = {
				NOT = {
					has_country_flag = EAI_FOCUS/ca_navy_focus_1_override
					has_country_flag = EAI_FOCUS/ca_navy_focus_0_override
				}
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				set_country_flag = EAI_FOCUS/ca_navy_focus_1_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.15.tt
	}
	option = { name = EAI.100.focus.15.o1 #on

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 15 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/ca_navy_focus_1_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/ca_navy_focus_1_override

				set_country_flag = EAI_FOCUS/ca_navy_focus_0_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.15.tt
	}
	option = { name = EAI.100.focus.15.o1 #off

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 15 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/ca_navy_focus_0_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/ca_navy_focus_0_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.15.tt
	}

	##################################################### BC FOCUS

	option = { name = EAI.100.focus.16.o1 #-

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 16 }

			event_target:EAI_AI_customisation = {
				NOT = {
					has_country_flag = EAI_FOCUS/bc_navy_focus_1_override
					has_country_flag = EAI_FOCUS/bc_navy_focus_0_override
				}
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				set_country_flag = EAI_FOCUS/bc_navy_focus_1_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.16.tt
	}
	option = { name = EAI.100.focus.16.o1 #on

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 16 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/bc_navy_focus_1_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/bc_navy_focus_1_override

				set_country_flag = EAI_FOCUS/bc_navy_focus_0_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.16.tt
	}
	option = { name = EAI.100.focus.16.o1 #off

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 16 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/bc_navy_focus_0_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/bc_navy_focus_0_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.16.tt
	}

	##################################################### BB FOCUS

	option = { name = EAI.100.focus.17.o1 #-

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 17 }

			event_target:EAI_AI_customisation = {
				NOT = {
					has_country_flag = EAI_FOCUS/bb_navy_focus_1_override
					has_country_flag = EAI_FOCUS/bb_navy_focus_0_override
				}
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				set_country_flag = EAI_FOCUS/bb_navy_focus_1_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.17.tt
	}
	option = { name = EAI.100.focus.17.o1 #on

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 17 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/bb_navy_focus_1_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/bb_navy_focus_1_override

				set_country_flag = EAI_FOCUS/bb_navy_focus_0_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.17.tt
	}
	option = { name = EAI.100.focus.17.o1 #off

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 17 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/bb_navy_focus_0_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/bb_navy_focus_0_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.17.tt
	}

	##################################################### CV FOCUS

	option = { name = EAI.100.focus.18.o1 #-

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 18 }

			event_target:EAI_AI_customisation = {
				NOT = {
					has_country_flag = EAI_FOCUS/cv_navy_focus_1_override
					has_country_flag = EAI_FOCUS/cv_navy_focus_0_override
				}
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				set_country_flag = EAI_FOCUS/cv_navy_focus_1_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.18.tt
	}
	option = { name = EAI.100.focus.18.o1 #on

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 18 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/cv_navy_focus_1_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/cv_navy_focus_1_override

				set_country_flag = EAI_FOCUS/cv_navy_focus_0_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.18.tt
	}
	option = { name = EAI.100.focus.18.o1 #off

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 18 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/cv_navy_focus_0_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/cv_navy_focus_0_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.18.tt
	}

	##################################################### SS FOCUS

	option = { name = EAI.100.focus.19.o1 #-

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 19 }

			event_target:EAI_AI_customisation = {
				NOT = {
					has_country_flag = EAI_FOCUS/ss_navy_focus_1_override
					has_country_flag = EAI_FOCUS/ss_navy_focus_0_override
				}
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				set_country_flag = EAI_FOCUS/ss_navy_focus_1_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.19.tt
	}
	option = { name = EAI.100.focus.19.o1 #on

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 19 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/ss_navy_focus_1_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/ss_navy_focus_1_override

				set_country_flag = EAI_FOCUS/ss_navy_focus_0_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.19.tt
	}
	option = { name = EAI.100.focus.19.o1 #off

		trigger = {
			check_variable = { EAI_configuring_army_focuses_category = 19 }

			event_target:EAI_AI_customisation = {
				has_country_flag = EAI_FOCUS/ss_navy_focus_0_override
			}
		}

		hidden_effect = {
			event_target:EAI_AI_customisation = {
				clr_country_flag = EAI_FOCUS/ss_navy_focus_0_override
			}

			country_event = EAI.100
		}

		custom_effect_tooltip = EAI.100.focus.19.tt
	}

	#####################################################
	
	option = { name = EAI.100.confirm

		trigger = { 
			has_country_flag = EAI_player_is_configuring_army_focuses 
			
			event_target:EAI_AI_customisation = { EAI_has_override_focuses = yes } 
			
			if = { limit = { date > 1936.1.7 has_country_flag = EAI_player_has_AI_army_config_open_DIPLOMATIC }
				event_target:EAI_AI_customisation = { ROOT = { NOT = { command_power < EAI_config_cp_cost_@PREV } } }
			}
		}

		hidden_effect = {
			clear_variable = EAI_configuring_army_focuses_category
			
			clr_country_flag = EAI_player_is_configuring_army_focuses

			if = { limit = { NOT = { has_country_flag = EAI_player_has_AI_army_config_open_DIPLOMATIC } }

				event_target:EAI_AI_customisation = {
					EAI_clear_modified_focuses = yes

					clr_country_flag = EAI_army_config_triggered
				}
			}
			else_if = { limit = { NOT = { date > 1936.1.7 } } #diplo config for the first week is free
				event_target:EAI_AI_customisation = {
					EAI_clear_modified_focuses = yes
		
					clr_country_flag = EAI_army_config_triggered
				}
			}
			else_if = { limit = { event_target:EAI_AI_customisation = { ROOT = { NOT = { command_power < EAI_config_cp_cost_@PREV } } } }
				event_target:EAI_AI_customisation = {
					EAI_clear_modified_focuses = yes
		
					clr_country_flag = EAI_army_config_triggered
				}
			}
			else = { event_target:EAI_AI_customisation = { EAI_clear_all_override_focuses = yes } }

			country_event = EAI.100
		}

		if = { limit = { date > 1936.1.7 has_country_flag = EAI_player_has_AI_army_config_open_DIPLOMATIC }

			event_target:EAI_AI_customisation = {
				ROOT = { add_command_power = EAI_config_cp_cost_effect_@PREV }
			}
		}
	}
	option = { name = EAI.100.cancel

		trigger = { has_country_flag = EAI_player_is_configuring_army_focuses }

		hidden_effect = {
			clear_variable = EAI_configuring_army_focuses_category
			
			clr_country_flag = EAI_player_is_configuring_army_focuses

			event_target:EAI_AI_customisation = {
				EAI_clear_all_override_focuses = yes
			}

			country_event = EAI.100
		}
	}

	#####################################################

	option = { name = EAI.100.exit

		trigger = { NOT = { has_country_flag = EAI_player_is_configuring_army_focuses } }

		hidden_effect = {
			if = { limit = { has_country_flag = EAI_player_has_AI_army_config_open_DIPLOMATIC }
				clr_country_flag = EAI_player_has_AI_army_config_open_DIPLOMATIC

				event_target:EAI_AI_customisation = { clr_country_flag = EAI_player_is_configuring_this_country country_event = EAI_CFG.0 }

				else = { country_event = EAI.10 }
			}
		}
	}
}

country_event = { # check stockpile
	id = EAI.103
	title = EAI.103.t
	desc = EAI.103.d
	picture = GFX_report_event_expert_ai
	is_triggered_only = yes
	
	option = { name = EAI.103.o1 
	
		hidden_effect = {
			country_event = EAI.100
		}
	}
}