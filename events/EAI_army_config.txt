add_namespace = EAI_CFG

############################################################################################################
# Expert AI mod - AI army config events
############################################################################################################

country_event = { #land doctrine
	id = EAI_CFG.0
	title = ""
	desc = ""

	mean_time_to_happen = { days = 20 }

	trigger = {
		is_ai = yes
		NOT = {
			has_country_flag = EAI_army_config_triggered
			has_country_flag = EAI_player_is_configuring_this_country
		}
	}

	immediate = {
		set_country_flag = EAI_army_config_triggered
		set_country_flag = EAI_AI_is_configuring_this_country
	}

	option = { name = EAI_MW_doctrine

		trigger = {
			OR = {
				EAI_MW_doctrine = yes
				NOT = { EAI_MW_doctrine = yes EAI_SF_doctrine = yes EAI_GB_doctrine = yes EAI_MA_doctrine = yes }
			}
			NOT = { has_country_flag = EAI_FOCUS/MW_doctrine has_country_flag = EAI_FOCUS/SF_doctrine has_country_flag = EAI_FOCUS/GB_doctrine has_country_flag = EAI_FOCUS/MA_doctrine }
			
			######### copy from original country
			NOT = {
				AND = {
					EAI_civil_war_country = yes 
			
					NOT = { EAI_has_override_focuses = yes }
					
					any_other_country = { is_ai = yes has_country_flag = EAI_army_config_triggered NOT = { has_country_flag = EAI_player_is_configuring_this_country has_country_flag = EAI_AI_is_configuring_this_country } ROOT = { original_tag = PREV } }
				}
			}
		}

		ai_chance = {
			factor = 1
		}

		set_country_flag = EAI_FOCUS/MW_doctrine

		if = { limit = { OR = { has_tech = superior_firepower has_tech = trench_warfare has_tech = mass_assault } }
			#set_technology = { mobile_warfare = 0 }
			set_technology = { superior_firepower = 0 }
			set_technology = { trench_warfare = 0 }
			set_technology = { mass_assault = 0 }
		}
		
		country_event = { id = EAI_CFG.1 hours = 1 }
	}

	option = { name = EAI_SF_doctrine

		trigger = {
			OR = {
				EAI_SF_doctrine = yes
				NOT = { EAI_MW_doctrine = yes EAI_SF_doctrine = yes EAI_GB_doctrine = yes EAI_MA_doctrine = yes }
			}
			NOT = { has_country_flag = EAI_FOCUS/MW_doctrine has_country_flag = EAI_FOCUS/SF_doctrine has_country_flag = EAI_FOCUS/GB_doctrine has_country_flag = EAI_FOCUS/MA_doctrine }
			
			######### copy from original country
			NOT = {
				AND = {
					EAI_civil_war_country = yes 
			
					NOT = { EAI_has_override_focuses = yes }
					
					any_other_country = { is_ai = yes has_country_flag = EAI_army_config_triggered NOT = { has_country_flag = EAI_player_is_configuring_this_country has_country_flag = EAI_AI_is_configuring_this_country } ROOT = { original_tag = PREV } }
				}
			}
		}

		ai_chance = {
			factor = 2
			modifier = { factor = 5 NOT = { EAI_major_country = yes } }
		}

		set_country_flag = EAI_FOCUS/SF_doctrine

		if = { limit = { OR = { has_tech = mobile_warfare has_tech = trench_warfare has_tech = mass_assault } }
			set_technology = { mobile_warfare = 0 }
			#set_technology = { superior_firepower = 0 }
			set_technology = { trench_warfare = 0 }
			set_technology = { mass_assault = 0 }
		}
		
		country_event = { id = EAI_CFG.1 hours = 1 }
	}

	option = { name = EAI_GB_doctrine

		trigger = {
			OR = {
				EAI_GB_doctrine = yes
				NOT = { EAI_MW_doctrine = yes EAI_SF_doctrine = yes EAI_GB_doctrine = yes EAI_MA_doctrine = yes }
			}
			NOT = { has_country_flag = EAI_FOCUS/MW_doctrine has_country_flag = EAI_FOCUS/SF_doctrine has_country_flag = EAI_FOCUS/GB_doctrine has_country_flag = EAI_FOCUS/MA_doctrine }
			
			######### copy from original country
			NOT = {
				AND = {
					EAI_civil_war_country = yes 
			
					NOT = { EAI_has_override_focuses = yes }
					
					any_other_country = { is_ai = yes has_country_flag = EAI_army_config_triggered NOT = { has_country_flag = EAI_player_is_configuring_this_country has_country_flag = EAI_AI_is_configuring_this_country } ROOT = { original_tag = PREV } }
				}
			}
		}

		ai_chance = {
			factor = 2
			modifier = { factor = 5 NOT = { EAI_major_country = yes } }
		}

		set_country_flag = EAI_FOCUS/GB_doctrine

		if = { limit = { OR = { has_tech = mobile_warfare has_tech = superior_firepower has_tech = mass_assault } }
			set_technology = { mobile_warfare = 0 }
			set_technology = { superior_firepower = 0 }
			#set_technology = { trench_warfare = 0 }
			set_technology = { mass_assault = 0 }
		}
		
		country_event = { id = EAI_CFG.1 hours = 1 }
	}

	option = { name = EAI_MA_doctrine

		trigger = {
			OR = {
				EAI_MA_doctrine = yes
				NOT = { EAI_MW_doctrine = yes EAI_SF_doctrine = yes EAI_GB_doctrine = yes EAI_MA_doctrine = yes }
			}
			NOT = { has_country_flag = EAI_FOCUS/MW_doctrine has_country_flag = EAI_FOCUS/SF_doctrine has_country_flag = EAI_FOCUS/GB_doctrine has_country_flag = EAI_FOCUS/MA_doctrine }
			NOT = { #incompatible
				has_country_flag = EAI_FOCUS/infantry_width_26w has_country_flag = EAI_FOCUS/infantry_width_26w_override
			}
			
			######### copy from original country
			NOT = {
				AND = {
					EAI_civil_war_country = yes 
			
					NOT = { EAI_has_override_focuses = yes }
					
					any_other_country = { is_ai = yes has_country_flag = EAI_army_config_triggered NOT = { has_country_flag = EAI_player_is_configuring_this_country has_country_flag = EAI_AI_is_configuring_this_country } ROOT = { original_tag = PREV } }
				}
			}
		}

		ai_chance = {
			factor = 1
			
			modifier = { factor = 2 original_tag = SOV }
		}

		set_country_flag = EAI_FOCUS/MA_doctrine
		
		if = { limit = { OR = { has_tech = mobile_warfare has_tech = superior_firepower has_tech = trench_warfare } }
			set_technology = { mobile_warfare = 0 }
			set_technology = { superior_firepower = 0 }
			set_technology = { trench_warfare = 0 }
			#set_technology = { mass_assault = 0 }
		}
		
		country_event = { id = EAI_CFG.1 hours = 1 }
	}

	option = { name = skip
	
		trigger = { 
			OR = { has_country_flag = EAI_FOCUS/MW_doctrine has_country_flag = EAI_FOCUS/SF_doctrine has_country_flag = EAI_FOCUS/GB_doctrine has_country_flag = EAI_FOCUS/MA_doctrine }
		
			######### copy from original country
			NOT = {
				AND = {
					EAI_civil_war_country = yes 
			
					NOT = { EAI_has_override_focuses = yes }
					
					any_other_country = { is_ai = yes has_country_flag = EAI_army_config_triggered NOT = { has_country_flag = EAI_player_is_configuring_this_country has_country_flag = EAI_AI_is_configuring_this_country } ROOT = { original_tag = PREV } }
				}
			}
		}
		
		country_event = { id = EAI_CFG.1 hours = 1 }
	}
	
	option = { name = copy
	
		trigger = { # copy focuses from the original country
			EAI_civil_war_country = yes 
			
			NOT = { EAI_has_override_focuses = yes }
			
			any_other_country = { is_ai = yes has_country_flag = EAI_army_config_triggered NOT = { has_country_flag = EAI_player_is_configuring_this_country has_country_flag = EAI_AI_is_configuring_this_country } ROOT = { original_tag = PREV } }
		}
		
		random_other_country = { limit = { ROOT = { original_tag = PREV }  } EAI_copy_focuses = yes }
		
		clr_country_flag = EAI_AI_is_configuring_this_country
	}
}

country_event = { #infantry design
	id = EAI_CFG.1
	title = ""
	desc = ""
	is_triggered_only = yes

	option = { name = EAI_infantry_design_A # pure infantry

		trigger = {
			OR = {
				EAI_infantry_design_A = yes

				NOT = {
					EAI_infantry_design_A = yes
					EAI_infantry_design_B = yes
					EAI_infantry_design_C = yes
				}
			}
		}

		ai_chance = {
			factor = 1
		}

		set_country_flag = EAI_FOCUS/infantry_design_A
		
		country_event = { id = EAI_CFG.102 hours = 1 }
	}

	option = { name = EAI_infantry_design_B # 7/2 infantry

		trigger = {
			OR = {
				EAI_infantry_design_B = yes

				NOT = {
					EAI_infantry_design_A = yes
					EAI_infantry_design_B = yes
					EAI_infantry_design_C = yes
				}
			}
		}

		ai_chance = {
			factor = 2

			modifier = { factor = 1.5 is_major = no }
		}

		set_country_flag = EAI_FOCUS/infantry_design_B
		
		country_event = { id = EAI_CFG.102 hours = 1 }
	}

	option = { name = EAI_infantry_design_C # 4/4 infantry

		trigger = {
			EAI_infantry_design_C = yes
		}

		ai_chance = {
			factor = 1

			modifier = { factor = 4 EAI_prefer_artillery_design = yes } # country has a lvl 2-3 arty advisor
		}

		set_country_flag = EAI_FOCUS/infantry_design_C
		
		country_event = { id = EAI_CFG.102 hours = 1 }
	}
}

country_event = { #infantry width
	id = EAI_CFG.102
	title = ""
	desc = ""
	is_triggered_only = yes

	option = { name = EAI_infantry_width_20w

		trigger = {
			OR = {
				EAI_infantry_width_20w = yes

				NOT = {
					EAI_infantry_width_20w = yes
					EAI_infantry_width_26w = yes
					EAI_infantry_width_40w = yes
					EAI_infantry_width_10w = yes
				}
			}
		}

		ai_chance = {
			factor = 2
		}

		set_country_flag = EAI_FOCUS/infantry_width_20w
		
		country_event = { id = EAI_CFG.2 hours = 1 }
	}

	option = { name = EAI_infantry_width_26w

		trigger = {
			OR = {
				EAI_infantry_width_26w = yes

				NOT = {
					EAI_infantry_width_20w = yes
					EAI_infantry_width_26w = yes
					EAI_infantry_width_40w = yes
					EAI_infantry_width_10w = yes
				}
			}

			NOT = { has_country_flag = EAI_FOCUS/MA_doctrine } #incompatible
		}

		ai_chance = {
			factor = 2
		}

		set_country_flag = EAI_FOCUS/infantry_width_26w
		
		country_event = { id = EAI_CFG.2 hours = 1 }
	}

	option = { name = EAI_infantry_width_40w

		trigger = {
			EAI_infantry_width_40w = yes
		}

		ai_chance = {
			factor = 1
		}

		set_country_flag = EAI_FOCUS/infantry_width_40w
		
		country_event = { id = EAI_CFG.2 hours = 1 }
	}

	option = { name = EAI_infantry_width_10w

		trigger = {
			EAI_infantry_width_10w = yes
		}

		ai_chance = {
			factor = 1
		}

		set_country_flag = EAI_FOCUS/infantry_width_10w
		
		country_event = { id = EAI_CFG.2 hours = 1 }
	}
}

country_event = { #armor type
	id = EAI_CFG.2
	title = ""
	desc = ""
	is_triggered_only = yes

	option = { name = EAI_marm_army_focus

		trigger = {
			OR = {
				EAI_marm_army_focus = yes
				NOT = { EAI_marm_army_focus = yes EAI_harm_army_focus = yes EAI_anti_tank_army_focus = yes }
			}
			NOT = { #incompatible
				has_country_flag = EAI_FOCUS/marm_attachment has_country_flag = EAI_FOCUS/marm_attachment_override
			}
		}

		ai_chance = {
			factor = 1.15
			modifier = { factor = 1.5 EAI_Armor_Research_Focus_PRESET = yes }
			modifier = { factor = 5 tungsten > 30 NOT = { EAI_major_country = yes } } #minors with a lot of tungsten prefer medium armor
			modifier = { #countries with an armor advisor
				factor = 2
				OR = {
					has_idea_with_trait = army_armored_2 has_available_idea_with_traits = { idea = army_armored_2 limit = 1 }
					has_idea_with_trait = army_armored_3 has_available_idea_with_traits = { idea = army_armored_3 limit = 1 }
				}
			}
		}

		set_country_flag = EAI_FOCUS/anti_tank_design_MTD

		set_country_flag = EAI_FOCUS/marm_army_focus
		
		country_event = { id = EAI_CFG.4 hours = 1 }
	}

	option = { name = EAI_harm_army_focus

		trigger = {
			OR = {
				EAI_harm_army_focus = yes
				NOT = { EAI_marm_army_focus = yes EAI_harm_army_focus = yes EAI_anti_tank_army_focus = yes }
			}
			NOT = { #incompatible
				has_country_flag = EAI_FOCUS/harm_attachment has_country_flag = EAI_FOCUS/harm_attachment_override
			}
		}

		ai_chance = {
			factor = 1

			modifier = { factor = 1.5 EAI_Armor_Research_Focus_PRESET = yes }
			modifier = { factor = 5 chromium > 30 NOT = { EAI_major_country = yes } } #minors with a lot of chromium prefer heavy armor
			modifier = { factor = 0.1 NOT = { chromium > 15 } NOT = { EAI_major_country = yes } } #if a minor doesn't have chromium, prefer medium armor
			modifier = { factor = 5 tag = FRA }
			modifier = { #countries with an armor advisor
				factor = 2
				OR = {
					has_idea_with_trait = army_armored_2 has_available_idea_with_traits = { idea = army_armored_2 limit = 1 }
					has_idea_with_trait = army_armored_3 has_available_idea_with_traits = { idea = army_armored_3 limit = 1 }
				}
			}
		}

		set_country_flag = EAI_FOCUS/anti_tank_design_HTD

		set_country_flag = EAI_FOCUS/harm_army_focus
		
		country_event = { id = EAI_CFG.4 hours = 1 }
	}

	option = { name = EAI_anti_tank_army_focus

		trigger = {
			OR = {
				EAI_anti_tank_army_focus = yes
				NOT = { EAI_marm_army_focus = yes EAI_harm_army_focus = yes EAI_anti_tank_army_focus = yes }
			}
		}

		ai_chance = {
			factor = 1
			modifier = { factor = 5 NOT = { chromium > 30 tungsten > 30 } NOT = { EAI_major_country = yes } } #a minor without tungsten or chromium favors AT armies

			modifier = { factor = 0.1 has_country_flag = EAI_FOCUS/MW_doctrine }
			modifier = { factor = 2 has_country_flag = EAI_FOCUS/SF_doctrine }
			modifier = { factor = 2 has_country_flag = EAI_FOCUS/GB_doctrine }
		}

		set_country_flag = EAI_FOCUS/anti_tank_army_focus
		
		country_event = { id = EAI_CFG.4 hours = 1 }
	}
}

country_event = { #armor design
	id = EAI_CFG.4
	title = ""
	desc = ""
	is_triggered_only = yes

	option = { name = EAI_armor_design_A

		trigger = {
			OR = {
				EAI_armor_design_A = yes
				NOT = { EAI_armor_design_A = yes EAI_armor_design_B = yes EAI_armor_design_C = yes }
			}
		}

		ai_chance = {
			factor = 1
			modifier = { factor = 10 OR = { tag = SOV tag = GER } }
		}

		set_country_flag = EAI_FOCUS/armor_design_A
		set_country_flag = EAI_FOCUS/harm_design_A
		set_country_flag = EAI_FOCUS/marm_design_A
		
		country_event = { id = EAI_CFG.5 hours = 1 }
	}

	option = { name = EAI_armor_design_B

		trigger = {
			OR = {
				EAI_armor_design_B = yes
				NOT = { EAI_armor_design_A = yes EAI_armor_design_B = yes EAI_armor_design_C = yes }
			}
		}

		ai_chance = {
			factor = 1
			modifier = { factor = 10 OR = { tag = SOV tag = GER } }
		}

		set_country_flag = EAI_FOCUS/armor_design_B
		set_country_flag = EAI_FOCUS/harm_design_B
		set_country_flag = EAI_FOCUS/marm_design_B
		
		country_event = { id = EAI_CFG.5 hours = 1 }
	}

	option = { name = EAI_armor_design_C

		trigger = {
			OR = {
				EAI_armor_design_C = yes
				NOT = { EAI_armor_design_A = yes EAI_armor_design_B = yes EAI_armor_design_C = yes }
			}
		}

		ai_chance = {
			factor = 1
		}

		set_country_flag = EAI_FOCUS/armor_design_C
		set_country_flag = EAI_FOCUS/harm_design_C
		set_country_flag = EAI_FOCUS/marm_design_C

		country_event = { id = EAI_CFG.5 hours = 1 }
	}
}

country_event = { #armor width
	id = EAI_CFG.5
	title = ""
	desc = ""
	is_triggered_only = yes

	option = { name = EAI_40w_armor_design_1

		trigger = {
			OR = {
				EAI_40w_armor_design = yes
				NOT = { EAI_40w_armor_design = yes EAI_20w_armor_design = yes }
			}
		}

		ai_chance = {
			factor = 1
			modifier = { factor = 2 OR = { has_country_flag = EAI_FOCUS/marm_army_focus has_country_flag = EAI_FOCUS/harm_army_focus } }
			modifier = { factor = 2 has_country_flag = EAI_FOCUS/MW_doctrine }
			modifier = { factor = 0.25 NOT = { EAI_major_country = yes } }
		}

		set_country_flag = EAI_FOCUS/40w_armor_design_1
		
		country_event = { id = EAI_CFG.6 hours = 1 }
	}

	option = { name = EAI_40w_armor_design_0

		trigger = {
			OR = {
				EAI_20w_armor_design = yes
				NOT = { EAI_40w_armor_design = yes EAI_20w_armor_design = yes }
			}
		}

		ai_chance = {
			factor = 1	
		}
		
		set_country_flag = EAI_FOCUS/40w_armor_design_0

		country_event = { id = EAI_CFG.6 hours = 1 }
	}
}

country_event = { #attachment
	id = EAI_CFG.6
	title = ""
	desc = ""
	is_triggered_only = yes

	option = { name = EAI_motorized_attachment

		trigger = {
			OR = {
				EAI_motorized_attachment = yes
				NOT = { EAI_motorized_attachment = yes EAI_marm_attachment = yes EAI_harm_attachment = yes EAI_larm_attachment = yes }
			}
		}

		ai_chance = {
			factor = 1
			modifier = { factor = 5 tag = FRA } #france prefers early AT
			modifier = { #countries with a motorized advisor
				factor = 2
				OR = {
					has_idea_with_trait = army_cavalry_2 has_available_idea_with_traits = { idea = army_cavalry_2 limit = 1 }
					has_idea_with_trait = army_cavalry_3 has_available_idea_with_traits = { idea = army_cavalry_3 limit = 1 }
				}
			}
			modifier = { factor = 2 NOT = { EAI_Armor_Research_Focus_PRESET = yes } }
		}

		if = { limit = { has_country_flag = EAI_FOCUS/anti_tank_army_focus }
			set_country_flag = EAI_FOCUS/anti_tank_design_AT #uses regular line artillery AT divisions
		}

		set_country_flag = EAI_FOCUS/motorized_attachment
		
		country_event = { id = EAI_CFG.7 hours = 1 }
	}

	option = { name = EAI_harm_attachment

		trigger = {
			NOT = { has_country_flag = EAI_FOCUS/harm_army_focus has_country_flag = EAI_FOCUS/harm_army_focus_override } #incompatible
			OR = {
				EAI_harm_attachment = yes
				NOT = { EAI_motorized_attachment = yes EAI_marm_attachment = yes EAI_harm_attachment = yes EAI_larm_attachment = yes }
			}
		}

		ai_chance = {
			factor = 1
			modifier = { factor = 5 tag = FRA } #france prefers early AT
			modifier = {
				factor = 2
				NOT = { EAI_major_country = yes }
				chromium > 10
				OR = {
					has_idea_with_trait = army_armored_2 has_available_idea_with_traits = { idea = army_armored_2 limit = 1 }
					has_idea_with_trait = army_armored_3 has_available_idea_with_traits = { idea = army_armored_3 limit = 1 }
				}
			}
		}

		if = { limit = { has_country_flag = EAI_FOCUS/anti_tank_army_focus }
			set_country_flag = EAI_FOCUS/anti_tank_design_HTD #uses HTD AT divisions
		}

		set_country_flag = EAI_FOCUS/harm_attachment
		
		country_event = { id = EAI_CFG.7 hours = 1 }
	}

	option = { name = EAI_marm_attachment

		trigger = {
			NOT = { has_country_flag = EAI_FOCUS/marm_army_focus has_country_flag = EAI_FOCUS/marm_army_focus_override } #incompatible
			OR = {
				EAI_marm_attachment = yes
				NOT = { EAI_motorized_attachment = yes EAI_marm_attachment = yes EAI_harm_attachment = yes EAI_larm_attachment = yes }
			}
		}

		ai_chance = {
			factor = 1
			modifier = {
				factor = 2
				NOT = { EAI_major_country = yes }
				tungsten > 10
				OR = {
					has_idea_with_trait = army_armored_2 has_available_idea_with_traits = { idea = army_armored_2 limit = 1 }
					has_idea_with_trait = army_armored_3 has_available_idea_with_traits = { idea = army_armored_3 limit = 1 }
				}
			}
		}

		if = { limit = { has_country_flag = EAI_FOCUS/anti_tank_army_focus }
			set_country_flag = EAI_FOCUS/anti_tank_design_MTD #uses MTD AT divisions
		}

		set_country_flag = EAI_FOCUS/marm_attachment
		
		country_event = { id = EAI_CFG.7 hours = 1 }
	}
	
	option = { name = EAI_larm_attachment

		trigger = {
			OR = {
				EAI_larm_attachment = yes
				NOT = { EAI_motorized_attachment = yes EAI_marm_attachment = yes EAI_harm_attachment = yes EAI_larm_attachment = yes }
			}
		}

		ai_chance = {
			factor = 1
			modifier = {
				factor = 2
				NOT = { EAI_major_country = yes }
				OR = {
					has_idea_with_trait = army_armored_2 has_available_idea_with_traits = { idea = army_armored_2 limit = 1 }
					has_idea_with_trait = army_armored_3 has_available_idea_with_traits = { idea = army_armored_3 limit = 1 }
				}
			}
		}

		if = { limit = { has_country_flag = EAI_FOCUS/anti_tank_army_focus }
			set_country_flag = EAI_FOCUS/anti_tank_design_AT #uses regular line artillery AT divisions
		}

		set_country_flag = EAI_FOCUS/larm_attachment
		
		country_event = { id = EAI_CFG.7 hours = 1 }
	}
}

country_event = { #mot design
	id = EAI_CFG.7
	title = ""
	desc = ""
	is_triggered_only = yes

	option = { name = EAI_motorized_design_A

		trigger = { has_country_flag = EAI_FOCUS/motorized_attachment has_country_flag = EAI_FOCUS/marm_army_focus }

		ai_chance = {
			factor = 5
			modifier = { factor = 20 tag = GER }
		}

		set_country_flag = EAI_FOCUS/motorized_design_A #MSPART
		
		country_event = { id = EAI_CFG.8 hours = 1 }
	}

	option = { name = EAI_motorized_design_B

		trigger = { has_country_flag = EAI_FOCUS/motorized_attachment NOT = { has_country_flag = EAI_FOCUS/larm_attachment } }

		ai_chance = {
			factor = 1
			modifier = { factor = 20 tag = SOV }
		}

		set_country_flag = EAI_FOCUS/motorized_design_B #MOTART
		
		country_event = { id = EAI_CFG.8 hours = 1 }
	}

	option = { name = EAI_motorized_design_C

		trigger = { has_country_flag = EAI_FOCUS/motorized_attachment OR = { has_country_flag = EAI_FOCUS/anti_tank_army_focus has_country_flag = EAI_FOCUS/larm_attachment } }

		ai_chance = {
			factor = 1
		}

		set_country_flag = EAI_FOCUS/motorized_design_C #LSPART
		
		country_event = { id = EAI_CFG.8 hours = 1 }
	}

	option = { name = skip

		trigger = { NOT = { has_country_flag = EAI_FOCUS/motorized_attachment } }

		ai_chance = {
			factor = 1
		}

		country_event = { id = EAI_CFG.8 hours = 1 }
	}
}

country_event = { #spec ops
	id = EAI_CFG.8
	title = ""
	desc = ""
	is_triggered_only = yes

	option = { name = EAI_marine_spec_ops
	
		trigger = {
			EAI_marine_spec_ops = yes
		}
		
		set_country_flag = EAI_FOCUS/marine_spec_ops

		country_event = { id = EAI_CFG.9 hours = 1 }
	}
	
	option = { name = EAI_mountaineer_spec_ops
	
		trigger = {
			EAI_mountaineer_spec_ops = yes
		}

		set_country_flag = EAI_FOCUS/mountaineer_spec_ops
		
		country_event = { id = EAI_CFG.9 hours = 1 }
	}
	
	option = { name = EAI_no_spec_ops

		trigger = {
			OR = {
				EAI_no_spec_ops = yes
				NOT = { EAI_marine_spec_ops = yes EAI_mountaineer_spec_ops = yes EAI_no_spec_ops = yes }
			}
		}
		
		set_country_flag = EAI_FOCUS/no_spec_ops
	
		country_event = { id = EAI_CFG.9 hours = 1 }
	}
}

country_event = { #hftr
	id = EAI_CFG.9
	title = ""
	desc = ""
	is_triggered_only = yes

	option = { name = EAI_hftr_air_focus_1

		trigger = {
			EAI_hftr_air_focus_1 = yes
		}

		ai_chance = {
			factor = 1
		}

		set_country_flag = EAI_FOCUS/hftr_air_focus_1
		
		country_event = { id = EAI_CFG.10 hours = 1 }
	}

	option = { name = EAI_hftr_air_focus_0

		trigger = {
			OR = {
				EAI_hftr_air_focus_0 = yes
				NOT = { EAI_hftr_air_focus_1 = yes EAI_hftr_air_focus_0 = yes }
			}
		}

		ai_chance = {
			factor = 2
		}
		
		set_country_flag = EAI_FOCUS/hftr_air_focus_0

		country_event = { id = EAI_CFG.10 hours = 1 }
	}
}

country_event = { #cas/tac
	id = EAI_CFG.10
	title = ""
	desc = ""
	is_triggered_only = yes

	option = { name = EAI_cas_air_focus

		trigger = {
			OR = {
				EAI_cas_air_focus = yes
				NOT = { EAI_cas_air_focus = yes EAI_tac_air_focus = yes }
			}
		}

		ai_chance = {
			factor = 1
			modifier = { factor = 1.5 NOT = { EAI_major_country = yes } } #minors prefer cas
			modifier = { factor = 1.5 OR = { tag = GER tag = SOV } } #ger/sov prefer cas
		}

		set_country_flag = EAI_FOCUS/cas_air_focus
		
		country_event = { id = EAI_CFG.11 hours = 1 }
	}

	option = { name = EAI_tac_air_focus

		trigger = {
			OR = {
				EAI_tac_air_focus = yes
				NOT = { EAI_cas_air_focus = yes EAI_tac_air_focus = yes }
			}
		}

		ai_chance = { factor = 1 }

		set_country_flag = EAI_FOCUS/tac_air_focus
		
		country_event = { id = EAI_CFG.11 hours = 1 }
	}
}

country_event = { #str
	id = EAI_CFG.11
	title = ""
	desc = ""
	is_triggered_only = yes

	option = { name = EAI_str_air_focus_1

		trigger = {
			EAI_str_air_focus_1 = yes
		}

		ai_chance = {
			factor = 1
			modifier = { factor = 4 OR = { tag = ENG tag = USA } } #eng/usa prefer str
		}

		set_country_flag = EAI_FOCUS/str_air_focus_1
		
		country_event = { id = EAI_CFG.12 hours = 1 }
	}

	option = { name = EAI_str_air_focus_0

		trigger = {
			OR = {
				EAI_str_air_focus_0 = yes
				NOT = { EAI_str_air_focus_1 = yes EAI_str_air_focus_0 = yes }
			}
		}

		ai_chance = {
			factor = 2
			modifier = { factor = 100 NOT = { EAI_major_country = yes } } #minors dont want str
		}
		
		set_country_flag = EAI_FOCUS/str_air_focus_0

		country_event = { id = EAI_CFG.12 hours = 1 }
	}
}

country_event = { #nav
	id = EAI_CFG.12
	title = ""
	desc = ""
	is_triggered_only = yes

	option = { name = EAI_nav_air_focus_1

		trigger = {
			EAI_nav_air_focus_1 = yes
		}

		ai_chance = {
			factor = 1
			modifier = { factor = 3 has_country_flag = EAI_FOCUS/tac_air_focus }
		}

		set_country_flag = EAI_FOCUS/nav_air_focus_1
		
		country_event = { id = EAI_CFG.13 hours = 1 }
	}

	option = { name = EAI_nav_air_focus_0

		trigger = {
			OR = {
				EAI_nav_air_focus_0 = yes
				NOT = { EAI_nav_air_focus_1 = yes EAI_nav_air_focus_0 = yes }
			}
		}

		ai_chance = {
			factor = 2
			modifier = { factor = 3 has_country_flag = EAI_FOCUS/cas_air_focus }
		}
		
		set_country_flag = EAI_FOCUS/nav_air_focus_0

		country_event = { id = EAI_CFG.13 hours = 1 }
	}
}

country_event = { #air doctrine
	id = EAI_CFG.13
	title = ""
	desc = ""
	is_triggered_only = yes

	option = { name = EAI_SD_doctrine

		trigger = {
			OR = {
				EAI_SD_doctrine = yes
				NOT = { EAI_SD_doctrine = yes EAI_BFS_doctrine = yes EAI_OI_doctrine = yes }
			}
			NOT = { has_country_flag = EAI_FOCUS/SD_doctrine has_country_flag = EAI_FOCUS/BFS_doctrine has_country_flag = EAI_FOCUS/OI_doctrine }
		}

		ai_chance = {
			factor = 1
			modifier = { factor = 10 has_country_flag = EAI_FOCUS/str_air_focus_1 } #countries that build str prefer sd
		}

		set_country_flag = EAI_FOCUS/SD_doctrine
		
		if = { limit = { OR = { has_tech = formation_flying has_tech = force_rotation } }
			#set_technology = { air_superiority = 0 }
			set_technology = { formation_flying = 0 }
			set_technology = { force_rotation = 0 }
		}
		
		country_event = { id = EAI_CFG.14 hours = 1 }
	}

	option = { name = EAI_BFS_doctrine

		trigger = {
			OR = {
				EAI_BFS_doctrine = yes
				NOT = { EAI_SD_doctrine = yes EAI_BFS_doctrine = yes EAI_OI_doctrine = yes }
			}
			NOT = { has_country_flag = EAI_FOCUS/SD_doctrine has_country_flag = EAI_FOCUS/BFS_doctrine has_country_flag = EAI_FOCUS/OI_doctrine }
		}

		ai_chance = {
			factor = 1
			modifier = { factor = 1.25 has_country_flag = EAI_FOCUS/cas_air_focus } #countries that build cas prefer bfs
		}

		set_country_flag = EAI_FOCUS/BFS_doctrine
		
		if = { limit = { OR = { has_tech = air_superiority has_tech = force_rotation } }
			set_technology = { air_superiority = 0 }
			#set_technology = { formation_flying = 0 }
			set_technology = { force_rotation = 0 }
		}
		
		country_event = { id = EAI_CFG.14 hours = 1 }
	}

	option = { name = EAI_OI_doctrine

		trigger = {
			OR = {
				EAI_OI_doctrine = yes
				NOT = { EAI_SD_doctrine = yes EAI_BFS_doctrine = yes EAI_OI_doctrine = yes }
			}
			NOT = { has_country_flag = EAI_FOCUS/SD_doctrine has_country_flag = EAI_FOCUS/BFS_doctrine has_country_flag = EAI_FOCUS/OI_doctrine }
		}

		ai_chance = {
			factor = 1
			modifier = { factor = 1.5 NOT = { has_country_flag = EAI_FOCUS/cas_air_focus } } #countries that dont build cas prefer oi
		}

		set_country_flag = EAI_FOCUS/OI_doctrine
		
		if = { limit = { OR = { has_tech = air_superiority has_tech = formation_flying } }
			set_technology = { air_superiority = 0 }
			set_technology = { formation_flying = 0 }
			#set_technology = { force_rotation = 0 }
		}
		
		country_event = { id = EAI_CFG.14 hours = 1 }
	}
	
	option = { name = skip
	
		trigger = { OR = { has_country_flag = EAI_FOCUS/SD_doctrine has_country_flag = EAI_FOCUS/BFS_doctrine has_country_flag = EAI_FOCUS/OI_doctrine } }
		
		country_event = { id = EAI_CFG.14 hours = 1 }
	}
}

country_event = { #naval doctrine
	id = EAI_CFG.14
	title = ""
	desc = ""
	is_triggered_only = yes

	option = { name = EAI_FIB_doctrine

		trigger = {
			OR = {
				EAI_FIB_doctrine = yes
				NOT = { EAI_FIB_doctrine = yes EAI_TI_doctrine = yes EAI_BS_doctrine = yes }
			}
			NOT = { has_country_flag = EAI_FOCUS/FIB_doctrine has_country_flag = EAI_FOCUS/TI_doctrine has_country_flag = EAI_FOCUS/BS_doctrine }
		}

		ai_chance = {
			factor = 1
		}

		if = { limit = { OR = { has_tech = trade_interdiction has_tech = base_strike } }
			#set_technology = { fleet_in_being = 0 }
			set_technology = { trade_interdiction = 0 }
			set_technology = { base_strike = 0 }
		}
		
		set_country_flag = EAI_FOCUS/FIB_doctrine
		
		country_event = { id = EAI_CFG.15 hours = 1 }
	}

	option = { name = EAI_TI_doctrine

		trigger = {
			OR = {
				EAI_TI_doctrine = yes
				NOT = { EAI_FIB_doctrine = yes EAI_TI_doctrine = yes EAI_BS_doctrine = yes }
			}
			NOT = { has_country_flag = EAI_FOCUS/FIB_doctrine has_country_flag = EAI_FOCUS/TI_doctrine has_country_flag = EAI_FOCUS/BS_doctrine }
		}

		ai_chance = {
			factor = 1
		}

		if = { limit = { OR = { has_tech = fleet_in_being has_tech = base_strike } }
			set_technology = { fleet_in_being = 0 }
			#set_technology = { trade_interdiction = 0 }
			set_technology = { base_strike = 0 }
		}
		
		set_country_flag = EAI_FOCUS/TI_doctrine
		
		country_event = { id = EAI_CFG.15 hours = 1 }
	}

	option = { name = EAI_BS_doctrine

		trigger = {
			OR = {
				EAI_BS_doctrine = yes
				NOT = { EAI_FIB_doctrine = yes EAI_TI_doctrine = yes EAI_BS_doctrine = yes }
			}
			NOT = { has_country_flag = EAI_FOCUS/FIB_doctrine has_country_flag = EAI_FOCUS/TI_doctrine has_country_flag = EAI_FOCUS/BS_doctrine }
		}

		ai_chance = {
			factor = 1
			modifier = { factor = 10 has_country_flag = EAI_FOCUS/cv_navy_focus_1 } #countries that focus on carriers prefer bs
		}

		if = { limit = { OR = { has_tech = fleet_in_being has_tech = trade_interdiction } }
			set_technology = { fleet_in_being = 0 }
			set_technology = { trade_interdiction = 0 }
			#set_technology = { base_strike = 0 }
		}
		
		set_country_flag = EAI_FOCUS/BS_doctrine
		
		country_event = { id = EAI_CFG.15 hours = 1 }
	}
	
	option = { name = skip
	
		trigger = { OR = { has_country_flag = EAI_FOCUS/FIB_doctrine has_country_flag = EAI_FOCUS/TI_doctrine has_country_flag = EAI_FOCUS/BS_doctrine } }
		
		country_event = { id = EAI_CFG.15 hours = 1 }
	}
}

country_event = { #land doctrine path
	id = EAI_CFG.15
	title = ""
	desc = ""
	is_triggered_only = yes

	option = { name = EAI_land_doctrine_left_path

		trigger = {
			OR = {
				EAI_land_doctrine_left_path = yes
				NOT = { EAI_land_doctrine_left_path = yes EAI_land_doctrine_right_path = yes }
			}
			NOT = { has_country_flag = EAI_FOCUS/land_doctrine_left_path has_country_flag = EAI_FOCUS/land_doctrine_right_path }
		}

		ai_chance = {
			factor = 1
			
			modifier = { 
				factor = 10 
				
				has_country_flag = EAI_FOCUS/MW_doctrine
				
				OR = {
					AND = { has_country_flag = EAI_FOCUS/motorized_attachment has_country_flag = EAI_FOCUS/anti_tank_army_focus }
				}
			}
			#modifier = { 
			#	factor = 10 
			#	
			#	has_country_flag = EAI_FOCUS/SF_doctrine
			#	
			#	OR = {
			#		
			#	}
			#}
			#modifier = { 
			#	factor = 10 
			#	
			#	has_country_flag = EAI_FOCUS/GB_doctrine
			#	
			#	OR = {
			#		
			#	}
			#}
			modifier = { 
				factor = 10 
				
				has_country_flag = EAI_FOCUS/MA_doctrine
				
				OR = {
					has_country_flag = EAI_FOCUS/marm_army_focus
					has_country_flag = EAI_FOCUS/harm_army_focus
				}
			}
		}

		set_country_flag = EAI_FOCUS/land_doctrine_left_path
		
		country_event = { id = EAI_CFG.16 hours = 1 }
	}

	option = { name = EAI_land_doctrine_right_path

		trigger = {
			OR = {
				EAI_land_doctrine_right_path = yes
				NOT = { EAI_land_doctrine_left_path = yes EAI_land_doctrine_right_path = yes }
			}
			NOT = { has_country_flag = EAI_FOCUS/land_doctrine_left_path has_country_flag = EAI_FOCUS/land_doctrine_right_path }
		}

		ai_chance = {
			factor = 1
			
			modifier = { 
				factor = 10 
				
				has_country_flag = EAI_FOCUS/MW_doctrine
				
				OR = {
					has_country_flag = EAI_FOCUS/marm_army_focus has_country_flag = EAI_FOCUS/harm_army_focus
				}
			}
			#modifier = { 
			#	factor = 10 
			#	
			#	has_country_flag = EAI_FOCUS/SF_doctrine
			#	
			#	OR = {
			#		
			#	}
			#}
			#modifier = { 
			#	factor = 10 
			#	
			#	has_country_flag = EAI_FOCUS/GB_doctrine
			#	
			#	OR = {
			#		
			#	}
			#}
			modifier = { 
				factor = 10 
				
				has_country_flag = EAI_FOCUS/MA_doctrine
				
				OR = {
					NOT = { EAI_major_country = yes }
					has_country_flag = EAI_FOCUS/anti_tank_army_focus
				}
			}
		}
		
		set_country_flag = EAI_FOCUS/land_doctrine_right_path
		
		country_event = { id = EAI_CFG.16 hours = 1 }
	}
	
	option = { name = skip
	
		trigger = { OR = { has_country_flag = EAI_FOCUS/land_doctrine_left_path has_country_flag = EAI_FOCUS/land_doctrine_right_path } }
		
		country_event = { id = EAI_CFG.16 hours = 1 }
	}
}

country_event = { #cv
	id = EAI_CFG.16
	title = ""
	desc = ""
	is_triggered_only = yes

	option = { name = EAI_cv_navy_focus_1

		trigger = {
			EAI_cv_navy_focus_1 = yes
		}

		ai_chance = {
			factor = 1
			modifier = { factor = 10 has_tech = early_carrier } #countries that start with carrier tech will focus on carriers
		}

		set_country_flag = EAI_FOCUS/cv_navy_focus_1
		
		country_event = { id = EAI_CFG.17 hours = 1 }
	}

	option = { name = EAI_cv_navy_focus_0

		trigger = {
			OR = {
				EAI_cv_navy_focus_0 = yes
				NOT = { EAI_cv_navy_focus_1 = yes EAI_cv_navy_focus_0 = yes }
			}
		}

		ai_chance = {
			factor = 1
			modifier = { factor = 10 NOT = { any_owned_state = { is_coastal = yes } } }
			modifier = { factor = 3 num_of_naval_factories < 10 }
		}
		
		set_country_flag = EAI_FOCUS/cv_navy_focus_0

		country_event = { id = EAI_CFG.17 hours = 1 }
	}
}

country_event = { #dd
	id = EAI_CFG.17
	title = ""
	desc = ""
	is_triggered_only = yes

	option = { name = EAI_dd_navy_focus_1

		trigger = {
			EAI_dd_navy_focus_1 = yes
		}

		ai_chance = {
			factor = 10
		}

		set_country_flag = EAI_FOCUS/dd_navy_focus_1
		
		country_event = { id = EAI_CFG.18 hours = 1 }
	}

	option = { name = EAI_dd_navy_focus_0

		trigger = {
			OR = {
				EAI_dd_navy_focus_0 = yes
				NOT = { EAI_dd_navy_focus_1 = yes EAI_dd_navy_focus_0 = yes }
			}
		}

		ai_chance = {
			factor = 1
			modifier = { factor = 100 NOT = { any_owned_state = { is_coastal = yes } } }
		}
		
		set_country_flag = EAI_FOCUS/dd_navy_focus_0

		country_event = { id = EAI_CFG.18 hours = 1 }
	}
}

country_event = { #cl
	id = EAI_CFG.18
	title = ""
	desc = ""
	is_triggered_only = yes

	option = { name = EAI_cl_navy_focus_1

		trigger = {
			EAI_cl_navy_focus_1 = yes
		}

		ai_chance = {
			factor = 2
		}

		set_country_flag = EAI_FOCUS/cl_navy_focus_1
		
		country_event = { id = EAI_CFG.19 hours = 1 }
	}

	option = { name = EAI_cl_navy_focus_0

		trigger = {
			OR = {
				EAI_cl_navy_focus_0 = yes
				NOT = { EAI_cl_navy_focus_1 = yes EAI_cl_navy_focus_0 = yes }
			}
		}

		ai_chance = {
			factor = 1
			modifier = { factor = 10 NOT = { any_owned_state = { is_coastal = yes } } }
		}
		
		set_country_flag = EAI_FOCUS/cl_navy_focus_0

		country_event = { id = EAI_CFG.19 hours = 1 }
	}
}

country_event = { #ca
	id = EAI_CFG.19
	title = ""
	desc = ""
	is_triggered_only = yes

	option = { name = EAI_ca_navy_focus_1

		trigger = {
			EAI_ca_navy_focus_1 = yes
		}

		ai_chance = {
			factor = 1
			modifier = { factor = 2 has_tech = basic_heavy_cruiser }
			modifier = {
				factor = 0.5

				count_triggers = {
					amount = 1
					has_country_flag = EAI_FOCUS/cv_navy_focus_1
					has_country_flag = EAI_FOCUS/ca_navy_focus_1
					has_country_flag = EAI_FOCUS/bc_navy_focus_1
					has_country_flag = EAI_FOCUS/bb_navy_focus_1
				}
			}
			modifier = {
				factor = 0.5

				count_triggers = {
					amount = 2
					has_country_flag = EAI_FOCUS/cv_navy_focus_1
					has_country_flag = EAI_FOCUS/ca_navy_focus_1
					has_country_flag = EAI_FOCUS/bc_navy_focus_1
					has_country_flag = EAI_FOCUS/bb_navy_focus_1
				}
			}
		}

		set_country_flag = EAI_FOCUS/ca_navy_focus_1
		
		country_event = { id = EAI_CFG.20 hours = 1 }
	}

	option = { name = EAI_ca_navy_focus_0

		trigger = {
			OR = {
				EAI_ca_navy_focus_0 = yes
				NOT = { EAI_ca_navy_focus_1 = yes EAI_ca_navy_focus_0 = yes }
			}
		}

		ai_chance = {
			factor = 1
			modifier = { factor = 10 NOT = { any_owned_state = { is_coastal = yes } } }
			modifier = { factor = 2 num_of_naval_factories < 5 }
		}
		
		set_country_flag = EAI_FOCUS/ca_navy_focus_0

		country_event = { id = EAI_CFG.20 hours = 1 }
	}
}

country_event = { #bc
	id = EAI_CFG.20
	title = ""
	desc = ""
	is_triggered_only = yes

	option = { name = EAI_bc_navy_focus_1

		trigger = {
			EAI_bc_navy_focus_1 = yes
		}

		ai_chance = {
			factor = 1
			modifier = { factor = 2 has_tech = basic_battlecruiser }
			modifier = { factor = 0.5 has_country_flag = EAI_FOCUS/ca_navy_focus_1 }
			modifier = {
				factor = 0.5

				count_triggers = {
					amount = 1
					has_country_flag = EAI_FOCUS/cv_navy_focus_1
					has_country_flag = EAI_FOCUS/ca_navy_focus_1
					has_country_flag = EAI_FOCUS/bc_navy_focus_1
					has_country_flag = EAI_FOCUS/bb_navy_focus_1
				}
			}
			modifier = {
				factor = 0.5

				count_triggers = {
					amount = 2
					has_country_flag = EAI_FOCUS/cv_navy_focus_1
					has_country_flag = EAI_FOCUS/ca_navy_focus_1
					has_country_flag = EAI_FOCUS/bc_navy_focus_1
					has_country_flag = EAI_FOCUS/bb_navy_focus_1
				}
			}
		}

		set_country_flag = EAI_FOCUS/bc_navy_focus_1
		
		country_event = { id = EAI_CFG.21 hours = 1 }
	}

	option = { name = EAI_bc_navy_focus_0

		trigger = {
			OR = {
				EAI_bc_navy_focus_0 = yes
				NOT = { EAI_bc_navy_focus_1 = yes EAI_bc_navy_focus_0 = yes }
			}
		}

		ai_chance = {
			factor = 1
			modifier = { factor = 10 NOT = { any_owned_state = { is_coastal = yes } } }
			modifier = { factor = 3 num_of_naval_factories < 10 }
		}
		
		set_country_flag = EAI_FOCUS/bc_navy_focus_0

		country_event = { id = EAI_CFG.21 hours = 1 }
	}
}

country_event = { #ss
	id = EAI_CFG.21
	title = ""
	desc = ""
	is_triggered_only = yes

	option = { name = EAI_ss_navy_focus_1

		trigger = {
			EAI_ss_navy_focus_1 = yes
		}

		ai_chance = {
			factor = 1
			
			modifier = { factor = 2 has_tech = basic_submarine }
		}

		set_country_flag = EAI_FOCUS/ss_navy_focus_1
		
		country_event = { id = EAI_CFG.22 hours = 1 }
	}

	option = { name = EAI_ss_navy_focus_0

		trigger = {
			OR = {
				EAI_ss_navy_focus_0 = yes
				NOT = { EAI_ss_navy_focus_1 = yes EAI_ss_navy_focus_0 = yes }
			}
		}

		ai_chance = {
			factor = 2
			modifier = { factor = 10 NOT = { any_owned_state = { is_coastal = yes } } }
		}
		
		set_country_flag = EAI_FOCUS/ss_navy_focus_0

		country_event = { id = EAI_CFG.22 hours = 1 }
	}
}

country_event = { #bb
	id = EAI_CFG.22
	title = ""
	desc = ""
	is_triggered_only = yes

	option = { name = EAI_bb_navy_focus_1

		trigger = {
			EAI_bb_navy_focus_1 = yes
		}

		ai_chance = {
			factor = 1
			modifier = { factor = 2 has_tech = basic_battleship }
			modifier = { factor = 0.5 OR = { has_country_flag = EAI_FOCUS/ca_navy_focus_1 has_country_flag = EAI_FOCUS/bc_navy_focus_1 } }
			modifier = {
				factor = 0.5

				count_triggers = {
					amount = 1
					has_country_flag = EAI_FOCUS/cv_navy_focus_1
					has_country_flag = EAI_FOCUS/ca_navy_focus_1
					has_country_flag = EAI_FOCUS/bc_navy_focus_1
					has_country_flag = EAI_FOCUS/bb_navy_focus_1
				}
			}
			modifier = {
				factor = 0.5

				count_triggers = {
					amount = 2
					has_country_flag = EAI_FOCUS/cv_navy_focus_1
					has_country_flag = EAI_FOCUS/ca_navy_focus_1
					has_country_flag = EAI_FOCUS/bc_navy_focus_1
					has_country_flag = EAI_FOCUS/bb_navy_focus_1
				}
			}
		}

		set_country_flag = EAI_FOCUS/bb_navy_focus_1
		
		clr_country_flag = EAI_AI_is_configuring_this_country
		
		EAI_clear_all_override_focuses = yes
	}

	option = { name = EAI_bb_navy_focus_0

		trigger = {
			OR = {
				EAI_bb_navy_focus_0 = yes
				NOT = { EAI_bb_navy_focus_1 = yes EAI_bb_navy_focus_0 = yes }
			}
		}

		ai_chance = {
			factor = 1
			modifier = { factor = 10 NOT = { any_owned_state = { is_coastal = yes } } }
			modifier = { factor = 3 num_of_naval_factories < 10 }
		}
		
		set_country_flag = EAI_FOCUS/bb_navy_focus_0
		
		clr_country_flag = EAI_AI_is_configuring_this_country

		EAI_clear_all_override_focuses = yes
	}
}

######################################################
#	AI focus switching
######################################################

add_namespace = EAI_CFG_switch

country_event = { # build capital ships with a lot of dockyards
	id = EAI_CFG_switch.0
	hidden = yes
	mean_time_to_happen = { days = 20 }

	trigger = {
		is_ai = yes

		NOT = { has_country_flag = EAI_focus_switch_CV }
		
		### CONDITIONS
		
		num_of_naval_factories > 50
		
		NOT = {
			has_country_flag = EAI_FOCUS/cv_navy_focus_1
		}
	}

	immediate = {
		set_country_flag = EAI_focus_switch_CV
		
		if = { limit = { has_country_flag = EAI_FOCUS/cv_navy_focus_0 }
			clr_country_flag = EAI_FOCUS/cv_navy_focus_0
			set_country_flag = EAI_FOCUS/cv_navy_focus_1
		}
	
		if = { limit = { NOT = { has_country_flag = EAI_FOCUS/bb_navy_focus_1 has_country_flag = EAI_FOCUS/bc_navy_focus_1 } }
			random_list = {
				1 = { clr_country_flag = EAI_FOCUS/bb_navy_focus_0 set_country_flag = EAI_FOCUS/bb_navy_focus_1 }
				1 = { clr_country_flag = EAI_FOCUS/bc_navy_focus_0 set_country_flag = EAI_FOCUS/bc_navy_focus_1 }
			}
		}
	}

	option = {}
}

country_event = { # switch to 40w armor with big stockpiles
    id = EAI_CFG_switch.1
	hidden = yes
	mean_time_to_happen = { days = 20 }

	trigger = {
		is_ai = yes
		
		NOT = { has_country_flag = EAI_focus_switch_40w_armor }

		### CONDITIONS
		
		has_global_flag = EAI_challenging_mode
		
		OR = {
			AND = { has_equipment = { medium_tank_equipment > 10000 } has_country_flag = EAI_FOCUS/marm_army_focus }
			AND = { has_equipment = { heavy_tank_equipment > 10000 } has_country_flag = EAI_FOCUS/harm_army_focus }
			AND = { has_equipment = { modern_tank_equipment > 10000 } OR = { has_country_flag = EAI_FOCUS/marm_army_focus has_country_flag = EAI_FOCUS/harm_army_focus } }
		}
		
		NOT = { has_country_flag = EAI_FOCUS/40w_armor_design_1 }
	}

	immediate = {
		set_country_flag = EAI_focus_switch_40w_armor
	
		clr_country_flag = EAI_FOCUS/40w_armor_design_0
		set_country_flag = EAI_FOCUS/40w_armor_design_1
	}

	option = {}
}

country_event = { # switch to 40w infantry on challenging mode + a lot inf equipment/manpower
	id = EAI_CFG_switch.3
	hidden = yes
	mean_time_to_happen = { days = 20 }

	trigger = {
		is_ai = yes
		
		NOT = { has_country_flag = EAI_focus_switch_40w_inf }

		### CONDITIONS
		
		NOT = { EAI_major_country = yes }
		
		has_global_flag = EAI_challenging_mode
		
		date > 1940.1.1
		
		has_army_experience > 50
		
		has_equipment = { infantry_equipment > 50000 }
		
		has_manpower > 500000
		
		OR = {
			has_country_flag = EAI_FOCUS/infantry_width_20w
			has_country_flag = EAI_FOCUS/infantry_width_26w
		}
	}

	immediate = {
		set_country_flag = EAI_focus_switch_40w_inf
	
		clr_country_flag = EAI_FOCUS/infantry_width_20w
		clr_country_flag = EAI_FOCUS/infantry_width_26w
		
		set_country_flag = EAI_FOCUS/infantry_width_40w
	}

	option = {}
}

country_event = { # build subs when researching sub doctrines
	id = EAI_CFG_switch.4
	hidden = yes
	mean_time_to_happen = { days = 20 }

	trigger = {
		is_ai = yes

		NOT = { has_country_flag = EAI_focus_switch_SS }
		
		### CONDITIONS

		OR = {
			has_tech = submarine_operations
			has_tech = convoy_interdiction_ti
			has_tech = submarine_operations_bs
		}
	}

	immediate = {
		set_country_flag = EAI_focus_switch_SS
		
		clr_country_flag = EAI_FOCUS/ss_navy_focus_0
		set_country_flag = EAI_FOCUS/ss_navy_focus_1
	}

	option = {}
}

country_event = { # start building ships in late game if it has no ship focuses
	id = EAI_CFG_switch.5
	hidden = yes
	mean_time_to_happen = { days = 20 }

	trigger = {
		is_ai = yes

		NOT = { has_country_flag = EAI_focus_switch_SHIPS }
		
		### CONDITIONS
		
		date > 1945.1.1
		
		num_of_naval_factories > 10

		NOT = {
			has_country_flag = EAI_FOCUS/dd_navy_focus_1
			has_country_flag = EAI_FOCUS/cl_navy_focus_1
			
			has_country_flag = EAI_FOCUS/ca_navy_focus_1
			has_country_flag = EAI_FOCUS/bc_navy_focus_1
			has_country_flag = EAI_FOCUS/bb_navy_focus_1
		}
	}

	immediate = {
		set_country_flag = EAI_focus_switch_SHIPS
		
		clr_country_flag = EAI_FOCUS/dd_navy_focus_0 set_country_flag = EAI_FOCUS/dd_navy_focus_1
		clr_country_flag = EAI_FOCUS/cl_navy_focus_0 set_country_flag = EAI_FOCUS/cl_navy_focus_1
		
		random_list = {
			1 = { clr_country_flag = EAI_FOCUS/ca_navy_focus_0 set_country_flag = EAI_FOCUS/ca_navy_focus_1 }
			1 = { clr_country_flag = EAI_FOCUS/bc_navy_focus_0 set_country_flag = EAI_FOCUS/bc_navy_focus_1 }
			1 = { clr_country_flag = EAI_FOCUS/bb_navy_focus_0 set_country_flag = EAI_FOCUS/bb_navy_focus_1 }
		}
	}

	option = {}
}

country_event = { # start building strategic bombers
	id = EAI_CFG_switch.6
	hidden = yes
	mean_time_to_happen = { days = 20 }

	trigger = {
		is_ai = yes

		NOT = { has_country_flag = EAI_focus_switch_STR }
		
		### CONDITIONS
		
		num_of_military_factories > 249
		
		date > 1943.1.1
		
		NOT = { any_neighbor_country = { has_war_with = ROOT } }
	}

	immediate = {
		set_country_flag = EAI_focus_switch_STR

		clr_country_flag = EAI_FOCUS/str_air_focus_0
		set_country_flag = EAI_FOCUS/str_air_focus_1
	}

	option = {}
}

country_event = { # start building naval bombers
	id = EAI_CFG_switch.7
	hidden = yes
	mean_time_to_happen = { days = 20 }

	trigger = {
		is_ai = yes

		NOT = { has_country_flag = EAI_focus_switch_NAV }
		
		### CONDITIONS

		enemies_naval_strength_ratio > 1 
		
		OR = {
			has_equipment = { fighter_equipment > 10000 }
			has_deployed_air_force_size = { size > 10000 type = fighter }
		}
	}

	immediate = {
		set_country_flag = EAI_focus_switch_NAV

		clr_country_flag = EAI_FOCUS/nav_air_focus_0
		set_country_flag = EAI_FOCUS/nav_air_focus_1
	}

	option = {}
}

country_event = { # upgrade inf designs
	id = EAI_CFG_switch.8
	hidden = yes
	mean_time_to_happen = { days = 20 }

	trigger = {
		is_ai = yes

		NOT = { has_country_flag = EAI_upgrade_inf_design }
		
		### CONDITIONS
		date > 1940.1.1
		
		stockpile_ratio = { 
			archetype = infantry_equipment
			ratio > 4
		}
		
		has_army_experience > 50
		
		has_equipment = { infantry_equipment > 50000 }
	}

	immediate = {
		set_country_flag = EAI_upgrade_inf_design
	}

	option = {}
}

country_event = { # switch to heavier armor
	id = EAI_CFG_switch.9
	hidden = yes
	mean_time_to_happen = { days = 20 }

	trigger = {
		is_ai = yes

		NOT = { has_country_flag = EAI_upgrade_armor_type }
		
		### CONDITIONS
		date > 1945.1.1
		
		is_major = yes
		
		has_country_flag = EAI_FOCUS/larm_attachment
	}

	immediate = {
		set_country_flag = EAI_upgrade_armor_type
		
		clr_country_flag = EAI_FOCUS/larm_attachment
		
		set_country_flag = EAI_FOCUS/marm_attachment
	}

	option = {}
}