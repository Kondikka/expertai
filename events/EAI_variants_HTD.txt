add_namespace = EAI_V_HTD

#Heavy Tank Destroyer I

country_event = {
	id = EAI_V_HTD.1
	hidden = yes
	mean_time_to_happen = { days = 10 }
	trigger = {
		is_ai = yes
		has_tech = basic_heavy_td NOT = { has_tech = improved_heavy_td is_researching_technology = improved_heavy_td }
		has_army_experience > 150
		NOT = { has_country_flag = htd_I_8/8 }

		#VARIANT PRIORITIES
		if = { limit = { has_country_flag = harm_army_focus }
			hspaa_developed = yes
		}
		if = { limit = { has_country_flag = marm_army_focus }
			marm_developed = yes
			mspaa_developed = yes
		}
		if = { limit = { has_country_flag = AT_army_focus }

			if = { limit = { has_country_flag = at_design_MTD }
				mtd_developed = yes
				mspaa_developed = yes
			}
		}
	}

	immediate = {
		if = { limit = { NOT = { named_variants = yes } }

			if = { limit = { NOT = { has_country_flag = htd_I_1/8 } has_army_experience > 10 }
				create_equipment_variant = { name = "Heavy Tank Destroyer I Mk. 1" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 1 tank_reliability_upgrade = 0 } }
				army_experience = -10 set_country_flag = htd_I_1/8
			}
			if = { limit = { has_country_flag = htd_I_1/8 NOT = { has_country_flag = htd_I_2/8 } has_army_experience > 15 }
				create_equipment_variant = { name = "Heavy Tank Destroyer I Mk. 2" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 2 tank_reliability_upgrade = 0 } }
				army_experience = -15 set_country_flag = htd_I_2/8
			}
			if = { limit = { has_country_flag = htd_I_2/8 NOT = { has_country_flag = htd_I_3/8 } has_army_experience > 20 }
				create_equipment_variant = { name = "Heavy Tank Destroyer I Mk. 3" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 3 tank_reliability_upgrade = 0 } }
				army_experience = -20 set_country_flag = htd_I_3/8
			}
			if = { limit = { has_country_flag = htd_I_3/8 NOT = { has_country_flag = htd_I_4/8 } has_army_experience > 25 }
				create_equipment_variant = { name = "Heavy Tank Destroyer I Mk. 4" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -25 set_country_flag = htd_I_4/8
			}
			if = {	 limit = { has_country_flag = htd_I_4/8 NOT = { has_country_flag = htd_I_5/8 } has_army_experience > 30 }
				create_equipment_variant = { name = "Heavy Tank Destroyer I Mk. 5" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 4 tank_reliability_upgrade = 1 } }
				army_experience = -30 set_country_flag = htd_I_5/8
			}
			if = { limit = { has_country_flag = htd_I_5/8 NOT = { has_country_flag = htd_I_6/8 } has_army_experience > 35 }
				create_equipment_variant = { name = "Heavy Tank Destroyer I Mk. 6" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -35 set_country_flag = htd_I_6/8
			}
			if = { limit = { has_country_flag = htd_I_6/8 NOT = { has_country_flag = htd_I_7/8 } has_army_experience > 40 }
				create_equipment_variant = { name = "Heavy Tank Destroyer I Mk. 7" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 5 tank_reliability_upgrade = 2 } }
				army_experience = -40 set_country_flag = htd_I_7/8
			}
			if = { limit = { has_country_flag = htd_I_7/8 NOT = { has_country_flag = htd_I_8/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "Heavy Tank Destroyer I Mk. 8" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 5 tank_reliability_upgrade = 3 } }
				army_experience = -45 set_country_flag = htd_I_8/8
			}
		}

		if = { limit = { original_tag = ENG }

			if = { limit = { NOT = { has_country_flag = htd_I_1/8 } has_army_experience > 10 }
				create_equipment_variant = { name = "Heavy Tank Destroyer I Mk. I" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 1 tank_reliability_upgrade = 0 } }
				army_experience = -10 set_country_flag = htd_I_1/8
			}
			if = { limit = { has_country_flag = htd_I_1/8 NOT = { has_country_flag = htd_I_2/8 } has_army_experience > 15 }
				create_equipment_variant = { name = "Heavy Tank Destroyer I Mk. II" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 2 tank_reliability_upgrade = 0 } }
				army_experience = -15 set_country_flag = htd_I_2/8
			}
			if = { limit = { has_country_flag = htd_I_2/8 NOT = { has_country_flag = htd_I_3/8 } has_army_experience > 20 }
				create_equipment_variant = { name = "Heavy Tank Destroyer I Mk. III" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 3 tank_reliability_upgrade = 0 } }
				army_experience = -20 set_country_flag = htd_I_3/8
			}
			if = { limit = { has_country_flag = htd_I_3/8 NOT = { has_country_flag = htd_I_4/8 } has_army_experience > 25 }
				create_equipment_variant = { name = "Heavy Tank Destroyer I Mk. IV" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -25 set_country_flag = htd_I_4/8
			}
			if = {	 limit = { has_country_flag = htd_I_4/8 NOT = { has_country_flag = htd_I_5/8 } has_army_experience > 30 }
				create_equipment_variant = { name = "Heavy Tank Destroyer I Mk. V" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 4 tank_reliability_upgrade = 1 } }
				army_experience = -30 set_country_flag = htd_I_5/8
			}
			if = { limit = { has_country_flag = htd_I_5/8 NOT = { has_country_flag = htd_I_6/8 } has_army_experience > 35 }
				create_equipment_variant = { name = "Heavy Tank Destroyer I Mk. VI" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -35 set_country_flag = htd_I_6/8
			}
			if = { limit = { has_country_flag = htd_I_6/8 NOT = { has_country_flag = htd_I_7/8 } has_army_experience > 40 }
				create_equipment_variant = { name = "Heavy Tank Destroyer I Mk. VII" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 5 tank_reliability_upgrade = 2 } }
				army_experience = -40 set_country_flag = htd_I_7/8
			}
			if = { limit = { has_country_flag = htd_I_7/8 NOT = { has_country_flag = htd_I_8/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "Heavy Tank Destroyer I Mk. VIII" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 5 tank_reliability_upgrade = 3 } }
				army_experience = -45 set_country_flag = htd_I_8/8
			}
		}

		if = { limit = { original_tag = FRA }

			if = { limit = { NOT = { has_country_flag = htd_I_1/8 } has_army_experience > 10 }
				create_equipment_variant = { name = "Heavy Tank Destroyer I série A" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 1 tank_reliability_upgrade = 0 } }
				army_experience = -10 set_country_flag = htd_I_1/8
			}
			if = { limit = { has_country_flag = htd_I_1/8 NOT = { has_country_flag = htd_I_2/8 } has_army_experience > 15 }
				create_equipment_variant = { name = "Heavy Tank Destroyer I série B" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 2 tank_reliability_upgrade = 0 } }
				army_experience = -15 set_country_flag = htd_I_2/8
			}
			if = { limit = { has_country_flag = htd_I_2/8 NOT = { has_country_flag = htd_I_3/8 } has_army_experience > 20 }
				create_equipment_variant = { name = "Heavy Tank Destroyer I série C" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 3 tank_reliability_upgrade = 0 } }
				army_experience = -20 set_country_flag = htd_I_3/8
			}
			if = { limit = { has_country_flag = htd_I_3/8 NOT = { has_country_flag = htd_I_4/8 } has_army_experience > 25 }
				create_equipment_variant = { name = "Heavy Tank Destroyer I série D" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -25 set_country_flag = htd_I_4/8
			}
			if = {	 limit = { has_country_flag = htd_I_4/8 NOT = { has_country_flag = htd_I_5/8 } has_army_experience > 30 }
				create_equipment_variant = { name = "Heavy Tank Destroyer I série E" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 4 tank_reliability_upgrade = 1 } }
				army_experience = -30 set_country_flag = htd_I_5/8
			}
			if = { limit = { has_country_flag = htd_I_5/8 NOT = { has_country_flag = htd_I_6/8 } has_army_experience > 35 }
				create_equipment_variant = { name = "Heavy Tank Destroyer I série F" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -35 set_country_flag = htd_I_6/8
			}
			if = { limit = { has_country_flag = htd_I_6/8 NOT = { has_country_flag = htd_I_7/8 } has_army_experience > 40 }
				create_equipment_variant = { name = "Heavy Tank Destroyer I série G" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 5 tank_reliability_upgrade = 2 } }
				army_experience = -40 set_country_flag = htd_I_7/8
			}
			if = { limit = { has_country_flag = htd_I_7/8 NOT = { has_country_flag = htd_I_8/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "Heavy Tank Destroyer I série H" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 5 tank_reliability_upgrade = 3 } }
				army_experience = -45 set_country_flag = htd_I_8/8
			}
		}

		if = { limit = { original_tag = USA }

			if = { limit = { NOT = { has_country_flag = htd_I_1/8 } has_army_experience > 10 }
				create_equipment_variant = { name = "Heavy Tank Destroyer I A1" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 1 tank_reliability_upgrade = 0 } }
				army_experience = -10 set_country_flag = htd_I_1/8
			}
			if = { limit = { has_country_flag = htd_I_1/8 NOT = { has_country_flag = htd_I_2/8 } has_army_experience > 15 }
				create_equipment_variant = { name = "Heavy Tank Destroyer I A2" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 2 tank_reliability_upgrade = 0 } }
				army_experience = -15 set_country_flag = htd_I_2/8
			}
			if = { limit = { has_country_flag = htd_I_2/8 NOT = { has_country_flag = htd_I_3/8 } has_army_experience > 20 }
				create_equipment_variant = { name = "Heavy Tank Destroyer I A3" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 3 tank_reliability_upgrade = 0 } }
				army_experience = -20 set_country_flag = htd_I_3/8
			}
			if = { limit = { has_country_flag = htd_I_3/8 NOT = { has_country_flag = htd_I_4/8 } has_army_experience > 25 }
				create_equipment_variant = { name = "Heavy Tank Destroyer I A4" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -25 set_country_flag = htd_I_4/8
			}
			if = {	 limit = { has_country_flag = htd_I_4/8 NOT = { has_country_flag = htd_I_5/8 } has_army_experience > 30 }
				create_equipment_variant = { name = "Heavy Tank Destroyer I A5" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 4 tank_reliability_upgrade = 1 } }
				army_experience = -30 set_country_flag = htd_I_5/8
			}
			if = { limit = { has_country_flag = htd_I_5/8 NOT = { has_country_flag = htd_I_6/8 } has_army_experience > 35 }
				create_equipment_variant = { name = "Heavy Tank Destroyer I A6" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -35 set_country_flag = htd_I_6/8
			}
			if = { limit = { has_country_flag = htd_I_6/8 NOT = { has_country_flag = htd_I_7/8 } has_army_experience > 40 }
				create_equipment_variant = { name = "Heavy Tank Destroyer I A7" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 5 tank_reliability_upgrade = 2 } }
				army_experience = -40 set_country_flag = htd_I_7/8
			}
			if = { limit = { has_country_flag = htd_I_7/8 NOT = { has_country_flag = htd_I_8/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "Heavy Tank Destroyer I A8" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 5 tank_reliability_upgrade = 3 } }
				army_experience = -45 set_country_flag = htd_I_8/8
			}
		}

		if = { limit = { original_tag = GER }

			if = { limit = { NOT = { has_country_flag = htd_I_1/8 } has_army_experience > 10 }
				create_equipment_variant = { name = "Sturer Emil Ausf. A" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 1 tank_reliability_upgrade = 0 } }
				army_experience = -10 set_country_flag = htd_I_1/8
			}
			if = { limit = { has_country_flag = htd_I_1/8 NOT = { has_country_flag = htd_I_2/8 } has_army_experience > 15 }
				create_equipment_variant = { name = "Sturer Emil Ausf. B" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 2 tank_reliability_upgrade = 0 } }
				army_experience = -15 set_country_flag = htd_I_2/8
			}
			if = { limit = { has_country_flag = htd_I_2/8 NOT = { has_country_flag = htd_I_3/8 } has_army_experience > 20 }
				create_equipment_variant = { name = "Sturer Emil Ausf. C" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 3 tank_reliability_upgrade = 0 } }
				army_experience = -20 set_country_flag = htd_I_3/8
			}
			if = { limit = { has_country_flag = htd_I_3/8 NOT = { has_country_flag = htd_I_4/8 } has_army_experience > 25 }
				create_equipment_variant = { name = "Sturer Emil Ausf. D" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -25 set_country_flag = htd_I_4/8
			}
			if = { limit = { has_country_flag = htd_I_4/8 NOT = { has_country_flag = htd_I_5/8 } has_army_experience > 30 }
				create_equipment_variant = { name = "Sturer Emil Ausf. E" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 4 tank_reliability_upgrade = 1 } }
				army_experience = -30 set_country_flag = htd_I_5/8
			}
			if = { limit = { has_country_flag = htd_I_5/8 NOT = { has_country_flag = htd_I_6/8 } has_army_experience > 35 }
				create_equipment_variant = { name = "Sturer Emil Ausf. F" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -35 set_country_flag = htd_I_6/8
			}
			if = { limit = { has_country_flag = htd_I_6/8 NOT = { has_country_flag = htd_I_7/8 } has_army_experience > 40 }
				create_equipment_variant = { name = "Sturer Emil Ausf. G" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 5 tank_reliability_upgrade = 2 } }
				army_experience = -40 set_country_flag = htd_I_7/8
			}
			if = { limit = { has_country_flag = htd_I_7/8 NOT = { has_country_flag = htd_I_8/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "Sturer Emil Ausf. H" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 5 tank_reliability_upgrade = 3 } }
				army_experience = -45 set_country_flag = htd_I_8/8
			}
		}

		if = { limit = { original_tag = ITA }

			if = { limit = { NOT = { has_country_flag = htd_I_1/8 } has_army_experience > 10 }
				create_equipment_variant = { name = "Heavy Tank Destroyer I serie I" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 1 tank_reliability_upgrade = 0 } }
				army_experience = -10 set_country_flag = htd_I_1/8
			}
			if = { limit = { has_country_flag = htd_I_1/8 NOT = { has_country_flag = htd_I_2/8 } has_army_experience > 15 }
				create_equipment_variant = { name = "Heavy Tank Destroyer I serie II" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 2 tank_reliability_upgrade = 0 } }
				army_experience = -15 set_country_flag = htd_I_2/8
			}
			if = { limit = { has_country_flag = htd_I_2/8 NOT = { has_country_flag = htd_I_3/8 } has_army_experience > 20 }
				create_equipment_variant = { name = "Heavy Tank Destroyer I serie III" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 3 tank_reliability_upgrade = 0 } }
				army_experience = -20 set_country_flag = htd_I_3/8
			}
			if = { limit = { has_country_flag = htd_I_3/8 NOT = { has_country_flag = htd_I_4/8 } has_army_experience > 25 }
				create_equipment_variant = { name = "Heavy Tank Destroyer I serie IV" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -25 set_country_flag = htd_I_4/8
			}
			if = {	 limit = { has_country_flag = htd_I_4/8 NOT = { has_country_flag = htd_I_5/8 } has_army_experience > 30 }
				create_equipment_variant = { name = "Heavy Tank Destroyer I serie V" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 4 tank_reliability_upgrade = 1 } }
				army_experience = -30 set_country_flag = htd_I_5/8
			}
			if = { limit = { has_country_flag = htd_I_5/8 NOT = { has_country_flag = htd_I_6/8 } has_army_experience > 35 }
				create_equipment_variant = { name = "Heavy Tank Destroyer I serie VI" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -35 set_country_flag = htd_I_6/8
			}
			if = { limit = { has_country_flag = htd_I_6/8 NOT = { has_country_flag = htd_I_7/8 } has_army_experience > 40 }
				create_equipment_variant = { name = "Heavy Tank Destroyer I serie VII" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 5 tank_reliability_upgrade = 2 } }
				army_experience = -40 set_country_flag = htd_I_7/8
			}
			if = { limit = { has_country_flag = htd_I_7/8 NOT = { has_country_flag = htd_I_8/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "Heavy Tank Destroyer I serie VIII" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 5 tank_reliability_upgrade = 3 } }
				army_experience = -45 set_country_flag = htd_I_8/8
			}
		}

		if = { limit = { original_tag = JAP }

			if = { limit = { NOT = { has_country_flag = htd_I_1/8 } has_army_experience > 10 }
				create_equipment_variant = { name = "Ka-To Mk1" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 1 tank_reliability_upgrade = 0 } }
				army_experience = -10 set_country_flag = htd_I_1/8
			}
			if = { limit = { has_country_flag = htd_I_1/8 NOT = { has_country_flag = htd_I_2/8 } has_army_experience > 15 }
				create_equipment_variant = { name = "Ka-To Mk2" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 2 tank_reliability_upgrade = 0 } }
				army_experience = -15 set_country_flag = htd_I_2/8
			}
			if = { limit = { has_country_flag = htd_I_2/8 NOT = { has_country_flag = htd_I_3/8 } has_army_experience > 20 }
				create_equipment_variant = { name = "Ka-To Mk3" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 3 tank_reliability_upgrade = 0 } }
				army_experience = -20 set_country_flag = htd_I_3/8
			}
			if = { limit = { has_country_flag = htd_I_3/8 NOT = { has_country_flag = htd_I_4/8 } has_army_experience > 25 }
				create_equipment_variant = { name = "Ka-To Mk4" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -25 set_country_flag = htd_I_4/8
			}
			if = {	 limit = { has_country_flag = htd_I_4/8 NOT = { has_country_flag = htd_I_5/8 } has_army_experience > 30 }
				create_equipment_variant = { name = "Ka-To Mk5" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 4 tank_reliability_upgrade = 1 } }
				army_experience = -30 set_country_flag = htd_I_5/8
			}
			if = { limit = { has_country_flag = htd_I_5/8 NOT = { has_country_flag = htd_I_6/8 } has_army_experience > 35 }
				create_equipment_variant = { name = "Ka-To Mk6" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -35 set_country_flag = htd_I_6/8
			}
			if = { limit = { has_country_flag = htd_I_6/8 NOT = { has_country_flag = htd_I_7/8 } has_army_experience > 40 }
				create_equipment_variant = { name = "Ka-To Mk7" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 5 tank_reliability_upgrade = 2 } }
				army_experience = -40 set_country_flag = htd_I_7/8
			}
			if = { limit = { has_country_flag = htd_I_7/8 NOT = { has_country_flag = htd_I_8/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "Ka-To Mk8" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 5 tank_reliability_upgrade = 3 } }
				army_experience = -45 set_country_flag = htd_I_8/8
			}
		}

		if = { limit = { original_tag = SOV }

			if = { limit = { NOT = { has_country_flag = htd_I_1/8 } has_army_experience > 10 }
				create_equipment_variant = { name = "SMK A" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 1 tank_reliability_upgrade = 0 } }
				army_experience = -10 set_country_flag = htd_I_1/8
			}
			if = { limit = { has_country_flag = htd_I_1/8 NOT = { has_country_flag = htd_I_2/8 } has_army_experience > 15 }
				create_equipment_variant = { name = "SMK B" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 2 tank_reliability_upgrade = 0 } }
				army_experience = -15 set_country_flag = htd_I_2/8
			}
			if = { limit = { has_country_flag = htd_I_2/8 NOT = { has_country_flag = htd_I_3/8 } has_army_experience > 20 }
				create_equipment_variant = { name = "SMK C" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 3 tank_reliability_upgrade = 0 } }
				army_experience = -20 set_country_flag = htd_I_3/8
			}
			if = { limit = { has_country_flag = htd_I_3/8 NOT = { has_country_flag = htd_I_4/8 } has_army_experience > 25 }
				create_equipment_variant = { name = "SMK D" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -25 set_country_flag = htd_I_4/8
			}
			if = { limit = { has_country_flag = htd_I_4/8 NOT = { has_country_flag = htd_I_5/8 } has_army_experience > 30 }
				create_equipment_variant = { name = "SMK E" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 4 tank_reliability_upgrade = 1 } }
				army_experience = -30 set_country_flag = htd_I_5/8
			}
			if = { limit = { has_country_flag = htd_I_5/8 NOT = { has_country_flag = htd_I_6/8 } has_army_experience > 35 }
				create_equipment_variant = { name = "SMK F" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -35 set_country_flag = htd_I_6/8
			}
			if = { limit = { has_country_flag = htd_I_6/8 NOT = { has_country_flag = htd_I_7/8 } has_army_experience > 40 }
				create_equipment_variant = { name = "SMK G" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 5 tank_reliability_upgrade = 2 } }
				army_experience = -40 set_country_flag = htd_I_7/8
			}
			if = { limit = { has_country_flag = htd_I_7/8 NOT = { has_country_flag = htd_I_8/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "SMK H" type = heavy_tank_destroyer_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 5 tank_reliability_upgrade = 3 } }
				army_experience = -45 set_country_flag = htd_I_8/8
			}
		}
	}

	option = {}
}

#Heavy Tank Destroyer II

country_event = {
	id = EAI_V_HTD.2
	hidden = yes
	mean_time_to_happen = { days = 10 }
	trigger = {
		is_ai = yes
		has_tech = improved_heavy_td NOT = { has_tech = advanced_heavy_td is_researching_technology = advanced_heavy_td }
		has_army_experience > 150
		NOT = { has_country_flag = htd_II_8/8 }

		#VARIANT PRIORITIES
		if = { limit = { has_country_flag = harm_army_focus }
			hspaa_developed = yes
		}
		if = { limit = { has_country_flag = marm_army_focus }
			marm_developed = yes
			mspaa_developed = yes
		}
		if = { limit = { has_country_flag = AT_army_focus }

			if = { limit = { has_country_flag = at_design_MTD }
				mtd_developed = yes
				mspaa_developed = yes
			}
		}
	}

	immediate = {
		if = { limit = { NOT = { named_variants = yes } }

			if = { limit = { NOT = { has_country_flag = htd_II_1/8 } has_army_experience > 10 }
				create_equipment_variant = { name = "Heavy Tank Destroyer II Mk. 1" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 1 tank_reliability_upgrade = 0 } }
				army_experience = -10 set_country_flag = htd_II_1/8
			}
			if = { limit = { has_country_flag = htd_II_1/8 NOT = { has_country_flag = htd_II_2/8 } has_army_experience > 15 }
				create_equipment_variant = { name = "Heavy Tank Destroyer II Mk. 2" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 2 tank_reliability_upgrade = 0 } }
				army_experience = -15 set_country_flag = htd_II_2/8
			}
			if = { limit = { has_country_flag = htd_II_2/8 NOT = { has_country_flag = htd_II_3/8 } has_army_experience > 20 }
				create_equipment_variant = { name = "Heavy Tank Destroyer II Mk. 3" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 3 tank_reliability_upgrade = 0 } }
				army_experience = -20 set_country_flag = htd_II_3/8
			}
			if = { limit = { has_country_flag = htd_II_3/8 NOT = { has_country_flag = htd_II_4/8 } has_army_experience > 25 }
				create_equipment_variant = { name = "Heavy Tank Destroyer II Mk. 4" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -25 set_country_flag = htd_II_4/8
			}
			if = {	 limit = { has_country_flag = htd_II_4/8 NOT = { has_country_flag = htd_II_5/8 } has_army_experience > 30 }
				create_equipment_variant = { name = "Heavy Tank Destroyer II Mk. 5" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 4 tank_reliability_upgrade = 1 } }
				army_experience = -30 set_country_flag = htd_II_5/8
			}
			if = { limit = { has_country_flag = htd_II_5/8 NOT = { has_country_flag = htd_II_6/8 } has_army_experience > 35 }
				create_equipment_variant = { name = "Heavy Tank Destroyer II Mk. 6" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -35 set_country_flag = htd_II_6/8
			}
			if = { limit = { has_country_flag = htd_II_6/8 NOT = { has_country_flag = htd_II_7/8 } has_army_experience > 40 }
				create_equipment_variant = { name = "Heavy Tank Destroyer II Mk. 7" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 5 tank_reliability_upgrade = 2 } }
				army_experience = -40 set_country_flag = htd_II_7/8
			}
			if = { limit = { has_country_flag = htd_II_7/8 NOT = { has_country_flag = htd_II_8/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "Heavy Tank Destroyer II Mk. 8" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 5 tank_reliability_upgrade = 3 } }
				army_experience = -45 set_country_flag = htd_II_8/8
			}
		}

		if = { limit = { original_tag = ENG }

			if = { limit = { NOT = { has_country_flag = htd_II_1/8 } has_army_experience > 10 }
				create_equipment_variant = { name = "Churchill Gun Carrierr II Mk. I" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 1 tank_reliability_upgrade = 0 } }
				army_experience = -10 set_country_flag = htd_II_1/8
			}
			if = { limit = { has_country_flag = htd_II_1/8 NOT = { has_country_flag = htd_II_2/8 } has_army_experience > 15 }
				create_equipment_variant = { name = "Churchill Gun Carrierr II Mk. II" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 2 tank_reliability_upgrade = 0 } }
				army_experience = -15 set_country_flag = htd_II_2/8
			}
			if = { limit = { has_country_flag = htd_II_2/8 NOT = { has_country_flag = htd_II_3/8 } has_army_experience > 20 }
				create_equipment_variant = { name = "Churchill Gun Carrierr II Mk. III" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 3 tank_reliability_upgrade = 0 } }
				army_experience = -20 set_country_flag = htd_II_3/8
			}
			if = { limit = { has_country_flag = htd_II_3/8 NOT = { has_country_flag = htd_II_4/8 } has_army_experience > 25 }
				create_equipment_variant = { name = "Churchill Gun Carrierr II Mk. IV" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -25 set_country_flag = htd_II_4/8
			}
			if = {	 limit = { has_country_flag = htd_II_4/8 NOT = { has_country_flag = htd_II_5/8 } has_army_experience > 30 }
				create_equipment_variant = { name = "Churchill Gun Carrierr II Mk. V" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 4 tank_reliability_upgrade = 1 } }
				army_experience = -30 set_country_flag = htd_II_5/8
			}
			if = { limit = { has_country_flag = htd_II_5/8 NOT = { has_country_flag = htd_II_6/8 } has_army_experience > 35 }
				create_equipment_variant = { name = "Churchill Gun Carrierr II Mk. VI" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -35 set_country_flag = htd_II_6/8
			}
			if = { limit = { has_country_flag = htd_II_6/8 NOT = { has_country_flag = htd_II_7/8 } has_army_experience > 40 }
				create_equipment_variant = { name = "Churchill Gun Carrierr II Mk. VII" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 5 tank_reliability_upgrade = 2 } }
				army_experience = -40 set_country_flag = htd_II_7/8
			}
			if = { limit = { has_country_flag = htd_II_7/8 NOT = { has_country_flag = htd_II_8/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "Churchill Gun Carrierr II Mk. VIII" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 5 tank_reliability_upgrade = 3 } }
				army_experience = -45 set_country_flag = htd_II_8/8
			}
		}

		if = { limit = { original_tag = FRA }

			if = { limit = { NOT = { has_country_flag = htd_II_1/8 } has_army_experience > 10 }
				create_equipment_variant = { name = "Heavy Tank Destroyer II série A" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 1 tank_reliability_upgrade = 0 } }
				army_experience = -10 set_country_flag = htd_II_1/8
			}
			if = { limit = { has_country_flag = htd_II_1/8 NOT = { has_country_flag = htd_II_2/8 } has_army_experience > 15 }
				create_equipment_variant = { name = "Heavy Tank Destroyer II série B" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 2 tank_reliability_upgrade = 0 } }
				army_experience = -15 set_country_flag = htd_II_2/8
			}
			if = { limit = { has_country_flag = htd_II_2/8 NOT = { has_country_flag = htd_II_3/8 } has_army_experience > 20 }
				create_equipment_variant = { name = "Heavy Tank Destroyer II série C" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 3 tank_reliability_upgrade = 0 } }
				army_experience = -20 set_country_flag = htd_II_3/8
			}
			if = { limit = { has_country_flag = htd_II_3/8 NOT = { has_country_flag = htd_II_4/8 } has_army_experience > 25 }
				create_equipment_variant = { name = "Heavy Tank Destroyer II série D" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -25 set_country_flag = htd_II_4/8
			}
			if = {	 limit = { has_country_flag = htd_II_4/8 NOT = { has_country_flag = htd_II_5/8 } has_army_experience > 30 }
				create_equipment_variant = { name = "Heavy Tank Destroyer II série E" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 4 tank_reliability_upgrade = 1 } }
				army_experience = -30 set_country_flag = htd_II_5/8
			}
			if = { limit = { has_country_flag = htd_II_5/8 NOT = { has_country_flag = htd_II_6/8 } has_army_experience > 35 }
				create_equipment_variant = { name = "Heavy Tank Destroyer II série F" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -35 set_country_flag = htd_II_6/8
			}
			if = { limit = { has_country_flag = htd_II_6/8 NOT = { has_country_flag = htd_II_7/8 } has_army_experience > 40 }
				create_equipment_variant = { name = "Heavy Tank Destroyer II série G" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 5 tank_reliability_upgrade = 2 } }
				army_experience = -40 set_country_flag = htd_II_7/8
			}
			if = { limit = { has_country_flag = htd_II_7/8 NOT = { has_country_flag = htd_II_8/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "Heavy Tank Destroyer II série H" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 5 tank_reliability_upgrade = 3 } }
				army_experience = -45 set_country_flag = htd_II_8/8
			}
		}

		if = { limit = { original_tag = USA }

			if = { limit = { NOT = { has_country_flag = htd_II_1/8 } has_army_experience > 10 }
				create_equipment_variant = { name = "Heavy Tank Destroyer II A1" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 1 tank_reliability_upgrade = 0 } }
				army_experience = -10 set_country_flag = htd_II_1/8
			}
			if = { limit = { has_country_flag = htd_II_1/8 NOT = { has_country_flag = htd_II_2/8 } has_army_experience > 15 }
				create_equipment_variant = { name = "Heavy Tank Destroyer II A2" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 2 tank_reliability_upgrade = 0 } }
				army_experience = -15 set_country_flag = htd_II_2/8
			}
			if = { limit = { has_country_flag = htd_II_2/8 NOT = { has_country_flag = htd_II_3/8 } has_army_experience > 20 }
				create_equipment_variant = { name = "Heavy Tank Destroyer II A3" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 3 tank_reliability_upgrade = 0 } }
				army_experience = -20 set_country_flag = htd_II_3/8
			}
			if = { limit = { has_country_flag = htd_II_3/8 NOT = { has_country_flag = htd_II_4/8 } has_army_experience > 25 }
				create_equipment_variant = { name = "Heavy Tank Destroyer II A4" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -25 set_country_flag = htd_II_4/8
			}
			if = {	 limit = { has_country_flag = htd_II_4/8 NOT = { has_country_flag = htd_II_5/8 } has_army_experience > 30 }
				create_equipment_variant = { name = "Heavy Tank Destroyer II A5" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 4 tank_reliability_upgrade = 1 } }
				army_experience = -30 set_country_flag = htd_II_5/8
			}
			if = { limit = { has_country_flag = htd_II_5/8 NOT = { has_country_flag = htd_II_6/8 } has_army_experience > 35 }
				create_equipment_variant = { name = "Heavy Tank Destroyer II A6" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -35 set_country_flag = htd_II_6/8
			}
			if = { limit = { has_country_flag = htd_II_6/8 NOT = { has_country_flag = htd_II_7/8 } has_army_experience > 40 }
				create_equipment_variant = { name = "Heavy Tank Destroyer II A7" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 5 tank_reliability_upgrade = 2 } }
				army_experience = -40 set_country_flag = htd_II_7/8
			}
			if = { limit = { has_country_flag = htd_II_7/8 NOT = { has_country_flag = htd_II_8/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "Heavy Tank Destroyer II A8" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 5 tank_reliability_upgrade = 3 } }
				army_experience = -45 set_country_flag = htd_II_8/8
			}
		}

		if = { limit = { original_tag = GER }

			if = { limit = { NOT = { has_country_flag = htd_II_1/8 } has_army_experience > 10 }
				create_equipment_variant = { name = "Elefant Ausf. A" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 1 tank_reliability_upgrade = 0 } }
				army_experience = -10 set_country_flag = htd_II_1/8
			}
			if = { limit = { has_country_flag = htd_II_1/8 NOT = { has_country_flag = htd_II_2/8 } has_army_experience > 15 }
				create_equipment_variant = { name = "Elefant Ausf. B" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 2 tank_reliability_upgrade = 0 } }
				army_experience = -15 set_country_flag = htd_II_2/8
			}
			if = { limit = { has_country_flag = htd_II_2/8 NOT = { has_country_flag = htd_II_3/8 } has_army_experience > 20 }
				create_equipment_variant = { name = "Elefant Ausf. C" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 3 tank_reliability_upgrade = 0 } }
				army_experience = -20 set_country_flag = htd_II_3/8
			}
			if = { limit = { has_country_flag = htd_II_3/8 NOT = { has_country_flag = htd_II_4/8 } has_army_experience > 25 }
				create_equipment_variant = { name = "Elefant Ausf. D" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -25 set_country_flag = htd_II_4/8
			}
			if = { limit = { has_country_flag = htd_II_4/8 NOT = { has_country_flag = htd_II_5/8 } has_army_experience > 30 }
				create_equipment_variant = { name = "Elefant Ausf. E" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 4 tank_reliability_upgrade = 1 } }
				army_experience = -30 set_country_flag = htd_II_5/8
			}
			if = { limit = { has_country_flag = htd_II_5/8 NOT = { has_country_flag = htd_II_6/8 } has_army_experience > 35 }
				create_equipment_variant = { name = "Elefant Ausf. F" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -35 set_country_flag = htd_II_6/8
			}
			if = { limit = { has_country_flag = htd_II_6/8 NOT = { has_country_flag = htd_II_7/8 } has_army_experience > 40 }
				create_equipment_variant = { name = "Elefant Ausf. G" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 5 tank_reliability_upgrade = 2 } }
				army_experience = -40 set_country_flag = htd_II_7/8
			}
			if = { limit = { has_country_flag = htd_II_7/8 NOT = { has_country_flag = htd_II_8/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "Elefant Ausf. H" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 5 tank_reliability_upgrade = 3 } }
				army_experience = -45 set_country_flag = htd_II_8/8
			}
		}

		if = { limit = { original_tag = ITA }

			if = { limit = { NOT = { has_country_flag = htd_II_1/8 } has_army_experience > 10 }
				create_equipment_variant = { name = "Heavy Tank Destroyer II serie I" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 1 tank_reliability_upgrade = 0 } }
				army_experience = -10 set_country_flag = htd_II_1/8
			}
			if = { limit = { has_country_flag = htd_II_1/8 NOT = { has_country_flag = htd_II_2/8 } has_army_experience > 15 }
				create_equipment_variant = { name = "Heavy Tank Destroyer II serie II" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 2 tank_reliability_upgrade = 0 } }
				army_experience = -15 set_country_flag = htd_II_2/8
			}
			if = { limit = { has_country_flag = htd_II_2/8 NOT = { has_country_flag = htd_II_3/8 } has_army_experience > 20 }
				create_equipment_variant = { name = "Heavy Tank Destroyer II serie III" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 3 tank_reliability_upgrade = 0 } }
				army_experience = -20 set_country_flag = htd_II_3/8
			}
			if = { limit = { has_country_flag = htd_II_3/8 NOT = { has_country_flag = htd_II_4/8 } has_army_experience > 25 }
				create_equipment_variant = { name = "Heavy Tank Destroyer II serie IV" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -25 set_country_flag = htd_II_4/8
			}
			if = {	 limit = { has_country_flag = htd_II_4/8 NOT = { has_country_flag = htd_II_5/8 } has_army_experience > 30 }
				create_equipment_variant = { name = "Heavy Tank Destroyer II serie V" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 4 tank_reliability_upgrade = 1 } }
				army_experience = -30 set_country_flag = htd_II_5/8
			}
			if = { limit = { has_country_flag = htd_II_5/8 NOT = { has_country_flag = htd_II_6/8 } has_army_experience > 35 }
				create_equipment_variant = { name = "Heavy Tank Destroyer II serie VI" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -35 set_country_flag = htd_II_6/8
			}
			if = { limit = { has_country_flag = htd_II_6/8 NOT = { has_country_flag = htd_II_7/8 } has_army_experience > 40 }
				create_equipment_variant = { name = "Heavy Tank Destroyer II serie VII" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 5 tank_reliability_upgrade = 2 } }
				army_experience = -40 set_country_flag = htd_II_7/8
			}
			if = { limit = { has_country_flag = htd_II_7/8 NOT = { has_country_flag = htd_II_8/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "Heavy Tank Destroyer II serie VIII" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 5 tank_reliability_upgrade = 3 } }
				army_experience = -45 set_country_flag = htd_II_8/8
			}
		}

		if = { limit = { original_tag = JAP }

			if = { limit = { NOT = { has_country_flag = htd_II_1/8 } has_army_experience > 10 }
				create_equipment_variant = { name = "Ho-RiI Mk1" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 1 tank_reliability_upgrade = 0 } }
				army_experience = -10 set_country_flag = htd_II_1/8
			}
			if = { limit = { has_country_flag = htd_II_1/8 NOT = { has_country_flag = htd_II_2/8 } has_army_experience > 15 }
				create_equipment_variant = { name = "Ho-RiI Mk2" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 2 tank_reliability_upgrade = 0 } }
				army_experience = -15 set_country_flag = htd_II_2/8
			}
			if = { limit = { has_country_flag = htd_II_2/8 NOT = { has_country_flag = htd_II_3/8 } has_army_experience > 20 }
				create_equipment_variant = { name = "Ho-RiI Mk3" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 3 tank_reliability_upgrade = 0 } }
				army_experience = -20 set_country_flag = htd_II_3/8
			}
			if = { limit = { has_country_flag = htd_II_3/8 NOT = { has_country_flag = htd_II_4/8 } has_army_experience > 25 }
				create_equipment_variant = { name = "Ho-RiI Mk4" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -25 set_country_flag = htd_II_4/8
			}
			if = {	 limit = { has_country_flag = htd_II_4/8 NOT = { has_country_flag = htd_II_5/8 } has_army_experience > 30 }
				create_equipment_variant = { name = "Ho-RiI Mk5" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 4 tank_reliability_upgrade = 1 } }
				army_experience = -30 set_country_flag = htd_II_5/8
			}
			if = { limit = { has_country_flag = htd_II_5/8 NOT = { has_country_flag = htd_II_6/8 } has_army_experience > 35 }
				create_equipment_variant = { name = "Ho-RiI Mk6" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -35 set_country_flag = htd_II_6/8
			}
			if = { limit = { has_country_flag = htd_II_6/8 NOT = { has_country_flag = htd_II_7/8 } has_army_experience > 40 }
				create_equipment_variant = { name = "Ho-RiI Mk7" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 5 tank_reliability_upgrade = 2 } }
				army_experience = -40 set_country_flag = htd_II_7/8
			}
			if = { limit = { has_country_flag = htd_II_7/8 NOT = { has_country_flag = htd_II_8/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "Ho-RiI Mk8" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 5 tank_reliability_upgrade = 3 } }
				army_experience = -45 set_country_flag = htd_II_8/8
			}
		}

		if = { limit = { original_tag = SOV }

			if = { limit = { NOT = { has_country_flag = htd_II_1/8 } has_army_experience > 10 }
				create_equipment_variant = { name = "SU-152 A" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 1 tank_reliability_upgrade = 0 } }
				army_experience = -10 set_country_flag = htd_II_1/8
			}
			if = { limit = { has_country_flag = htd_II_1/8 NOT = { has_country_flag = htd_II_2/8 } has_army_experience > 15 }
				create_equipment_variant = { name = "SU-152 B" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 2 tank_reliability_upgrade = 0 } }
				army_experience = -15 set_country_flag = htd_II_2/8
			}
			if = { limit = { has_country_flag = htd_II_2/8 NOT = { has_country_flag = htd_II_3/8 } has_army_experience > 20 }
				create_equipment_variant = { name = "SU-152 C" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 3 tank_reliability_upgrade = 0 } }
				army_experience = -20 set_country_flag = htd_II_3/8
			}
			if = { limit = { has_country_flag = htd_II_3/8 NOT = { has_country_flag = htd_II_4/8 } has_army_experience > 25 }
				create_equipment_variant = { name = "SU-152 D" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -25 set_country_flag = htd_II_4/8
			}
			if = { limit = { has_country_flag = htd_II_4/8 NOT = { has_country_flag = htd_II_5/8 } has_army_experience > 30 }
				create_equipment_variant = { name = "SU-152 E" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 4 tank_reliability_upgrade = 1 } }
				army_experience = -30 set_country_flag = htd_II_5/8
			}
			if = { limit = { has_country_flag = htd_II_5/8 NOT = { has_country_flag = htd_II_6/8 } has_army_experience > 35 }
				create_equipment_variant = { name = "SU-152 F" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -35 set_country_flag = htd_II_6/8
			}
			if = { limit = { has_country_flag = htd_II_6/8 NOT = { has_country_flag = htd_II_7/8 } has_army_experience > 40 }
				create_equipment_variant = { name = "SU-152 G" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 5 tank_reliability_upgrade = 2 } }
				army_experience = -40 set_country_flag = htd_II_7/8
			}
			if = { limit = { has_country_flag = htd_II_7/8 NOT = { has_country_flag = htd_II_8/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "SU-152 H" type = heavy_tank_destroyer_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 5 tank_reliability_upgrade = 3 } }
				army_experience = -45 set_country_flag = htd_II_8/8
			}
		}
	}

	option = {}
}

#Heavy Tank Destroyer III

country_event = {
	id = EAI_V_HTD.3
	hidden = yes
	mean_time_to_happen = { days = 10 }
	trigger = {
		is_ai = yes
		has_tech = advanced_heavy_td
		has_army_experience > 150
		NOT = { has_country_flag = htd_III_8/8 }

		#VARIANT PRIORITIES
		if = { limit = { has_country_flag = harm_army_focus }
			hspaa_developed = yes
		}
		if = { limit = { has_country_flag = marm_army_focus }
			marm_developed = yes
			mspaa_developed = yes
		}
		if = { limit = { has_country_flag = AT_army_focus }

			if = { limit = { has_country_flag = at_design_MTD }
				mtd_developed = yes
				mspaa_developed = yes
			}
		}
	}

	immediate = {
		if = { limit = { NOT = { named_variants = yes } }

			if = { limit = { NOT = { has_country_flag = htd_III_1/8 } has_army_experience > 10 }
				create_equipment_variant = { name = "Heavy Tank Destroyer II Mk. 1" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 1 tank_reliability_upgrade = 0 } }
				army_experience = -10 set_country_flag = htd_III_1/8
			}
			if = { limit = { has_country_flag = htd_III_1/8 NOT = { has_country_flag = htd_III_2/8 } has_army_experience > 15 }
				create_equipment_variant = { name = "Heavy Tank Destroyer II Mk. 2" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 2 tank_reliability_upgrade = 0 } }
				army_experience = -15 set_country_flag = htd_III_2/8
			}
			if = { limit = { has_country_flag = htd_III_2/8 NOT = { has_country_flag = htd_III_3/8 } has_army_experience > 20 }
				create_equipment_variant = { name = "Heavy Tank Destroyer II Mk. 3" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 3 tank_reliability_upgrade = 0 } }
				army_experience = -20 set_country_flag = htd_III_3/8
			}
			if = { limit = { has_country_flag = htd_III_3/8 NOT = { has_country_flag = htd_III_4/8 } has_army_experience > 25 }
				create_equipment_variant = { name = "Heavy Tank Destroyer II Mk. 4" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -25 set_country_flag = htd_III_4/8
			}
			if = {	 limit = { has_country_flag = htd_III_4/8 NOT = { has_country_flag = htd_III_5/8 } has_army_experience > 30 }
				create_equipment_variant = { name = "Heavy Tank Destroyer II Mk. 5" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 4 tank_reliability_upgrade = 1 } }
				army_experience = -30 set_country_flag = htd_III_5/8
			}
			if = { limit = { has_country_flag = htd_III_5/8 NOT = { has_country_flag = htd_III_6/8 } has_army_experience > 35 }
				create_equipment_variant = { name = "Heavy Tank Destroyer II Mk. 6" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -35 set_country_flag = htd_III_6/8
			}
			if = { limit = { has_country_flag = htd_III_6/8 NOT = { has_country_flag = htd_III_7/8 } has_army_experience > 40 }
				create_equipment_variant = { name = "Heavy Tank Destroyer II Mk. 7" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 5 tank_reliability_upgrade = 2 } }
				army_experience = -40 set_country_flag = htd_III_7/8
			}
			if = { limit = { has_country_flag = htd_III_7/8 NOT = { has_country_flag = htd_III_8/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "Heavy Tank Destroyer II Mk. 8" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 5 tank_reliability_upgrade = 3 } }
				army_experience = -45 set_country_flag = htd_III_8/8
			}
		}

		if = { limit = { original_tag = ENG }

			if = { limit = { NOT = { has_country_flag = htd_III_1/8 } has_army_experience > 10 }
				create_equipment_variant = { name = "Hector Mk. I" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 1 tank_reliability_upgrade = 0 } }
				army_experience = -10 set_country_flag = htd_III_1/8
			}
			if = { limit = { has_country_flag = htd_III_1/8 NOT = { has_country_flag = htd_III_2/8 } has_army_experience > 15 }
				create_equipment_variant = { name = "Hector Mk. II" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 2 tank_reliability_upgrade = 0 } }
				army_experience = -15 set_country_flag = htd_III_2/8
			}
			if = { limit = { has_country_flag = htd_III_2/8 NOT = { has_country_flag = htd_III_3/8 } has_army_experience > 20 }
				create_equipment_variant = { name = "Hector Mk. III" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 3 tank_reliability_upgrade = 0 } }
				army_experience = -20 set_country_flag = htd_III_3/8
			}
			if = { limit = { has_country_flag = htd_III_3/8 NOT = { has_country_flag = htd_III_4/8 } has_army_experience > 25 }
				create_equipment_variant = { name = "Hector Mk. IV" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -25 set_country_flag = htd_III_4/8
			}
			if = {	 limit = { has_country_flag = htd_III_4/8 NOT = { has_country_flag = htd_III_5/8 } has_army_experience > 30 }
				create_equipment_variant = { name = "Hector Mk. V" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 4 tank_reliability_upgrade = 1 } }
				army_experience = -30 set_country_flag = htd_III_5/8
			}
			if = { limit = { has_country_flag = htd_III_5/8 NOT = { has_country_flag = htd_III_6/8 } has_army_experience > 35 }
				create_equipment_variant = { name = "Hector Mk. VI" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -35 set_country_flag = htd_III_6/8
			}
			if = { limit = { has_country_flag = htd_III_6/8 NOT = { has_country_flag = htd_III_7/8 } has_army_experience > 40 }
				create_equipment_variant = { name = "Hector Mk. VII" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 5 tank_reliability_upgrade = 2 } }
				army_experience = -40 set_country_flag = htd_III_7/8
			}
			if = { limit = { has_country_flag = htd_III_7/8 NOT = { has_country_flag = htd_III_8/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "Hector Mk. VIII" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 5 tank_reliability_upgrade = 3 } }
				army_experience = -45 set_country_flag = htd_III_8/8
			}
		}

		if = { limit = { original_tag = FRA }

			if = { limit = { NOT = { has_country_flag = htd_III_1/8 } has_army_experience > 10 }
				create_equipment_variant = { name = "Heavy Tank Destroyer III série A" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 1 tank_reliability_upgrade = 0 } }
				army_experience = -10 set_country_flag = htd_III_1/8
			}
			if = { limit = { has_country_flag = htd_III_1/8 NOT = { has_country_flag = htd_III_2/8 } has_army_experience > 15 }
				create_equipment_variant = { name = "Heavy Tank Destroyer III série B" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 2 tank_reliability_upgrade = 0 } }
				army_experience = -15 set_country_flag = htd_III_2/8
			}
			if = { limit = { has_country_flag = htd_III_2/8 NOT = { has_country_flag = htd_III_3/8 } has_army_experience > 20 }
				create_equipment_variant = { name = "Heavy Tank Destroyer III série C" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 3 tank_reliability_upgrade = 0 } }
				army_experience = -20 set_country_flag = htd_III_3/8
			}
			if = { limit = { has_country_flag = htd_III_3/8 NOT = { has_country_flag = htd_III_4/8 } has_army_experience > 25 }
				create_equipment_variant = { name = "Heavy Tank Destroyer III série D" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -25 set_country_flag = htd_III_4/8
			}
			if = {	 limit = { has_country_flag = htd_III_4/8 NOT = { has_country_flag = htd_III_5/8 } has_army_experience > 30 }
				create_equipment_variant = { name = "Heavy Tank Destroyer III série E" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 4 tank_reliability_upgrade = 1 } }
				army_experience = -30 set_country_flag = htd_III_5/8
			}
			if = { limit = { has_country_flag = htd_III_5/8 NOT = { has_country_flag = htd_III_6/8 } has_army_experience > 35 }
				create_equipment_variant = { name = "Heavy Tank Destroyer III série F" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -35 set_country_flag = htd_III_6/8
			}
			if = { limit = { has_country_flag = htd_III_6/8 NOT = { has_country_flag = htd_III_7/8 } has_army_experience > 40 }
				create_equipment_variant = { name = "Heavy Tank Destroyer III série G" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 5 tank_reliability_upgrade = 2 } }
				army_experience = -40 set_country_flag = htd_III_7/8
			}
			if = { limit = { has_country_flag = htd_III_7/8 NOT = { has_country_flag = htd_III_8/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "Heavy Tank Destroyer III série H" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 5 tank_reliability_upgrade = 3 } }
				army_experience = -45 set_country_flag = htd_III_8/8
			}
		}

		if = { limit = { original_tag = USA }

			if = { limit = { NOT = { has_country_flag = htd_III_1/8 } has_army_experience > 10 }
				create_equipment_variant = { name = "Heavy Tank Destroyer III A1" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 1 tank_reliability_upgrade = 0 } }
				army_experience = -10 set_country_flag = htd_III_1/8
			}
			if = { limit = { has_country_flag = htd_III_1/8 NOT = { has_country_flag = htd_III_2/8 } has_army_experience > 15 }
				create_equipment_variant = { name = "Heavy Tank Destroyer III A2" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 2 tank_reliability_upgrade = 0 } }
				army_experience = -15 set_country_flag = htd_III_2/8
			}
			if = { limit = { has_country_flag = htd_III_2/8 NOT = { has_country_flag = htd_III_3/8 } has_army_experience > 20 }
				create_equipment_variant = { name = "Heavy Tank Destroyer III A3" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 3 tank_reliability_upgrade = 0 } }
				army_experience = -20 set_country_flag = htd_III_3/8
			}
			if = { limit = { has_country_flag = htd_III_3/8 NOT = { has_country_flag = htd_III_4/8 } has_army_experience > 25 }
				create_equipment_variant = { name = "Heavy Tank Destroyer III A4" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -25 set_country_flag = htd_III_4/8
			}
			if = {	 limit = { has_country_flag = htd_III_4/8 NOT = { has_country_flag = htd_III_5/8 } has_army_experience > 30 }
				create_equipment_variant = { name = "Heavy Tank Destroyer III A5" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 4 tank_reliability_upgrade = 1 } }
				army_experience = -30 set_country_flag = htd_III_5/8
			}
			if = { limit = { has_country_flag = htd_III_5/8 NOT = { has_country_flag = htd_III_6/8 } has_army_experience > 35 }
				create_equipment_variant = { name = "Heavy Tank Destroyer III A6" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -35 set_country_flag = htd_III_6/8
			}
			if = { limit = { has_country_flag = htd_III_6/8 NOT = { has_country_flag = htd_III_7/8 } has_army_experience > 40 }
				create_equipment_variant = { name = "Heavy Tank Destroyer III A7" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 5 tank_reliability_upgrade = 2 } }
				army_experience = -40 set_country_flag = htd_III_7/8
			}
			if = { limit = { has_country_flag = htd_III_7/8 NOT = { has_country_flag = htd_III_8/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "Heavy Tank Destroyer III A8" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 5 tank_reliability_upgrade = 3 } }
				army_experience = -45 set_country_flag = htd_III_8/8
			}
		}

		if = { limit = { original_tag = GER }

			if = { limit = { NOT = { has_country_flag = htd_III_1/8 } has_army_experience > 10 }
				create_equipment_variant = { name = "Jagdtiger Ausf. A" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 1 tank_reliability_upgrade = 0 } }
				army_experience = -10 set_country_flag = htd_III_1/8
			}
			if = { limit = { has_country_flag = htd_III_1/8 NOT = { has_country_flag = htd_III_2/8 } has_army_experience > 15 }
				create_equipment_variant = { name = "Jagdtiger Ausf. B" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 2 tank_reliability_upgrade = 0 } }
				army_experience = -15 set_country_flag = htd_III_2/8
			}
			if = { limit = { has_country_flag = htd_III_2/8 NOT = { has_country_flag = htd_III_3/8 } has_army_experience > 20 }
				create_equipment_variant = { name = "Jagdtiger Ausf. C" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 3 tank_reliability_upgrade = 0 } }
				army_experience = -20 set_country_flag = htd_III_3/8
			}
			if = { limit = { has_country_flag = htd_III_3/8 NOT = { has_country_flag = htd_III_4/8 } has_army_experience > 25 }
				create_equipment_variant = { name = "Jagdtiger Ausf. D" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -25 set_country_flag = htd_III_4/8
			}
			if = { limit = { has_country_flag = htd_III_4/8 NOT = { has_country_flag = htd_III_5/8 } has_army_experience > 30 }
				create_equipment_variant = { name = "Jagdtiger Ausf. E" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 4 tank_reliability_upgrade = 1 } }
				army_experience = -30 set_country_flag = htd_III_5/8
			}
			if = { limit = { has_country_flag = htd_III_5/8 NOT = { has_country_flag = htd_III_6/8 } has_army_experience > 35 }
				create_equipment_variant = { name = "Jagdtiger Ausf. F" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -35 set_country_flag = htd_III_6/8
			}
			if = { limit = { has_country_flag = htd_III_6/8 NOT = { has_country_flag = htd_III_7/8 } has_army_experience > 40 }
				create_equipment_variant = { name = "Jagdtiger Ausf. G" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 5 tank_reliability_upgrade = 2 } }
				army_experience = -40 set_country_flag = htd_III_7/8
			}
			if = { limit = { has_country_flag = htd_III_7/8 NOT = { has_country_flag = htd_III_8/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "Jagdtiger Ausf. H" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 5 tank_reliability_upgrade = 3 } }
				army_experience = -45 set_country_flag = htd_III_8/8
			}
		}

		if = { limit = { original_tag = ITA }

			if = { limit = { NOT = { has_country_flag = htd_III_1/8 } has_army_experience > 10 }
				create_equipment_variant = { name = "Heavy Tank Destroyer III serie I" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 1 tank_reliability_upgrade = 0 } }
				army_experience = -10 set_country_flag = htd_III_1/8
			}
			if = { limit = { has_country_flag = htd_III_1/8 NOT = { has_country_flag = htd_III_2/8 } has_army_experience > 15 }
				create_equipment_variant = { name = "Heavy Tank Destroyer III serie II" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 2 tank_reliability_upgrade = 0 } }
				army_experience = -15 set_country_flag = htd_III_2/8
			}
			if = { limit = { has_country_flag = htd_III_2/8 NOT = { has_country_flag = htd_III_3/8 } has_army_experience > 20 }
				create_equipment_variant = { name = "Heavy Tank Destroyer III serie III" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 3 tank_reliability_upgrade = 0 } }
				army_experience = -20 set_country_flag = htd_III_3/8
			}
			if = { limit = { has_country_flag = htd_III_3/8 NOT = { has_country_flag = htd_III_4/8 } has_army_experience > 25 }
				create_equipment_variant = { name = "Heavy Tank Destroyer III serie IV" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -25 set_country_flag = htd_III_4/8
			}
			if = {	 limit = { has_country_flag = htd_III_4/8 NOT = { has_country_flag = htd_III_5/8 } has_army_experience > 30 }
				create_equipment_variant = { name = "Heavy Tank Destroyer III serie V" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 4 tank_reliability_upgrade = 1 } }
				army_experience = -30 set_country_flag = htd_III_5/8
			}
			if = { limit = { has_country_flag = htd_III_5/8 NOT = { has_country_flag = htd_III_6/8 } has_army_experience > 35 }
				create_equipment_variant = { name = "Heavy Tank Destroyer III serie VI" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -35 set_country_flag = htd_III_6/8
			}
			if = { limit = { has_country_flag = htd_III_6/8 NOT = { has_country_flag = htd_III_7/8 } has_army_experience > 40 }
				create_equipment_variant = { name = "Heavy Tank Destroyer III serie VII" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 5 tank_reliability_upgrade = 2 } }
				army_experience = -40 set_country_flag = htd_III_7/8
			}
			if = { limit = { has_country_flag = htd_III_7/8 NOT = { has_country_flag = htd_III_8/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "Heavy Tank Destroyer III serie VIII" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 5 tank_reliability_upgrade = 3 } }
				army_experience = -45 set_country_flag = htd_III_8/8
			}
		}

		if = { limit = { original_tag = JAP }

			if = { limit = { NOT = { has_country_flag = htd_III_1/8 } has_army_experience > 10 }
				create_equipment_variant = { name = "Heavy Tank Destroyer III Mk1" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 1 tank_reliability_upgrade = 0 } }
				army_experience = -10 set_country_flag = htd_III_1/8
			}
			if = { limit = { has_country_flag = htd_III_1/8 NOT = { has_country_flag = htd_III_2/8 } has_army_experience > 15 }
				create_equipment_variant = { name = "Heavy Tank Destroyer III Mk2" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 2 tank_reliability_upgrade = 0 } }
				army_experience = -15 set_country_flag = htd_III_2/8
			}
			if = { limit = { has_country_flag = htd_III_2/8 NOT = { has_country_flag = htd_III_3/8 } has_army_experience > 20 }
				create_equipment_variant = { name = "Heavy Tank Destroyer III Mk3" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 3 tank_reliability_upgrade = 0 } }
				army_experience = -20 set_country_flag = htd_III_3/8
			}
			if = { limit = { has_country_flag = htd_III_3/8 NOT = { has_country_flag = htd_III_4/8 } has_army_experience > 25 }
				create_equipment_variant = { name = "Heavy Tank Destroyer III Mk4" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -25 set_country_flag = htd_III_4/8
			}
			if = {	 limit = { has_country_flag = htd_III_4/8 NOT = { has_country_flag = htd_III_5/8 } has_army_experience > 30 }
				create_equipment_variant = { name = "Heavy Tank Destroyer III Mk5" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 4 tank_reliability_upgrade = 1 } }
				army_experience = -30 set_country_flag = htd_III_5/8
			}
			if = { limit = { has_country_flag = htd_III_5/8 NOT = { has_country_flag = htd_III_6/8 } has_army_experience > 35 }
				create_equipment_variant = { name = "Heavy Tank Destroyer III Mk6" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -35 set_country_flag = htd_III_6/8
			}
			if = { limit = { has_country_flag = htd_III_6/8 NOT = { has_country_flag = htd_III_7/8 } has_army_experience > 40 }
				create_equipment_variant = { name = "Heavy Tank Destroyer III Mk7" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 5 tank_reliability_upgrade = 2 } }
				army_experience = -40 set_country_flag = htd_III_7/8
			}
			if = { limit = { has_country_flag = htd_III_7/8 NOT = { has_country_flag = htd_III_8/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "Heavy Tank Destroyer III Mk8" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 5 tank_reliability_upgrade = 3 } }
				army_experience = -45 set_country_flag = htd_III_8/8
			}
		}

		if = { limit = { original_tag = SOV }

			if = { limit = { NOT = { has_country_flag = htd_III_1/8 } has_army_experience > 10 }
				create_equipment_variant = { name = "ISU-122 A" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 1 tank_reliability_upgrade = 0 } }
				army_experience = -10 set_country_flag = htd_III_1/8
			}
			if = { limit = { has_country_flag = htd_III_1/8 NOT = { has_country_flag = htd_III_2/8 } has_army_experience > 15 }
				create_equipment_variant = { name = "ISU-122 B" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 2 tank_reliability_upgrade = 0 } }
				army_experience = -15 set_country_flag = htd_III_2/8
			}
			if = { limit = { has_country_flag = htd_III_2/8 NOT = { has_country_flag = htd_III_3/8 } has_army_experience > 20 }
				create_equipment_variant = { name = "ISU-122 C" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 3 tank_reliability_upgrade = 0 } }
				army_experience = -20 set_country_flag = htd_III_3/8
			}
			if = { limit = { has_country_flag = htd_III_3/8 NOT = { has_country_flag = htd_III_4/8 } has_army_experience > 25 }
				create_equipment_variant = { name = "ISU-122 D" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -25 set_country_flag = htd_III_4/8
			}
			if = { limit = { has_country_flag = htd_III_4/8 NOT = { has_country_flag = htd_III_5/8 } has_army_experience > 30 }
				create_equipment_variant = { name = "ISU-122 E" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 4 tank_reliability_upgrade = 1 } }
				army_experience = -30 set_country_flag = htd_III_5/8
			}
			if = { limit = { has_country_flag = htd_III_5/8 NOT = { has_country_flag = htd_III_6/8 } has_army_experience > 35 }
				create_equipment_variant = { name = "ISU-122 F" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -35 set_country_flag = htd_III_6/8
			}
			if = { limit = { has_country_flag = htd_III_6/8 NOT = { has_country_flag = htd_III_7/8 } has_army_experience > 40 }
				create_equipment_variant = { name = "ISU-122 G" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 5 tank_reliability_upgrade = 2 } }
				army_experience = -40 set_country_flag = htd_III_7/8
			}
			if = { limit = { has_country_flag = htd_III_7/8 NOT = { has_country_flag = htd_III_8/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "ISU-122 H" type = heavy_tank_destroyer_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 0 tank_at_upgrade = 5 tank_reliability_upgrade = 3 } }
				army_experience = -45 set_country_flag = htd_III_8/8
			}
		}
	}

	option = {}
}