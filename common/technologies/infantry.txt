technologies = {
	
	@1918 = 0
	@1924 = 1
	@1936 = 2
	@1938 = 4
	@1939 = 6
	@1940 = 8
	@1941 = 10
	@1942 = 12
	@1943 = 14
	@1944 = 16
	@1945 = 18
	@1946 = 20

	infantry_weapons = {

		enable_equipments = {
			infantry_equipment_0
		}

		enable_equipment_modules = {
			tank_heavy_machine_gun
			secondary_turret_hmg
			additional_machine_guns
		}
		
		enable_subunits = {
			infantry
		}
		
		path = {
			leads_to_tech = infantry_weapons1
			research_cost_coeff = 1
		}		

		research_cost = 1.5
		start_year = 1918
		folder = {
			name = infantry_folder
			position = { x = 0 y = -1 }
		}
		
		categories = {
			infantry_weapons
		}
		
		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 100 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				if = { 
					limit = { 
						date > 1936.6.1 
						OR = { 
							has_war = yes 
							EAI_infantry_tech_focus = yes 
						} 
					}

					multiply_temp_variable = { EAI_tmp_research_factor = 3 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1936.1.7
						}
						else = { 
							
							date < 1936.1.7
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:infantry_weapons } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:infantry_weapons } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:infantry_weapons } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}
	}
	
	infantry_weapons1 = {

		enable_equipments = {
			infantry_equipment_1
		}
				
		path = {
			leads_to_tech = infantry_weapons2
			research_cost_coeff = 1
		}		

		research_cost = 1.5
		start_year = 1936
		folder = {
			name = infantry_folder
			position = { x = 0 y = @1936 }
		}
		
		categories = {
			infantry_weapons
		}
		
		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 100 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				if = { 
					limit = { 
						date > 1936.6.1 
						OR = { 
							has_war = yes 
							EAI_infantry_tech_focus = yes 
						} 
					}

					multiply_temp_variable = { EAI_tmp_research_factor = 3 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1936.1.7
						}
						else = { 
							
							date < 1936.1.7
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:infantry_weapons1 } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:infantry_weapons1 } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:infantry_weapons1 } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}
	}	
	
	infantry_weapons2 = {

		category_light_infantry = {
			soft_attack = 0.05
		}
		
		cavalry = {
			soft_attack = 0.05
		}
		
		motorized = {
			soft_attack = 0.05
		}
		
		mechanized = {
			soft_attack = 0.05
		}
		amphibious_mechanized = {
			soft_attack = 0.05
		}
		
		path = {
			leads_to_tech = improved_infantry_weapons
			research_cost_coeff = 1
		}		

		research_cost = 1.5
		start_year = 1938
		folder = {
			name = infantry_folder
			position = { x = 0 y = @1938 }
		}
		
		categories = {
			infantry_weapons
		}
		
		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 300 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				if = { 
					limit = { 
						date > 1940.6.1
					}

					multiply_temp_variable = { EAI_tmp_research_factor = 1.5 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1937.6.1
						}
						else = { 
							
							date < 1938.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:infantry_weapons2 } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:infantry_weapons2 } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:infantry_weapons2 } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}
	}
	
	improved_infantry_weapons = {

		enable_equipments = {
			infantry_equipment_2
		}
		
		path = {
			leads_to_tech = improved_infantry_weapons_2
			research_cost_coeff = 1
		}
		path = {
			leads_to_tech = infantry_at
			research_cost_coeff = 1
		}		

		research_cost = 2
		start_year = 1939
		folder = {
			name = infantry_folder
			position = { x = 0 y = @1939 }
		}
		
		categories = {
			infantry_weapons
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 1 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				if = { 
					limit = { 
						OR = { date > 1938.10.1 has_war = yes }
					}

					multiply_temp_variable = { EAI_tmp_research_factor = 300 }
				}

				if = { 
					limit = { 
						date > 1939.2.1
					}

					multiply_temp_variable = { EAI_tmp_research_factor = 1.5 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1938.6.1
						}
						else = { 
							
							date < 1939.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}
				
				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:improved_infantry_weapons } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:improved_infantry_weapons } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:improved_infantry_weapons } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}
	}
	improved_infantry_weapons_2 = {

		category_light_infantry = {
			soft_attack = 0.05
		}
		
		cavalry = {
			soft_attack = 0.05
		}
		
		motorized = {
			soft_attack = 0.05
		}
		
		mechanized = {
			soft_attack = 0.05
		}
		amphibious_mechanized = {
			soft_attack = 0.05
		}
		
		path = {
			leads_to_tech = advanced_infantry_weapons
			research_cost_coeff = 1
		}

		research_cost = 2
		start_year = 1940
		folder = {
			name = infantry_folder
			position = { x = 0 y = @1940 }
		}
		
		categories = {
			infantry_weapons
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 10 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				if = { 
					limit = { 
						EAI_infantry_tech_focus = yes
					}

					multiply_temp_variable = { EAI_tmp_research_factor = 30 }
				}

				if = { 
					limit = { 
						date > 1941.1.1
					}

					multiply_temp_variable = { EAI_tmp_research_factor = 5 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1939.6.1
						}
						else = { 
							
							date < 1940.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				# if = {
				# 	limit = {
				# 		NOT = { has_country_flag = EAI_unused_research_slots_extended }

				# 		OR = { 
							
				# 			AND = {
								
				# 			}
				# 		}
				# 	}

				# 	set_temp_variable = { EAI_tmp_research_factor = 0 }
				# }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:improved_infantry_weapons_2 } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:improved_infantry_weapons_2 } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:improved_infantry_weapons_2 } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}
	}
	
	infantry_at = {

		category_all_infantry = {
			hard_attack = 0.25
			ap_attack = 1
		}
		
		path = {
			leads_to_tech = infantry_at2
			research_cost_coeff = 1
		}

		research_cost = 1.5
		start_year = 1942
		folder = {
			name = infantry_folder
			position = { x = 2 y = @1942 }
		}
		
		categories = {
			infantry_weapons
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 20 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				if = { 
					limit = { 
						EAI_infantry_tech_focus = yes
					}

					multiply_temp_variable = { EAI_tmp_research_factor = 2 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1941.6.1
						}
						else = { 
							
							date < 1942.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				# if = {
				# 	limit = {
				# 		NOT = { has_country_flag = EAI_unused_research_slots_extended }

				# 		OR = { 
							
				# 			AND = {
								
				# 			}
				# 		}
				# 	}

				# 	set_temp_variable = { EAI_tmp_research_factor = 0 }
				# }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:infantry_at } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:infantry_at } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:infantry_at } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}
	}
	
	infantry_at2 = {

		category_all_infantry = {
			hard_attack = 0.25
			ap_attack = 1
		}
		
		research_cost = 1.5
		start_year = 1943
		folder = {
			name = infantry_folder
			position = { x = 2 y = @1943 }
		}
		
		categories = {
			infantry_weapons
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 20 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				if = { 
					limit = { 
						EAI_infantry_tech_focus = yes
					}

					multiply_temp_variable = { EAI_tmp_research_factor = 2 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1942.6.1
						}
						else = { 
							
							date < 1943.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				# if = {
				# 	limit = {
				# 		NOT = { has_country_flag = EAI_unused_research_slots_extended }

				# 		OR = { 
							
				# 			AND = {
								
				# 			}
				# 		}
				# 	}

				# 	set_temp_variable = { EAI_tmp_research_factor = 0 }
				# }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:infantry_at2 } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:infantry_at2 } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:infantry_at2 } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}
	}
	
	advanced_infantry_weapons = {

		enable_equipments = {
			infantry_equipment_3
		}	
		
		path = {
			leads_to_tech = advanced_infantry_weapons2
			research_cost_coeff = 1
		}

		research_cost = 2
		start_year = 1942
		folder = {
			name = infantry_folder
			position = { x = 0 y = @1942 }
		}
		
		categories = {
			infantry_weapons
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 10 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				if = { 
					limit = { 
						EAI_infantry_tech_focus = yes
					}

					multiply_temp_variable = { EAI_tmp_research_factor = 30 }
				}

				if = { 
					limit = { 
						date > 1943.1.1
					}

					multiply_temp_variable = { EAI_tmp_research_factor = 5 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1941.6.1
						}
						else = { 
							
							date < 1942.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				# if = {
				# 	limit = {
				# 		NOT = { has_country_flag = EAI_unused_research_slots_extended }

				# 		OR = { 
							
				# 			AND = {
								
				# 			}
				# 		}
				# 	}

				# 	set_temp_variable = { EAI_tmp_research_factor = 0 }
				# }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:advanced_infantry_weapons } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:advanced_infantry_weapons } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:advanced_infantry_weapons } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}
	}
	
	advanced_infantry_weapons2 = {

		category_light_infantry = {
			soft_attack = 0.05
		}
		cavalry = {
			soft_attack = 0.1
		}		


		motorized = {
			soft_attack = 0.1
		}
		mechanized = {
			soft_attack = 0.1
		}
		amphibious_mechanized = {
			soft_attack = 0.1
		}		

		research_cost = 1.5
		start_year = 1944
		folder = {
			name = infantry_folder
			position = { x = 0 y = @1944 }
		}
		
		categories = {
			infantry_weapons
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 10 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				if = { 
					limit = { 
						EAI_infantry_tech_focus = yes
					}

					multiply_temp_variable = { EAI_tmp_research_factor = 30 }
				}

				if = { 
					limit = { 
						date > 1945.1.1
					}

					multiply_temp_variable = { EAI_tmp_research_factor = 5 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1943.6.1
						}
						else = { 
							
							date < 1944.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				# if = {
				# 	limit = {
				# 		NOT = { has_country_flag = EAI_unused_research_slots_extended }

				# 		OR = { 
							
				# 			AND = {
								
				# 			}
				# 		}
				# 	}

				# 	set_temp_variable = { EAI_tmp_research_factor = 0 }
				# }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:advanced_infantry_weapons2 } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:advanced_infantry_weapons2 } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:advanced_infantry_weapons2 } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}
	}
	
	paratroopers = {

		enable_subunits = {
			paratrooper
		}
		
		path = {
			leads_to_tech = paratroopers2
			research_cost_coeff = 1
		}

		research_cost = 2
		start_year = 1936
		folder = {
			name = infantry_folder
			position = { x = 2 y = @1936 }
		}
		
		on_research_complete_limit = {
			NOT = {
				has_template_containing_unit = paratrooper
			}
		}
		on_research_complete = {
			hidden_effect = {
				load_oob = "unlock_paratroopers"
			}
			custom_effect_tooltip = UNLOCK_DIVISION_TEMPLATE
		}
		
		categories = {
			para_tech
			cat_special_forces_generic
		}
		
		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 0 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				# if = { 
				# 	limit = { 
				# 		
				# 	}

				# 	multiply_temp_variable = { EAI_tmp_research_factor = 1 }
				# }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1936.6.1
						}
						else = { 
							
							date < 1937.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				# if = {
				# 	limit = {
				# 		NOT = { has_country_flag = EAI_unused_research_slots_extended }

				# 		OR = { 
							
				# 			AND = {
								
				# 			}
				# 		}
				# 	}

				# 	set_temp_variable = { EAI_tmp_research_factor = 0 }
				# }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:paratroopers } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:paratroopers } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:paratroopers } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}
	}
	
	paratroopers2 = {

		paratrooper = {
			max_organisation = 5
			soft_attack = 0.05
		}
		
		path = {
			leads_to_tech = paratroopers3
			research_cost_coeff = 1
		}
		
		research_cost = 1.5
		start_year = 1939
		folder = {
			name = infantry_folder
			position = { x = 2 y = @1939 }
		}
		
		categories = {
			para_tech
			cat_special_forces_generic
		}
		
		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 0 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				# if = { 
				# 	limit = { 
				# 		
				# 	}

				# 	multiply_temp_variable = { EAI_tmp_research_factor = 1 }
				# }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1936.6.1
						}
						else = { 
							
							date < 1937.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				# if = {
				# 	limit = {
				# 		NOT = { has_country_flag = EAI_unused_research_slots_extended }

				# 		OR = { 
							
				# 			AND = {
								
				# 			}
				# 		}
				# 	}

				# 	set_temp_variable = { EAI_tmp_research_factor = 0 }
				# }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:paratroopers2 } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:paratroopers2 } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:paratroopers2 } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}
	}

	paratroopers3 = {

		paratrooper = {
			max_organisation = 5
		}
		

		research_cost = 2.0
		start_year = 1943
		folder = {
			name = infantry_folder
			position = { x = 2 y = @1943 }
		}
		
		categories = {
			para_tech
			cat_special_forces_generic
		}
		
		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 0 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				# if = { 
				# 	limit = { 
				# 		
				# 	}

				# 	multiply_temp_variable = { EAI_tmp_research_factor = 1 }
				# }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1936.6.1
						}
						else = { 
							
							date < 1937.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				# if = {
				# 	limit = {
				# 		NOT = { has_country_flag = EAI_unused_research_slots_extended }

				# 		OR = { 
							
				# 			AND = {
								
				# 			}
				# 		}
				# 	}

				# 	set_temp_variable = { EAI_tmp_research_factor = 0 }
				# }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:paratroopers3 } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:paratroopers3 } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:paratroopers3 } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}
	}
	
	marines = {

		enable_subunits = {
			marine
		}
		
		on_research_complete_limit = {
			NOT = {
				has_template_containing_unit = marine
			}
		}
		on_research_complete = {
			hidden_effect = {
				load_oob = "unlock_marines"
			}			
			custom_effect_tooltip = UNLOCK_DIVISION_TEMPLATE
		}

		path = {
			leads_to_tech = marines2
			research_cost_coeff = 1
		}

		research_cost = 2
		start_year = 1936
		folder = {
			name = infantry_folder
			position = { x = 3 y = @1936 }
		}
		
		categories = {
			marine_tech
			cat_special_forces_generic
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 100 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1938.6.1
						}
						else = { 
							
							date < 1939.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				if = {
					limit = {
						NOT = { has_country_flag = EAI_unused_research_slots_extended }

						OR = { 

							AND = {
								NOT = { EAI_marine_tech_focus = yes }
							}
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:marines } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:marines } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:marines } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}
	}
	
	marines2 = {

		marine = {
			max_organisation = 5
			soft_attack = 0.05
		}
		path = {
			leads_to_tech = marines3
			research_cost_coeff = 1
		}

		research_cost = 1.5
		start_year = 1939
		folder = {
			name = infantry_folder
			position = { x = 3 y = @1939 }
		}
		
		categories = {
			marine_tech
			cat_special_forces_generic
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 1 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				if = { 
					limit = { 
						EAI_marine_tech_focus = yes 
					}

					multiply_temp_variable = { EAI_tmp_research_factor = 10 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1938.6.1
						}
						else = { 
							
							date < 1939.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				if = {
					limit = {
						NOT = { has_country_flag = EAI_unused_research_slots_extended }

						OR = { 

							AND = {
								NOT = { EAI_marine_tech_focus = yes }
							}
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:marines2 } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:marines2 } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:marines2 } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}
	}
	
	marines3 = {

		marine = {
			max_organisation = 5
		}

		research_cost = 2.0
		start_year = 1943
		folder = {
			name = infantry_folder
			position = { x = 3 y = @1943 }
		}
		
		categories = {
			marine_tech
			cat_special_forces_generic
		}
		
		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 1 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				if = { 
					limit = { 
						EAI_marine_tech_focus = yes 
					}

					multiply_temp_variable = { EAI_tmp_research_factor = 10 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1942.6.1
						}
						else = { 
							
							date < 1943.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				if = {
					limit = {
						NOT = { has_country_flag = EAI_unused_research_slots_extended }

						OR = { 

							AND = {
								NOT = { EAI_marine_tech_focus = yes }
							}
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:marines3 } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:marines3 } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:marines3 } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}
	}	
	
	tech_mountaineers = {

		enable_subunits = {
			mountaineers
		}

		on_research_complete_limit = {
			NOT = {
				has_template_containing_unit = mountaineers
			}
		}
		on_research_complete = {
			hidden_effect = {
				load_oob = "unlock_mountineers"
			}
			custom_effect_tooltip = UNLOCK_DIVISION_TEMPLATE
		}
		
		path = {
			leads_to_tech = tech_mountaineers2
			research_cost_coeff = 1
		}

		research_cost = 2
		start_year = 1936
		folder = {
			name = infantry_folder
			position = { x = 5 y = @1936 }
		}
		
		categories = {
			infantry_tech
			mountaineers_tech
			cat_special_forces_generic
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 100 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1938.6.1
						}
						else = { 
							
							date < 1939.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				if = {
					limit = {
						NOT = { has_country_flag = EAI_unused_research_slots_extended }

						OR = { 

							AND = {
								NOT = { EAI_mountaineer_tech_focus = yes }
							}
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:tech_mountaineers } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:tech_mountaineers } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:tech_mountaineers } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}
	}
	
	tech_mountaineers2 = {

		mountaineers = {
			max_organisation = 5
			soft_attack = 0.05
		}
		path = {
			leads_to_tech = tech_mountaineers3
			research_cost_coeff = 1
		}

		research_cost = 1.5
		start_year = 1939
		folder = {
			name = infantry_folder
			position = { x = 5 y = @1939 }
		}
		
		categories = {
			infantry_tech
			mountaineers_tech
			cat_special_forces_generic
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 1 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				if = { 
					limit = { 
						EAI_mountaineer_tech_focus = yes 
					}

					set_temp_variable = { EAI_tmp_research_factor = 10 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1938.6.1
						}
						else = { 
							
							date < 1939.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				if = {
					limit = {
						NOT = { has_country_flag = EAI_unused_research_slots_extended }

						OR = { 

							AND = {
								NOT = { EAI_mountaineer_tech_focus = yes }
							}
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:tech_mountaineers2 } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:tech_mountaineers2 } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:tech_mountaineers2 } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}
	}
	
	tech_mountaineers3 = {	
		mountaineers = {
			max_organisation = 5
		}

		research_cost = 2.0
		start_year = 1943
		folder = {
			name = infantry_folder
			position = { x = 5 y = @1943 }
		}
		
		categories = {
			infantry_tech
			mountaineers_tech
			cat_special_forces_generic
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 1 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				if = { 
					limit = { 
						EAI_mountaineer_tech_focus = yes 
					}

					set_temp_variable = { EAI_tmp_research_factor = 10 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1942.6.1
						}
						else = { 
							
							date < 1943.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				if = {
					limit = {
						NOT = { has_country_flag = EAI_unused_research_slots_extended }

						OR = { 

							AND = {
								NOT = { EAI_mountaineer_tech_focus = yes }
							}
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:tech_mountaineers3 } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:tech_mountaineers3 } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:tech_mountaineers3 } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}
	}

	tech_special_forces = {
		category_special_forces = {
			acclimatization_hot_climate_gain_factor = 0.05
			acclimatization_cold_climate_gain_factor = 0.05
		}
		
		allow_branch = { not = { has_dlc = "Arms Against Tyranny" } }
		
		#dependencies = {
		#	OR = {
		#		marines = 1
		#		paratrooper = 1
		#		mountaineer = 1
		#	}
		#}

		path = {
			leads_to_tech = advanced_special_forces
			research_cost_coeff = 1
		}

		path = {
			leads_to_tech = improved_special_forces
			research_cost_coeff = 1
		}

		research_cost = 2
		start_year = 1938
		folder = {
			name = infantry_folder
			position = { x = 4 y = @1938 }
		}
		
		categories = {
			mountaineers_tech
			marine_tech
			para_tech
			cat_special_forces_generic
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 1 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1939.6.1
						}
						else = { 
							
							date < 1940.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				if = {
					limit = {
						NOT = { has_country_flag = EAI_unused_research_slots_extended }

						OR = { 

							AND = {
								NOT = { EAI_mountaineer_tech_focus = yes EAI_marine_tech_focus = yes }
							}
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:tech_special_forces } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:tech_special_forces } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:tech_special_forces } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}
	}


	advanced_special_forces = {
		xor={
			improved_special_forces
		}

		category_special_forces = {
			max_organisation = 5
			defense = 0.05
		}

		special_forces_training_time_factor = 0.1
		
		path = {
			leads_to_tech = extreme_environment_training
			research_cost_coeff = 1
		}

		research_cost = 2
		start_year = 1940
		folder = {
			name = infantry_folder
			position = { x = 3 y = @1940 }
		}
		
		categories = {
			mountaineers_tech
			marine_tech
			para_tech
			cat_special_forces_generic
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 1 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1939.6.1
						}
						else = { 
							
							date < 1940.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				if = {
					limit = {
						NOT = { has_country_flag = EAI_unused_research_slots_extended }

						OR = { 

							AND = {
								NOT = { EAI_mountaineer_tech_focus = yes EAI_marine_tech_focus = yes }
							}
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:advanced_special_forces } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:advanced_special_forces } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:advanced_special_forces } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}
	}

	improved_special_forces = {
		xor={
			advanced_special_forces
		}

		special_forces_cap = 0.10
		special_forces_training_time_factor = -0.1
		
		path = {
			leads_to_tech = survival_training
			research_cost_coeff = 1
		}

		research_cost = 2
		start_year = 1940
		folder = {
			name = infantry_folder
			position = { x = 5 y = @1940 }
		}
		
		categories = {
			mountaineers_tech
			marine_tech
			para_tech
			cat_special_forces_generic
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 1 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1939.6.1
						}
						else = { 
							
							date < 1940.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				if = {
					limit = {
						NOT = { has_country_flag = EAI_unused_research_slots_extended }

						OR = { 

							AND = {
								NOT = { EAI_mountaineer_tech_focus = yes EAI_marine_tech_focus = yes }
							}
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:improved_special_forces } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:improved_special_forces } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:improved_special_forces } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}
	}


	extreme_environment_training = {

		category_special_forces = {
			acclimatization_hot_climate_gain_factor = 0.20
			acclimatization_cold_climate_gain_factor = 0.20
		}
		
		special_forces_no_supply_grace = 24
		special_forces_training_time_factor = 0.1
		
		path = {
			leads_to_tech = elite_forces
			research_cost_coeff = 1
		}

		research_cost = 2
		start_year = 1942
		folder = {
			name = infantry_folder
			position = { x = 3 y = @1942 }
		}
		
		categories = {
			mountaineers_tech
			marine_tech
			para_tech
			cat_special_forces_generic
		}
		
		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 1 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1941.6.1
						}
						else = { 
							
							date < 1942.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				if = {
					limit = {
						NOT = { has_country_flag = EAI_unused_research_slots_extended }

						OR = { 

							AND = {
								NOT = { EAI_mountaineer_tech_focus = yes EAI_marine_tech_focus = yes }
							}
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:extreme_environment_training } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:extreme_environment_training } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:extreme_environment_training } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}
	}


	survival_training = {

		category_special_forces = {
			acclimatization_hot_climate_gain_factor = 0.10
			acclimatization_cold_climate_gain_factor = 0.10
		}
		
		special_forces_out_of_supply_factor = -0.1
		
		path = {
			leads_to_tech = elite_forces
			research_cost_coeff = 1
		}

		research_cost = 2
		start_year = 1942
		folder = {
			name = infantry_folder
			position = { x = 5 y = @1942 }
		}
		
		categories = {
			mountaineers_tech
			marine_tech
			para_tech
			cat_special_forces_generic
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 1 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1941.6.1
						}
						else = { 
							
							date < 1942.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				if = {
					limit = {
						NOT = { has_country_flag = EAI_unused_research_slots_extended }

						OR = { 

							AND = {
								NOT = { EAI_mountaineer_tech_focus = yes EAI_marine_tech_focus = yes }
							}
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:survival_training } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:survival_training } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:survival_training } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}
	}


	elite_forces = {
		category_special_forces = {
			max_organisation = 5
			soft_attack = 0.05
		}
		
		special_forces_no_supply_grace = 24

		research_cost = 2
		start_year = 1944
		folder = {
			name = infantry_folder
			position = { x = 4 y = @1944 }
		}
		
		categories = {
			mountaineers_tech
			marine_tech
			para_tech
			cat_special_forces_generic
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 1 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1943.6.1
						}
						else = { 
							
							date < 1944.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				if = {
					limit = {
						NOT = { has_country_flag = EAI_unused_research_slots_extended }

						OR = { 

							AND = {
								NOT = { EAI_mountaineer_tech_focus = yes EAI_marine_tech_focus = yes }
							}
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:elite_forces } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:elite_forces } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:elite_forces } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}
	}

	jungle_warfare = {

		research_cost = 1

		# only from focus!!! #####
		allow = {
			always = no
		}


		#If you change these
		#Change the custom tooltip too: RAJ_jungle_training_effect
		marine = {
			jungle = {
				attack = 0.05 
				movement = 0.1
			}
		}

		mountaineers = {
			jungle = {
				attack = 0.05
				movement = 0.1
			}
		}

		paratrooper = {
			jungle = {
				attack = 0.05
				movement = 0.1
			}
		}

	}

	SWI_mountaineer_paratroopers_tech = { #Unlocked in Swiss Focus SWI_mountaneer_paratroopers

		research_cost = 1

		allow = {
			always = no
		}

		paratrooper = {  # CHANGE TOOLTIP WHEN NEEDED
			mountain = {
				attack = 0.35
				defence = 0.1
				movement = 0.2
			}
			hills = {
				attack = 0.2
				defence = 0.05
				movement = 0.1
			}
		}

	}

	HUN_light_infantry_tech = {

		research_cost = 1

		# only from focus!!! #####
		allow = {
			always = no
		}


		#If you change these
		#Change the custom tooltip too: HUN_light_infantry_divisions_doctrine_effect
		infantry = {
			forest = {
				attack = 0.02
				movement = 0.05
			}

			urban = {
				attack = 0.05 
				movement = 0.05
			}
		}
	}

	mountain_warfare = {

		research_cost = 1

		# only from focus!
		allow = {
			always = no
		}


		#If you change these
		#Change the custom tooltip too: GRE_mountain_training_effect
		infantry = {
			mountain = {
				defence = 0.05
				movement = 0.05
			}
		}

		marine = {
			mountain = {
				attack = 0.05 
				movement = 0.1
			}
		}

		mountaineers = {
			mountain = {
				attack = 0.05
				defence = 0.05
				movement = 0.1
			}
		}

		paratrooper = {
			mountain = {
				attack = 0.05
				movement = 0.1
			}
		}

	}

	night_vision = {

		land_night_attack = 0.1
		
		path = {
			leads_to_tech = night_vision2
			research_cost_coeff = 1
		}

		research_cost = 2.5
		start_year = 1943
		folder = {
			name = infantry_folder
			position = { x = 0 y = @1943 }
		}
		
		categories = {
			night_vision
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 10 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				if = { 
					limit = { 
						EAI_infantry_tech_focus = yes
					}

					multiply_temp_variable = { EAI_tmp_research_factor = 2 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1942.6.1
						}
						else = { 
							
							date < 1943.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				# if = {
				# 	limit = {
				# 		NOT = { has_country_flag = EAI_unused_research_slots_extended }

				# 		OR = { 
							
				# 			AND = {
								
				# 			}
				# 		}
				# 	}

				# 	set_temp_variable = { EAI_tmp_research_factor = 0 }
				# }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:night_vision } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:night_vision } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:night_vision } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}
	}
	
	night_vision2 = {

		land_night_attack = 0.15	

		research_cost = 2
		start_year = 1946
		folder = {
			name = infantry_folder
			position = { x = 0 y = @1946 }
		}
		
		categories = {
			night_vision
		}
		
		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 10 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				if = { 
					limit = { 
						EAI_infantry_tech_focus = yes
					}

					multiply_temp_variable = { EAI_tmp_research_factor = 2 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1945.6.1
						}
						else = { 
							
							date < 1946.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				# if = {
				# 	limit = {
				# 		NOT = { has_country_flag = EAI_unused_research_slots_extended }

				# 		OR = { 
							
				# 			AND = {
								
				# 			}
				# 		}
				# 	}

				# 	set_temp_variable = { EAI_tmp_research_factor = 0 }
				# }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:night_vision2 } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:night_vision2 } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:night_vision2 } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}
	}
	
	support_weapons = {

		infantry = {
			defense = 0.05
			breakthrough = 0.05
		}
		bicycle_battalion = {
			defense = 0.05
			breakthrough = 0.05
		}
		cavalry = {
			defense = 0.02
			breakthrough = 0.02
		}		
		mountaineers = {
			defense = 0.03
			breakthrough = 0.03
		}
		paratrooper = {
			defense = 0.03
			breakthrough = 0.03
		}
		marine = {
			defense = 0.03
			breakthrough = 0.03
		}
		motorized = {
			defense = 0.05
			breakthrough = 0.05
		}
		mechanized = {
			defense = 0.05
			breakthrough = 0.05
		}
		amphibious_mechanized = {
			defense = 0.05
			breakthrough = 0.05
		}
		
		path = {
			leads_to_tech = support_weapons2
			research_cost_coeff = 1
		}

		research_cost = 1.5
		start_year = 1918
		folder = {
			name = infantry_folder
			position = { x = 0 y = @1918 }
		}
		
		categories = {
			infantry_weapons
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 1 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				if = { 
					limit = {
						OR = { date > 1939.1.1 has_war = yes }
					}

					multiply_temp_variable = { EAI_tmp_research_factor = 10 }
				}

				if = { 
					limit = { 
						EAI_infantry_tech_focus = yes
					}

					multiply_temp_variable = { EAI_tmp_research_factor = 2 }
				}

				if = { 
					limit = { 
						date > 1940.1.1
					}

					multiply_temp_variable = { EAI_tmp_research_factor = 2 }
				}

				if = { 
					limit = { 
						date > 1941.1.1
					}

					multiply_temp_variable = { EAI_tmp_research_factor = 2 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1936.1.7
						}
						else = { 
							
							date < 1936.1.7
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:support_weapons } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:support_weapons } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:support_weapons } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}
	}
	
	support_weapons2 = {

		infantry = {
			defense = 0.05
			breakthrough = 0.05
		}
		bicycle_battalion = {
			defense = 0.05
			breakthrough = 0.05
		}
		cavalry = {
			defense = 0.02
			breakthrough = 0.02
		}		
		mountaineers = {
			defense = 0.03
			breakthrough = 0.03
		}
		paratrooper = {
			defense = 0.03
			breakthrough = 0.03
		}
		marine = {
			defense = 0.03
			breakthrough = 0.03
		}
		motorized = {
			defense = 0.05
			breakthrough = 0.05
		}
		mechanized = {
			defense = 0.05
			breakthrough = 0.05
		}
		amphibious_mechanized = {
			defense = 0.05
			breakthrough = 0.05
		}
		
		path = {
			leads_to_tech = support_weapons3
			research_cost_coeff = 1
		}

		research_cost = 1.5
		start_year = 1938
		folder = {
			name = infantry_folder
			position = { x = 0 y = @1938 }
		}
		
		categories = {
			infantry_weapons
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 1 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				if = { 
					limit = { 
						OR = { date > 1939.1.1 has_war = yes }
					}

					multiply_temp_variable = { EAI_tmp_research_factor = 10 }
				}

				if = { 
					limit = { 
						EAI_infantry_tech_focus = yes
					}

					multiply_temp_variable = { EAI_tmp_research_factor = 2 }
				}

				if = { 
					limit = { 
						date > 1940.1.1
					}

					multiply_temp_variable = { EAI_tmp_research_factor = 2 }
				}

				if = { 
					limit = { 
						date > 1941.1.1
					}

					multiply_temp_variable = { EAI_tmp_research_factor = 2 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1937.6.1
						}
						else = { 
							
							date < 1938.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:support_weapons2 } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:support_weapons2 } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:support_weapons2 } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}
	}
	
	support_weapons3 = {

		infantry = {
			defense = 0.05
			breakthrough = 0.05
		}
		bicycle_battalion = {
			defense = 0.05
			breakthrough = 0.05
		}
		cavalry = {
			defense = 0.02
			breakthrough = 0.02
		}		
		mountaineers = {
			defense = 0.03
			breakthrough = 0.03
		}
		paratrooper = {
			defense = 0.03
			breakthrough = 0.03
		}
		marine = {
			defense = 0.03
			breakthrough = 0.03
		}
		motorized = {
			defense = 0.05
			breakthrough = 0.05
		}
		mechanized = {
			defense = 0.05
			breakthrough = 0.05
		}
		amphibious_mechanized = {
			defense = 0.05
			breakthrough = 0.05
		}
		
		path = {
			leads_to_tech = support_weapons4
			research_cost_coeff = 1
		}
		
		research_cost = 1.5
		start_year = 1940
		folder = {
			name = infantry_folder
			position = { x = 0 y = @1940 }
		}
		
		categories = {
			infantry_weapons
		}
		
		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 1 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				if = { 
					limit = { 
						OR = { date > 1939.1.1 has_war = yes }
					}

					multiply_temp_variable = { EAI_tmp_research_factor = 10 }
				}

				if = { 
					limit = { 
						EAI_infantry_tech_focus = yes
					}

					multiply_temp_variable = { EAI_tmp_research_factor = 2 }
				}

				if = { 
					limit = { 
						date > 1942.1.1
					}

					multiply_temp_variable = { EAI_tmp_research_factor = 2 }
				}

				if = { 
					limit = { 
						date > 1943.1.1
					}

					multiply_temp_variable = { EAI_tmp_research_factor = 2 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1939.6.1
						}
						else = { 
							
							date < 1940.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:support_weapons3 } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:support_weapons3 } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:support_weapons3 } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}
	}
	
	support_weapons4 = {

		infantry = {
			defense = 0.05
			breakthrough = 0.05
		}
		bicycle_battalion = {
			defense = 0.05
			breakthrough = 0.05
		}
		cavalry = {
			defense = 0.02
			breakthrough = 0.02
		}		
		mountaineers = {
			defense = 0.03
			breakthrough = 0.03
		}
		paratrooper = {
			defense = 0.03
			breakthrough = 0.03
		}
		marine = {
			defense = 0.03
			breakthrough = 0.03
		}
		motorized = {
			defense = 0.05
			breakthrough = 0.05
		}
		mechanized = {
			defense = 0.05
			breakthrough = 0.05
		}
		amphibious_mechanized = {
			defense = 0.05
			breakthrough = 0.05
		}
		
		research_cost = 1.5
		start_year = 1942
		folder = {
			name = infantry_folder
			position = { x = 0 y = @1942 }
		}
		
		categories = {
			infantry_weapons
		}
		
		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 1 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				if = { 
					limit = { 
						OR = { date > 1939.1.1 has_war = yes }
					}

					multiply_temp_variable = { EAI_tmp_research_factor = 10 }
				}

				if = { 
					limit = { 
						EAI_infantry_tech_focus = yes
					}

					multiply_temp_variable = { EAI_tmp_research_factor = 2 }
				}

				if = { 
					limit = { 
						date > 1944.1.1
					}

					multiply_temp_variable = { EAI_tmp_research_factor = 2 }
				}

				if = { 
					limit = { 
						date > 19445.1.1
					}

					multiply_temp_variable = { EAI_tmp_research_factor = 2 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1941.6.1
						}
						else = { 
							
							date < 1942.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				# if = {
				# 	limit = {
				# 		NOT = { has_country_flag = EAI_unused_research_slots_extended }

				# 		OR = { 
							
				# 			AND = {
								
				# 			}
				# 		}
				# 	}

				# 	set_temp_variable = { EAI_tmp_research_factor = 0 }
				# }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:support_weapons4 } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:support_weapons4 } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:support_weapons4 } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}
	}

	tech_trucks = {

		enable_subunits = {
			mot_anti_tank_brigade
			mot_artillery_brigade
			mot_anti_air_brigade
		}

		enable_equipments = {
			motorized_equipment_0
		}

		enable_equipment_modules = {
			tank_wheeled_suspension
		}

		
		path = {
			leads_to_tech = motorised_infantry
			research_cost_coeff = 1
		}

		path = {
			leads_to_tech = armored_car1
			research_cost_coeff = 1
		} 

		research_cost = 1.5
		start_year = 1936
		folder = {
			name = infantry_folder
			position = { x = 0 y = -1 }
		}
		
		categories = {
			motorized_equipment
			mio_cat_tech_all_motorized_mechanized
			infantry_tech
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 1 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				if = { 
					limit = { 
						date > 1937.1.1
					}

					multiply_temp_variable = { EAI_tmp_research_factor = 2 }
				}

				if = { 
					limit = { 
						date > 1938.1.1
					}

					multiply_temp_variable = { EAI_tmp_research_factor = 2 }
				}

				if = { 
					limit = { 
						date > 1939.1.1
					}

					multiply_temp_variable = { EAI_tmp_research_factor = 2 }
				}

				if = { 
					limit = { 
						date > 1940.1.1
					}

					multiply_temp_variable = { EAI_tmp_research_factor = 2 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1936.1.7
						}
						else = { 
							
							date < 1936.1.7
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				# if = {
				# 	limit = {
				# 		NOT = { has_country_flag = EAI_unused_research_slots_extended }

				# 		OR = { 
							
				# 			AND = {
								
				# 			}
				# 		}
				# 	}

				# 	set_temp_variable = { EAI_tmp_research_factor = 0 }
				# }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:tech_trucks } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:tech_trucks } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:tech_trucks } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}
	}
	
	motorised_infantry = {

		enable_subunits = {
			motorized
		}

		enable_equipments = {
			motorized_equipment_1
		}

		#enable_equipment_modules = {
		#	tank_wheeled_suspension
		#}

		on_research_complete_limit = {
			NOT = {
				has_template_containing_unit = motorized
			}
		}
		on_research_complete = {
			hidden_effect = {
				load_oob = "unlock_motorized"
			}			
			custom_effect_tooltip = UNLOCK_DIVISION_TEMPLATE
		}
		
		path = {
			leads_to_tech = mechanised_infantry
			research_cost_coeff = 1
		}

		path = {
			
		}

		research_cost = 2
		start_year = 1936
		folder = {
			name = infantry_folder
			position = { x = 0 y = @1936 }
		}
		
		folder = {
			name = support_folder
			position = { x = 7 y = 9 }
		}
		
		sub_technologies = {
			motorized_rocket_unit
		}
		
		categories = {
			motorized_equipment
			mio_cat_tech_all_motorized_mechanized
			infantry_tech
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 20 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				if = { 
					limit = { 
						date > 1937.1.1

						set_temp_variable = { t1 = num_of_military_factories }
						clamp_temp_variable = { var = t1 min = 0 max = 200 }
						divide_temp_variable = { t1 = 200 }
						multiply_temp_variable = { t1 = 3 }
						add_to_temp_variable = { t1 = 1 }
					}

					multiply_temp_variable = { EAI_tmp_research_factor = t1 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1936.6.1
						}
						else = { 
							
							date < 1937.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				# if = {
				# 	limit = {
				# 		NOT = { has_country_flag = EAI_unused_research_slots_extended }

				# 		OR = { 
							
				# 			AND = {
								
				# 			}
				# 		}
				# 	}

				# 	set_temp_variable = { EAI_tmp_research_factor = 0 }
				# }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:motorised_infantry } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:motorised_infantry } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:motorised_infantry } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}
	}
	motorized_rocket_unit = {

		enable_subunits = {
			motorized_rocket_brigade
		}
		enable_equipments = {
			motorized_rocket_equipment_1
		}
		dependencies = {
			rocket_artillery = 1
		}
	
		research_cost = 1.5
		start_year = 1939

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 1 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				if = { 
					limit = { 
						EAI_motart_tech_focus = yes
					}

					multiply_temp_variable = { EAI_tmp_research_factor = 100 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1938.6.1
						}
						else = { 
							
							date < 1939.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				# if = {
				# 	limit = {
				# 		NOT = { has_country_flag = EAI_unused_research_slots_extended }

				# 		OR = { 
							
				# 			AND = {
								
				# 			}
				# 		}
				# 	}

				# 	set_temp_variable = { EAI_tmp_research_factor = 0 }
				# }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:motorized_rocket_unit } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:motorized_rocket_unit } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:motorized_rocket_unit } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}
		
		categories = {
			mot_rockets
			mio_cat_tech_all_motorized_mechanized
		}
	}
	
	armored_car1 = {

		enable_subunits = {
			armored_car
		}

		enable_equipments = {
			gw_armored_car_equipment
		}
		allow_branch = { has_dlc = "La Resistance" }
		path = {
			leads_to_tech = armored_car2
			research_cost_coeff = 1
		}

		research_cost = 2
		start_year = 1914
		folder = {
			name = infantry_folder
			position = { x = 4 y = @1924 }
		}
		
		categories = {
			motorized_equipment
			armor
			cat_armored_cars
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 1 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1936.6.1
						}
						else = { 
							
							date < 1937.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				if = {
					limit = {
						NOT = { has_country_flag = EAI_unused_research_slots_extended }

						OR = { 
							
							AND = {
								NOT = { EAI_armored_car_tech_focus = yes }
							}
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:armored_car1 } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:armored_car1 } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:armored_car1 } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}
	}

	armored_car2 = {

		enable_equipments = {
			armored_car_equipment_1
		}
		
		path = {
			leads_to_tech = armored_car3
			research_cost_coeff = 1
		}

		research_cost = 2
		start_year = 1940
		folder = {
			name = infantry_folder
			position = { x = 4 y = @1940 }
		}
		
		categories = {
			motorized_equipment
			armor
			cat_armored_cars
		}
		
		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 0 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1939.6.1
						}
						else = { 
							
							date < 1940.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				if = {
					limit = {
						NOT = { has_country_flag = EAI_unused_research_slots_extended }

						OR = { 
							
							AND = {
								NOT = { EAI_armored_car_tech_focus = yes }
							}
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:armored_car2 } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:armored_car2 } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:armored_car2 } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}
	}

	armored_car3 = {

		enable_equipments = {
			armored_car_equipment_2
		}

		research_cost = 2
		start_year = 1942
		folder = {
			name = infantry_folder
			position = { x = 4 y = @1942 }
		}
		
		categories = {
			motorized_equipment
			armor
			cat_armored_cars
		}
		
		sub_technologies = {
			armored_car_at_upgrade
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 0 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1941.6.1
						}
						else = { 
							
							date < 1942.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				if = {
					limit = {
						NOT = { has_country_flag = EAI_unused_research_slots_extended }

						OR = { 
							
							AND = {
								NOT = { EAI_armored_car_tech_focus = yes }
							}
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:armored_car3 } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:armored_car3 } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:armored_car3 } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}
	}

	armored_car_at_upgrade = {

		enable_equipments = {
			armored_car_at_equipment
		}

		research_cost = 1
		start_year = 1942
		sub_tech_index = 1
		
		categories = {
			motorized_equipment
			armor
			cat_armored_cars
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 0 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1941.6.1
						}
						else = { 
							
							date < 1942.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				# if = {
				# 	limit = {
				# 		NOT = { has_country_flag = EAI_unused_research_slots_extended }

				# 		OR = { 
							
				# 			AND = {
								
				# 			}
				# 		}
				# 	}

				# 	set_temp_variable = { EAI_tmp_research_factor = 0 }
				# }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:armored_car_at_upgrade } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:armored_car_at_upgrade } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:armored_car_at_upgrade } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}
	}

 	SWE_lynx_armored_car = {
 		allow = { always = no }
		enable_equipments = {
			#armored_car_at_equipment
		}

		research_cost = 1
		start_year = 1942
		sub_tech_index = 1
		
		categories = {
			motorized_equipment
			armor
			cat_armored_cars
		}

		armored_car = {
			max_organisation = 5
			ap_attack = 0.1
			hard_attack = 0.1
			#hardness = 1
			forest = {
		    	attack = 0.2
				movement = 0.55
			}
			desert = {
		    	attack = -0.2
				movement = -0.55
			}

			snow = {
				attack = 0.2
				movement = 0.35
			}
		}

		armored_car_recon = {
			max_organisation = 3
			ap_attack = 0.1
			hard_attack = 0.1
			#hardness = 1
			forest = {
		    	attack = 0.05
				movement = 0.05
			}
			desert = {
		    	attack = -0.15
				movement = -0.15
			}

			snow = {
				attack = 0.05
				movement = 0.08
			}
		}
	}

	mechanised_infantry = {

		enable_subunits = {
			mechanized
		}

		enable_equipments = {
			mechanized_equipment_1
		}

		enable_equipment_modules = {
			tank_half_track_suspension
		}
		
		motorized = {
			hardness = 1.0
		}
		mot_artillery_brigade = {
			hardness = 1.0
		}
		mot_anti_tank_brigade = {
			hardness = 1.0
		}
		mot_anti_air_brigade = {
			hardness = 1.0
		}
		mot_rocket_artillery_brigade = {
			hardness = 1.0
		}

		path = {
			leads_to_tech = mechanised_infantry2
			research_cost_coeff = 1
		}

		path = {
			leads_to_tech = amphibious_mechanized_infantry
			research_cost_coeff = 1
		}

		research_cost = 2
		start_year = 1940
		folder = {
			name = infantry_folder
			position = { x = 0 y = @1940 }
		}
		
		categories = {
			motorized_equipment
			mio_cat_tech_all_motorized_mechanized
			infantry_tech
			cat_mechanized_equipment
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 40 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				if = { 
					limit = { 
						date > 1941.1.1
					}

					multiply_temp_variable = { EAI_tmp_research_factor = 2 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1939.6.1
						}
						else = { 
							
							date < 1940.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				if = {
					limit = {
						NOT = { has_country_flag = EAI_unused_research_slots_extended }

						OR = { 
							
							AND = {
								NOT = { EAI_mech_tech_focus = yes }
							}
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:mechanised_infantry } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:mechanised_infantry } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:mechanised_infantry } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}
	}

 	militia_tech = {
 		allow = { always = no }
		enable_subunits = {
			militia
		}
	}

	amphibious_mechanized_infantry = {

		enable_equipments = {
			amphibious_mechanized_equipment_1
		}

		allow_branch = {
			has_dlc = "Man the Guns"
		}

		enable_subunits = {
			amphibious_mechanized
		}

		path = {
			leads_to_tech = amphibious_mechanized_infantry_2
			research_cost_coeff = 1
		}

		research_cost = 2
		start_year = 1941
		folder = {
			name = infantry_folder
			position = { x = 2 y = @1941 }
		}
		
		categories = {
			motorized_equipment
			mio_cat_tech_all_motorized_mechanized
			infantry_tech
			cat_mechanized_equipment
			tp_tech
		}
		
		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 1 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1940.6.1
						}
						else = { 
							
							date < 1941.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				if = {
					limit = {
						NOT = { has_country_flag = EAI_unused_research_slots_extended }

						OR = { 
							
							AND = {
								NOT = { EAI_amtrac_tech_focus = yes }
							}
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:amphibious_mechanized_infantry } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:amphibious_mechanized_infantry } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:amphibious_mechanized_infantry } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}
	}

	amphibious_mechanized_infantry_2 = {

		enable_equipments = {
			amphibious_mechanized_equipment_2
		}

		

		research_cost = 2
		start_year = 1943
		folder = {
			name = infantry_folder
			position = { x = 2 y = @1943 }
		}
		
		categories = {
			motorized_equipment
			mio_cat_tech_all_motorized_mechanized
			infantry_tech
			cat_mechanized_equipment
			tp_tech
		}
		
		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 0 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1942.6.1
						}
						else = { 
							
							date < 1943.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				if = {
					limit = {
						NOT = { has_country_flag = EAI_unused_research_slots_extended }

						OR = { 
							
							AND = {
								NOT = { EAI_amtrac_tech_focus = yes }
							}
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:amphibious_mechanized_infantry_2 } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:amphibious_mechanized_infantry_2 } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:amphibious_mechanized_infantry_2 } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}
	}
	
	mechanised_infantry2 = {

		enable_equipments = {
			mechanized_equipment_2
		}
		
		path = {
			leads_to_tech = mechanised_infantry3
			research_cost_coeff = 1
		}

		research_cost = 2
		start_year = 1942
		folder = {
			name = infantry_folder
			position = { x = 0 y = @1942 }
		}
		
		categories = {
			motorized_equipment
			mio_cat_tech_all_motorized_mechanized
			infantry_tech
			cat_mechanized_equipment
		}
		
		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 40 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				if = { 
					limit = { 
						date > 1943.1.1
					}

					multiply_temp_variable = { EAI_tmp_research_factor = 2 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1941.6.1
						}
						else = { 
							
							date < 1942.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				if = {
					limit = {
						NOT = { has_country_flag = EAI_unused_research_slots_extended }

						OR = { 
							
							AND = {
								NOT = { EAI_mech_tech_focus = yes }
							}
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:mechanised_infantry2 } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:mechanised_infantry2 } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:mechanised_infantry2 } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}
	}
	
	mechanised_infantry3 = {

		enable_equipments = {
			mechanized_equipment_3
		}

		mechanized = {
			soft_attack = 0.15
			hard_attack = 0.15
		}

		research_cost = 3
		start_year = 1944
		folder = {
			name = infantry_folder
			position = { x = 0 y = @1944 }
		}
		
		categories = {
			motorized_equipment
			mio_cat_tech_all_motorized_mechanized
			infantry_tech
			cat_mechanized_equipment
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 40 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				if = { 
					limit = { 
						date > 1945.1.1
					}

					multiply_temp_variable = { EAI_tmp_research_factor = 2 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1943.6.1
						}
						else = { 
							
							date < 1944.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				if = {
					limit = {
						NOT = { has_country_flag = EAI_unused_research_slots_extended }

						OR = { 
							
							AND = {
								NOT = { EAI_mech_tech_focus = yes }
							}
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:mechanised_infantry3 } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:mechanised_infantry3 } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:mechanised_infantry3 } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}
	}
	
	######### FROM JAPANESE FOCUS ##########
	bicycle_infantry = {
		
		allow = {
			always = no
		}

		research_cost = 1
		start_year = 1936

		enable_subunits = {
			bicycle_battalion
		}
	}

	camelry = {
		
		allow = {
			always = no
		}

		research_cost = 1
		start_year = 1936

		enable_subunits = {
			camelry
		}		
	}

	######### FROM SOVIET FOCUS ########## (And Finnish)
	penal_infantry = {
		
		allow = {
			always = no
		}

		research_cost = 1
		start_year = 1936

		enable_subunits = {
			penal_battalion
		}
	}

	######### FROM ITALIAN FOCUS ##########
	blackshirt_assault_battalion_tech = {
		
		allow = {
			always = no
		}

		research_cost = 1
		start_year = 1936

		enable_subunits = {
			blackshirt_assault_battalion
		}
	}

	mountain_warfare_militias_tech = { #Hidden tech showed as part of ITA_grande_rivolta_rurale_ns national spirit
		
		allow = {
			always = no
		}

		research_cost = 1
		start_year = 1936

		militia = {
			hills = {
				attack = 0.05 
				movement = 0.1
			}
			mountain = {
				attack = 0.05 
				movement = 0.1
			}
		}
	}

	### Improved Irregular Infantry Organization 

	ETH_improved_irregular_infantry_tech = {
		research_cost = 1
		# only from focus!!! #####
		allow = {
			always = no
		}
		irregular_infantry = {
			max_organisation = 10
		}
	}


	######### FROM FINNISH FOCUS ##########
	molotov_cocktails_tech = {
		
		allow = {
			always = no
		}

		research_cost = 1
		start_year = 1936

		category_all_infantry = {
			hard_attack = 0.25
			ap_attack = 1
		}
	}

	winter_logistics_support_tech = {
		
		allow = {
			always = no
		}

		research_cost = 1
		start_year = 1936

		enable_subunits = {
			winter_logistics_support
		}
	}

	long_range_patrol_support_tech = {
		
		allow = {
			always = no
		}

		research_cost = 1
		start_year = 1936

		enable_subunits = {
			long_range_patrol_support
		}
	}

	sami_pathfinders_tech = { #Hidden tech showed as part of FIN_sami_pathfinders national spirit
		
		allow = {
			always = no
		}

		research_cost = 1
		start_year = 1936

		category_recon = {
			recon = 1

			snow = {
				movement = 0.1
			}
			forest = {
				movement = 0.05
			}
			hills = {
				movement = 0.05
			}
			mountain = {
				movement = 0.05
			}
			marsh = {
				movement = 0.05
			}
			plains = {
				movement = 0.05
			}
			river = {
				movement = 0.05
			}
		}
	}

	lotta_svard_tech = { #Hidden tech showed as part of FIN_lotta_svard national spirit
		
		allow = {
			always = no
		}

		research_cost = 1
		start_year = 1936

		category_support_battalions = { #Any changes in the values below need to be applied in FIN_lotta_svard_support_battalions_bonus_tt too
			max_strength = 5
			max_organisation = 10
		}
	}

	SWE_sami_support_tech = { #Hidden tech for Sami reconcilliation for Sweden
		
		allow = {
			always = no
		}

		research_cost = 1
		start_year = 1936

		category_recon = {
			recon = 1

			snow = {
				movement = 0.1
			}
			forest = {
				movement = 0.1
			}
			hills = {
				movement = 0.05
			}
			mountain = {
				movement = 0.05
			}
		}
	}
	
}
