technologies = {

	 ##  ###  #   #  ##  #   # ### #  # ###  ##
	#  # #  # ## ## #  # ## ## #   ## #  #  #
	#### ###  # # # #### # # # ##  # ##  #   #
	#  # #  # #   # #  # #   # #   #  #  #    #
	#  # #  # #   # #  # #   # ### #  #  #  ##


	basic_battery = {

		research_cost = 1

		start_year = 1922

		path = {
			leads_to_tech = basic_light_battery
			research_cost_coeff = 1
		}
		on_research_complete = {
			custom_effect_tooltip = light_battery_advice_tt
			custom_effect_tooltip = medium_battery_advice_tt
			custom_effect_tooltip = heavy_battery_advice_tt
			custom_effect_tooltip = secondary_battery_advice_tt
		}

		path = {
			leads_to_tech = basic_medium_battery
			research_cost_coeff = 1
		}

		path = {
			leads_to_tech = basic_heavy_battery
			research_cost_coeff = 1
		}

		enable_equipment_modules = {
			ship_light_battery_1
			ship_medium_battery_1
			ship_light_medium_battery_1
			ship_heavy_battery_1
			ship_secondaries_1
		}



		folder = {
			name = mtgnavalsupportfolder
			position = { x = 0 y = 1 }
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 50 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				multiply_temp_variable = { EAI_tmp_research_factor = EAI_RESEARCH_naval_research_factor }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1936.6.1
						}
						else = { 
							
							date < 1937.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				if = {
					limit = {
						NOT = { has_country_flag = EAI_unused_research_slots_extended }

						OR = { 
							
							AND = {
								NOT = {
									EAI_CV_tech_focus = yes
									EAI_SHBB_tech_focus = yes
									EAI_BB_tech_focus = yes
									EAI_BC_tech_focus = yes
									EAI_CA_tech_focus = yes
									EAI_CL_tech_focus = yes
									EAI_ASW_CL_tech_focus = yes
									EAI_DD_tech_focus = yes
									EAI_ASW_DD_tech_focus = yes
									EAI_cheap_DD_tech_focus = yes
									EAI_ML_DD_tech_focus = yes
									EAI_MS_DD_tech_focus = yes
								}
							}
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:basic_battery } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:basic_battery } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:basic_battery } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}

		categories = {
			naval_equipment
			ship_modules_tech
			cat_ship_light_battery
			cat_ship_medium_battery
			cat_ship_heavy_battery
			mio_cat_tech_all_capital_ship_and_modules
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_carrier_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
	}

	basic_light_battery = {

		research_cost = 1

		start_year = 1936

		path = {
			leads_to_tech = basic_light_shell
			research_cost_coeff = 1
		}

		on_research_complete = {
			custom_effect_tooltip = light_battery_advice_tt
		}

		enable_equipment_modules = {
			ship_light_battery_2
		}


		folder = {
			name = mtgnavalsupportfolder
			position = { x = -6 y = 5 }
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 50 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				if = { 
					limit = { 
						OR = { EAI_screen_tech_focus = yes EAI_capital_tech_focus = yes }
					}

					multiply_temp_variable = { EAI_tmp_research_factor = 2 }
				}

				multiply_temp_variable = { EAI_tmp_research_factor = EAI_RESEARCH_naval_research_factor }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1936.6.1
						}
						else = { 
							
							date < 1937.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				if = {
					limit = {
						NOT = { has_country_flag = EAI_unused_research_slots_extended }

						OR = { 
							
							AND = {
								NOT = { EAI_dp_ship_secondaries_MODULE_FOCUS = yes }
							}
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:basic_light_battery } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:basic_light_battery } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:basic_light_battery } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}

		categories = {
			naval_equipment
			ship_modules_tech
			cat_ship_light_battery
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
	}

	basic_light_shell = {
		
		research_cost = 0.5

		start_year = 1936

		path = {
			leads_to_tech = improved_light_battery
			research_cost_coeff = 1
		}


		destroyer = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		light_cruiser = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		heavy_cruiser = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		battleship = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		battle_cruiser = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		carrier = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}

		folder = {
			name = mtgnavalsupportfolder
			position = { x = -6 y = 7 }
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 50 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				if = { 
					limit = { 
						OR = { EAI_screen_tech_focus = yes EAI_capital_tech_focus = yes }
					}

					multiply_temp_variable = { EAI_tmp_research_factor = 2 }
				}

				multiply_temp_variable = { EAI_tmp_research_factor = EAI_RESEARCH_naval_research_factor }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1936.6.1
						}
						else = { 
							
							date < 1937.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				if = {
					limit = {
						NOT = { has_country_flag = EAI_unused_research_slots_extended }

						OR = { 
							
							AND = {
								NOT = { EAI_dp_ship_secondaries_MODULE_FOCUS = yes }
							}
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:basic_light_shell } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:basic_light_shell } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:basic_light_shell } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}

		categories = {
			naval_equipment
			ship_modules_tech
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
	}

	improved_light_battery = {

		research_cost = 1

		start_year = 1939

		path = {
			leads_to_tech = improved_light_shell
			research_cost_coeff = 1
		}

		path = {
			leads_to_tech = basic_dp_light_battery
			research_cost_coeff = 1
		}

		on_research_complete = {
			custom_effect_tooltip = light_battery_advice_tt
		}

		enable_equipment_modules = {
			ship_light_battery_3
		}



		folder = {
			name = mtgnavalsupportfolder
			position = { x = -6 y = 11 }
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 50 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				if = { 
					limit = { 
						OR = { EAI_screen_tech_focus = yes EAI_capital_tech_focus = yes }
					}

					multiply_temp_variable = { EAI_tmp_research_factor = 2 }
				}

				multiply_temp_variable = { EAI_tmp_research_factor = EAI_RESEARCH_naval_research_factor }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1938.6.1
						}
						else = { 
							
							date < 1939.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				if = {
					limit = {
						NOT = { has_country_flag = EAI_unused_research_slots_extended }

						OR = { 
							
							AND = {
								NOT = { EAI_dp_ship_secondaries_MODULE_FOCUS = yes }
							}
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:improved_light_battery } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:improved_light_battery } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:improved_light_battery } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}

		categories = {
			naval_equipment
			ship_modules_tech
			cat_ship_light_battery
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
	}

	improved_light_shell = {

		research_cost = 0.5

		start_year = 1942

		path = {
			leads_to_tech = advanced_light_battery
			research_cost_coeff = 1
		}

		destroyer = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		light_cruiser = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		heavy_cruiser = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		battleship = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		battle_cruiser = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		carrier = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}

		folder = {
			name = mtgnavalsupportfolder
			position = { x = -6 y = 16 }
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 50 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				if = { 
					limit = { 
						OR = { EAI_screen_tech_focus = yes EAI_capital_tech_focus = yes }
					}

					multiply_temp_variable = { EAI_tmp_research_factor = 2 }
				}

				multiply_temp_variable = { EAI_tmp_research_factor = EAI_RESEARCH_naval_research_factor }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1941.6.1
						}
						else = { 
							
							date < 1942.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				if = {
					limit = {
						NOT = { has_country_flag = EAI_unused_research_slots_extended }

						OR = { 
							
							AND = {
								NOT = { EAI_dp_ship_secondaries_MODULE_FOCUS = yes }
							}
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:improved_light_shell } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:improved_light_shell } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:improved_light_shell } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}

		categories = {
			naval_equipment
			ship_modules_tech
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
	}

	advanced_light_battery = {

		research_cost = 1

		start_year = 1944

		enable_equipment_modules = {
			ship_light_battery_4
		}

		on_research_complete = {
			custom_effect_tooltip = light_battery_advice_tt
		}


		folder = {
			name = mtgnavalsupportfolder
			position = { x = -6 y = 19 }
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 0 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1943.6.1
						}
						else = { 
							
							date < 1944.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:advanced_light_battery } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:advanced_light_battery } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:advanced_light_battery } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}

		categories = {
			naval_equipment
			ship_modules_tech
			cat_ship_light_battery
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
	}

	basic_medium_battery = {

		research_cost = 1

		start_year = 1936


		on_research_complete = {
			custom_effect_tooltip = medium_battery_advice_tt
			custom_effect_tooltip = secondary_battery_advice_tt
		}

		path = {
			leads_to_tech = basic_medium_shell
			research_cost_coeff = 1
		}

		enable_equipment_modules = {
			ship_medium_battery_2
			ship_light_medium_battery_2
			ship_secondaries_2
		}



		folder = {
			name = mtgnavalsupportfolder
			position = { x = 0 y = 5 }
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 50 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1936.6.1
						}
						else = { 
							
							date < 1937.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				if = {
					limit = {
						NOT = { has_country_flag = EAI_unused_research_slots_extended }

						OR = { 
							
							AND = {
								NOT = { EAI_medium_battery_MODULE_FOCUS = yes EAI_ship_secondaries_MODULE_FOCUS = yes }
							}
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:basic_medium_battery } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:basic_medium_battery } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:basic_medium_battery } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}

		categories = {
			naval_equipment
			ship_modules_tech
			cat_ship_medium_battery
			mio_cat_tech_all_capital_ship_and_modules
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
		}
	}

	basic_medium_shell = {

		research_cost = 0.5

		start_year = 1936

		path = {
			leads_to_tech = improved_medium_battery
			research_cost_coeff = 1
		}

		light_cruiser = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		heavy_cruiser = {
			hg_attack = 0.05
			hg_armor_piercing = 0.05
		}

		folder = {
			name = mtgnavalsupportfolder
			position = { x =0 y = 7 }
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 50 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1936.6.1
						}
						else = { 
							
							date < 1937.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				if = {
					limit = {
						NOT = { has_country_flag = EAI_unused_research_slots_extended }

						OR = { 
							
							AND = {
								NOT = { EAI_medium_battery_MODULE_FOCUS = yes }
							}
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:basic_medium_shell } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:basic_medium_shell } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:basic_medium_shell } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}

		categories = {
			naval_equipment
			mio_cat_tech_all_capital_ship_and_modules
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
		}
	}

	improved_medium_battery = {

		research_cost = 1

		start_year = 1939

		path = {
			leads_to_tech = improved_medium_shell
			research_cost_coeff = 1
		}
		on_research_complete = {
			custom_effect_tooltip = medium_battery_advice_tt
		}
		enable_equipment_modules = {
			ship_medium_battery_3
			ship_light_medium_battery_3
			cat_ship_medium_battery
		}



		folder = {
			name = mtgnavalsupportfolder
			position = { x = 0 y = 11 }
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 50 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1938.6.1
						}
						else = { 
							
							date < 1939.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				if = {
					limit = {
						NOT = { has_country_flag = EAI_unused_research_slots_extended }

						OR = { 
							
							AND = {
								NOT = { EAI_medium_battery_MODULE_FOCUS = yes }
							}
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:improved_medium_battery } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:improved_medium_battery } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:improved_medium_battery } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}

		categories = {
			naval_equipment
			ship_modules_tech
			cat_ship_medium_battery
			mio_cat_tech_all_capital_ship_and_modules
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
		}
	}

	improved_medium_shell = {

		research_cost = 0.5

		start_year = 1942

		path = {
			leads_to_tech = advanced_medium_battery
			research_cost_coeff = 1
		}

		path = {
			leads_to_tech = basic_dp_medium_battery
			research_cost_coeff = 1
		}

		light_cruiser = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		heavy_cruiser = {
			hg_attack = 0.05
			hg_armor_piercing = 0.05
		}


		folder = {
			name = mtgnavalsupportfolder
			position = { x = 0 y = 16 }
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 0 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1941.6.1
						}
						else = { 
							
							date < 1942.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				if = {
					limit = {
						NOT = { has_country_flag = EAI_unused_research_slots_extended }

						OR = { 
							
							AND = {
								always = no
							}
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:improved_medium_shell } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:improved_medium_shell } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:improved_medium_shell } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}

		categories = {
			naval_equipment
			mio_cat_tech_all_capital_ship_and_modules
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
		}
	}

	advanced_medium_battery = {

		research_cost = 1

		start_year = 1944

		enable_equipment_modules = {
			ship_medium_battery_4
			ship_light_medium_battery_4
		}
		on_research_complete = {
			custom_effect_tooltip = medium_battery_advice_tt
		}


		folder = {
			name = mtgnavalsupportfolder
			position = { x = 0 y = 19 }
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 0 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1943.6.1
						}
						else = { 
							
							date < 1944.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				if = {
					limit = {
						NOT = { has_country_flag = EAI_unused_research_slots_extended }

						OR = { 
							
							AND = {
								always = no
							}
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:advanced_medium_battery } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:advanced_medium_battery } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:advanced_medium_battery } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}

		categories = {
			naval_equipment
			ship_modules_tech
			cat_ship_medium_battery
			mio_cat_tech_all_capital_ship_and_modules
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
		}
	}
	

	basic_heavy_battery = {

		research_cost = 1

		start_year = 1936

		path = {
			leads_to_tech = basic_heavy_shell
			research_cost_coeff = 1
		}

		enable_equipment_modules = {
			ship_heavy_battery_2
			ship_super_heavy_battery_1
		}

		on_research_complete = {
			custom_effect_tooltip = heavy_battery_advice_tt
		}

		folder = {
			name = mtgnavalsupportfolder
			position = { x = 6 y = 5 }
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 50 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1936.6.1
						}
						else = { 
							
							date < 1937.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				if = {
					limit = {
						NOT = { has_country_flag = EAI_unused_research_slots_extended }

						OR = { 
							
							AND = {
								NOT = { EAI_heavy_battery_MODULE_FOCUS = yes EAI_super_heavy_battery_MODULE_FOCUS = yes }
							}
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:basic_heavy_battery } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:basic_heavy_battery } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:basic_heavy_battery } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}

		categories = {
			naval_equipment
			ship_modules_tech
			cat_ship_heavy_battery
			mio_cat_tech_all_capital_ship_and_modules
		}
	}
	improved_heavy_battery = {

		research_cost = 1

		start_year = 1939

		path = {
			leads_to_tech = improved_heavy_shell
			research_cost_coeff = 1
		}

		enable_equipment_modules = {
			ship_heavy_battery_3
		}

		on_research_complete = {
			custom_effect_tooltip = heavy_battery_advice_tt
		}

		folder = {
			name = mtgnavalsupportfolder
			position = { x = 6 y = 11 }
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 50 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				if = { 
					limit = { 
						OR = { EAI_capital_tech_focus = yes }
					}

					multiply_temp_variable = { EAI_tmp_research_factor = 2 }
				}

				multiply_temp_variable = { EAI_tmp_research_factor = EAI_RESEARCH_naval_research_factor }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1938.6.1
						}
						else = { 
							
							date < 1939.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				if = {
					limit = {
						NOT = { has_country_flag = EAI_unused_research_slots_extended }

						OR = { 
							
							AND = {
								NOT = { EAI_heavy_battery_MODULE_FOCUS = yes }
							}
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:improved_heavy_battery } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:improved_heavy_battery } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:improved_heavy_battery } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}

		categories = {
			naval_equipment
			ship_modules_tech
			cat_ship_heavy_battery
			mio_cat_tech_all_capital_ship_and_modules
		}
	}
	advanced_heavy_battery = {

		research_cost = 1

		start_year = 1944

		enable_equipment_modules = {
			ship_heavy_battery_4
		}

		on_research_complete = {
			custom_effect_tooltip = heavy_battery_advice_tt
		}

		folder = {
			name = mtgnavalsupportfolder
			position = { x = 6 y = 19 }
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 50 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				if = { 
					limit = { 
						OR = { EAI_capital_tech_focus = yes }
					}

					multiply_temp_variable = { EAI_tmp_research_factor = 2 }
				}

				multiply_temp_variable = { EAI_tmp_research_factor = EAI_RESEARCH_naval_research_factor }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1943.6.1
						}
						else = { 
							
							date < 1944.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				if = {
					limit = {
						NOT = { has_country_flag = EAI_unused_research_slots_extended }

						OR = { 
							
							AND = {
								NOT = { EAI_heavy_battery_MODULE_FOCUS = yes }
							}
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:advanced_heavy_battery } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:advanced_heavy_battery } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:advanced_heavy_battery } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}

		categories = {
			naval_equipment
			ship_modules_tech
			cat_ship_heavy_battery
			mio_cat_tech_all_capital_ship_and_modules
		}
	}
	basic_heavy_shell = {

		research_cost = 0.5

		start_year = 1936

		path = {
			leads_to_tech = improved_heavy_battery
			research_cost_coeff = 1
		}

		battleship = {
			hg_attack = 0.05
			hg_armor_piercing = 0.05
		}
		battle_cruiser = {
			hg_attack = 0.05
			hg_armor_piercing = 0.05
		}

		folder = {
			name = mtgnavalsupportfolder
			position = { x = 6 y = 7 }
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 50 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				if = { 
					limit = { 
						OR = { EAI_capital_tech_focus = yes }
					}

					multiply_temp_variable = { EAI_tmp_research_factor = 2 }
				}

				multiply_temp_variable = { EAI_tmp_research_factor = EAI_RESEARCH_naval_research_factor }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1936.6.1
						}
						else = { 
							
							date < 1937.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				if = {
					limit = {
						NOT = { has_country_flag = EAI_unused_research_slots_extended }

						OR = { 
							
							AND = {
								NOT = { EAI_heavy_battery_MODULE_FOCUS = yes }
							}
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:basic_heavy_shell } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:basic_heavy_shell } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:basic_heavy_shell } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}

		categories = {
			naval_equipment
			mio_cat_tech_all_capital_ship_and_modules
		}
	}
	improved_heavy_shell = {

		research_cost = 0.5

		start_year = 1942

		path = {
			leads_to_tech = advanced_heavy_battery
			research_cost_coeff = 1
		}

		battleship = {
			hg_attack = 0.05
			hg_armor_piercing = 0.05
		}
		battle_cruiser = {
			hg_attack = 0.05
			hg_armor_piercing = 0.05
		}

		folder = {
			name = mtgnavalsupportfolder
			position = { x = 6 y = 16 }
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 50 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				if = { 
					limit = { 
						OR = { EAI_capital_tech_focus = yes }
					}

					multiply_temp_variable = { EAI_tmp_research_factor = 2 }
				}

				multiply_temp_variable = { EAI_tmp_research_factor = EAI_RESEARCH_naval_research_factor }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1941.6.1
						}
						else = { 
							
							date < 1942.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				if = {
					limit = {
						NOT = { has_country_flag = EAI_unused_research_slots_extended }

						OR = { 
							
							AND = {
								NOT = { EAI_heavy_battery_MODULE_FOCUS = yes }
							}
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:improved_heavy_shell } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:improved_heavy_shell } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:improved_heavy_shell } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}

		categories = {
			naval_equipment
			mio_cat_tech_all_capital_ship_and_modules
		}
	}

	basic_dp_light_battery = {

		research_cost = 1

		start_year = 1939

		enable_equipment_modules = {
			dp_light_battery_2
			dp_ship_secondaries_2
			dp_light_battery_1
			dp_ship_secondaries_1
		}

		path = {
			leads_to_tech = improved_dp_light_battery
			research_cost_coeff = 1
		}

		on_research_complete = {
			custom_effect_tooltip = secondary_battery_advice_tt
		}

		folder = {
			name = mtgnavalsupportfolder
			position = { x = -3 y = 11 }
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 50 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				if = { 
					limit = { 
						OR = { EAI_screen_tech_focus = yes EAI_capital_tech_focus = yes }
					}

					multiply_temp_variable = { EAI_tmp_research_factor = 2 }
				}

				multiply_temp_variable = { EAI_tmp_research_factor = EAI_RESEARCH_naval_research_factor }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1938.6.1
						}
						else = { 
							
							date < 1939.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				if = {
					limit = {
						NOT = { has_country_flag = EAI_unused_research_slots_extended }

						OR = { 
							
							AND = {
								NOT = { EAI_dp_ship_secondaries_MODULE_FOCUS = yes }
							}
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:basic_dp_light_battery } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:basic_dp_light_battery } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:basic_dp_light_battery } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}

		categories = {
			naval_equipment
			ship_modules_tech
			mio_cat_tech_all_capital_ship_and_modules
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_carrier_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
	}

	improved_dp_light_battery = {

		research_cost = 1

		start_year = 1939

		enable_equipment_modules = {
			dp_light_battery_3
			dp_ship_secondaries_3
		}

		on_research_complete = {
			custom_effect_tooltip = secondary_battery_advice_tt
		}

		path = {
			leads_to_tech = advanced_dp_light_battery
			research_cost_coeff = 1
		}

		folder = {
			name = mtgnavalsupportfolder
			position = { x = -3 y = 13 }
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 50 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				if = { 
					limit = { 
						OR = { EAI_screen_tech_focus = yes EAI_capital_tech_focus = yes }
					}

					multiply_temp_variable = { EAI_tmp_research_factor = 2 }
				}

				multiply_temp_variable = { EAI_tmp_research_factor = EAI_RESEARCH_naval_research_factor }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1938.6.1
						}
						else = { 
							
							date < 1939.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				if = {
					limit = {
						NOT = { has_country_flag = EAI_unused_research_slots_extended }

						OR = { 
							
							AND = {
								NOT = { EAI_dp_ship_secondaries_MODULE_FOCUS = yes }
							}
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:improved_dp_light_battery } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:improved_dp_light_battery } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:improved_dp_light_battery } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}

		categories = {
			naval_equipment
			ship_modules_tech
			mio_cat_tech_all_capital_ship_and_modules
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_carrier_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
	}

	advanced_dp_light_battery = {

		research_cost = 1

		start_year = 1944

		enable_equipment_modules = {
			dp_light_battery_4
			dp_ship_secondaries_4
		}

		on_research_complete = {
			custom_effect_tooltip = secondary_battery_advice_tt
		}

		folder = {
			name = mtgnavalsupportfolder
			position = { x = -3 y = 19 }
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 50 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				if = { 
					limit = { 
						OR = { EAI_screen_tech_focus = yes EAI_capital_tech_focus = yes }
					}

					multiply_temp_variable = { EAI_tmp_research_factor = 2 }
				}

				multiply_temp_variable = { EAI_tmp_research_factor = EAI_RESEARCH_naval_research_factor }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1943.6.1
						}
						else = { 
							
							date < 1944.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				if = {
					limit = {
						NOT = { has_country_flag = EAI_unused_research_slots_extended }

						OR = { 
							
							AND = {
								NOT = { EAI_dp_ship_secondaries_MODULE_FOCUS = yes }
							}
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:advanced_dp_light_battery } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:advanced_dp_light_battery } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:advanced_dp_light_battery } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}

		categories = {
			naval_equipment
			ship_modules_tech
			mio_cat_tech_all_capital_ship_and_modules
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_carrier_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
	}

	basic_dp_medium_battery = {

		research_cost = 1.5

		start_year = 1944

		enable_equipment_modules = {
			dp_ship_medium_1
		}

		on_research_complete = {
			custom_effect_tooltip = secondary_battery_advice_tt
		}

		folder = {
			name = mtgnavalsupportfolder
			position = { x = 3 y = 19 }
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 0 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1943.6.1
						}
						else = { 
							
							date < 1944.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:basic_dp_medium_battery } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:basic_dp_medium_battery } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:basic_dp_medium_battery } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}

		categories = {
			naval_equipment
			ship_modules_tech
			mio_cat_tech_all_capital_ship_and_modules
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
		}
	}

###  ##  ###  ###  ### ###   ##      #   #  ##  ###   ##  ### ###  ###
 #  #  # #  # #  # #   #  # #  #     #   # #  # #  # #  # #   #  # #  
 #  #  # ###  ###  ##  #  # #  #     # # # #### ###  #### ##  ###  ## 
 #  #  # #  # #    #   #  # #  #     # # # #  # #  # #  # #   #  # #  
 #   ##  #  # #    ### ###   ##       # #  #  # #  # #  # #   #  # ###

	basic_torpedo = {

		research_cost = 2.0

		start_year = 1922

		path = {
			leads_to_tech = magnetic_detonator
			research_cost_coeff = 1
		}

		path = {
			leads_to_tech = improved_ship_torpedo_launcher
			research_cost_coeff = 1
		}

		enable_equipment_modules = {
			ship_torpedo_1
			torpedo_mounting
		}

		on_research_complete = {
			custom_effect_tooltip = torpedo_advice_tt
		}

		folder = {
			name = mtgnavalsupportfolder
			position = { x = 0 y = 1 }
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 50 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1936.6.1
						}
						else = { 
							
							date < 1937.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				if = {
					limit = {
						NOT = { has_country_flag = EAI_unused_research_slots_extended }

						OR = { 
							
							AND = {
								NOT = { EAI_torpedo_sub_MODULE_FOCUS = yes }
							}
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:basic_torpedo } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:basic_torpedo } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:basic_torpedo } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}

		categories = {
			naval_equipment
			ship_modules_tech
			cat_torpedoes
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
			mio_cat_tech_all_submarine_and_modules #Not really Sub but unlocks tech improving Subs torpedo stuff later
		}
	}

	magnetic_detonator = {

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 2.5

		start_year = 1936

		path = {
			leads_to_tech = homing_torpedo
			research_cost_coeff = 1
		}

		path = {
			leads_to_tech = electric_torpedo
			research_cost_coeff = 1
		}

		destroyer = {
			torpedo_attack = 0.2
		}
		submarine = {
			torpedo_attack = 0.2
		}
		light_cruiser = {
			torpedo_attack = 0.2
		}
		heavy_cruiser = {
			torpedo_attack = 0.2
		}



		folder = {
			name = mtgnavalsupportfolder
			position = { x = 2 y = 7 }
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 50 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				if = { 
					limit = { 
						check_variable = { EAI_FOCUS/NAVY/naval_doctrine = global.EAI_TI_DOCTRINE }
					}

					add_to_temp_variable = { EAI_tmp_research_factor = num_ships_with_type@submarine }
				}

				multiply_temp_variable = { EAI_tmp_research_factor = EAI_RESEARCH_naval_research_factor }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1937.6.1
						}
						else = { 
							
							date < 1938.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				if = {
					limit = {
						NOT = { has_country_flag = EAI_unused_research_slots_extended }

						OR = { 

							AND = {
								NOT = { EAI_torpedo_sub_MODULE_FOCUS = yes }
							}
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:magnetic_detonator } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:magnetic_detonator } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:magnetic_detonator } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}

		categories = {
			naval_equipment
			ship_modules_tech
			cat_torpedoes
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
			mio_cat_tech_all_submarine_and_modules
		}
	}

	homing_torpedo = {

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 2.5

		start_year = 1942
		destroyer = {
			naval_torpedo_hit_chance_factor = 0.1
		}
		submarine = {
			naval_torpedo_hit_chance_factor = 0.1
		}
		light_cruiser = {
			naval_torpedo_hit_chance_factor = 0.1
		}
		heavy_cruiser = {
			naval_torpedo_hit_chance_factor = 0.1
		}
		folder = {
			name = mtgnavalsupportfolder
			position = { x = 2 y = 16 }
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 50 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				if = { 
					limit = { 
						check_variable = { EAI_FOCUS/NAVY/naval_doctrine = global.EAI_TI_DOCTRINE }
					}

					add_to_temp_variable = { EAI_tmp_research_factor = num_ships_with_type@submarine }
				}

				multiply_temp_variable = { EAI_tmp_research_factor = EAI_RESEARCH_naval_research_factor }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1941.6.1
						}
						else = { 
							
							date < 1942.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				if = {
					limit = {
						NOT = { has_country_flag = EAI_unused_research_slots_extended }

						OR = { 

							AND = {
								NOT = { EAI_torpedo_sub_MODULE_FOCUS = yes }
							}
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:homing_torpedo } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:homing_torpedo } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:homing_torpedo } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}

		categories = {
			naval_equipment
			ship_modules_tech
			cat_torpedoes
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
			mio_cat_tech_all_submarine_and_modules
		}
	}

	electric_torpedo = {

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 2.5

		start_year = 1940


		naval_torpedo_reveal_chance_factor = -0.25


		folder = {
			name = mtgnavalsupportfolder
			position = { x = 3 y = 13 }
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 50 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				if = { 
					limit = { 
						check_variable = { EAI_FOCUS/NAVY/naval_doctrine = global.EAI_TI_DOCTRINE }
					}

					add_to_temp_variable = { EAI_tmp_research_factor = num_ships_with_type@submarine }
				}

				multiply_temp_variable = { EAI_tmp_research_factor = EAI_RESEARCH_naval_research_factor }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1939.6.1
						}
						else = { 
							
							date < 1940.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				if = {
					limit = {
						NOT = { has_country_flag = EAI_unused_research_slots_extended }

						OR = { 

							AND = {
								NOT = { EAI_torpedo_sub_MODULE_FOCUS = yes }
							}
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:electric_torpedo } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:electric_torpedo } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:electric_torpedo } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}

		categories = {
			naval_equipment
			ship_modules_tech
			cat_torpedoes
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
			mio_cat_tech_all_submarine_and_modules
		}
	}
	improved_ship_torpedo_launcher = {

		research_cost = 1.5

		start_year = 1936

		path = {
			leads_to_tech = advanced_ship_torpedo_launcher
			research_cost_coeff = 1
		}

		on_research_complete = {
			custom_effect_tooltip = torpedo_advice_tt
		}

		enable_equipment_modules = {
			ship_torpedo_2
			ship_modules_tech
		}



		folder = {
			name = mtgnavalsupportfolder
			position = { x = 0 y = 7 }
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 50 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				if = { 
					limit = { 
						check_variable = { EAI_FOCUS/NAVY/naval_doctrine = global.EAI_TI_DOCTRINE }
					}

					add_to_temp_variable = { EAI_tmp_research_factor = num_ships_with_type@submarine }
				}

				multiply_temp_variable = { EAI_tmp_research_factor = EAI_RESEARCH_naval_research_factor }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1936.6.1
						}
						else = { 
							
							date < 1937.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				if = {
					limit = {
						NOT = { has_country_flag = EAI_unused_research_slots_extended }

						OR = { 

							AND = {
								always = yes
							}
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:improved_ship_torpedo_launcher } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:improved_ship_torpedo_launcher } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:improved_ship_torpedo_launcher } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}

		categories = {
			naval_equipment
			ship_modules_tech
			cat_torpedoes
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
	}
	advanced_ship_torpedo_launcher = {

		research_cost = 1.5

		start_year = 1940

		path = {
			leads_to_tech = modern_ship_torpedo_launcher
			research_cost_coeff = 1
		}

		on_research_complete = {
			custom_effect_tooltip = torpedo_advice_tt
		}

		enable_equipment_modules = {
			ship_torpedo_3
		}



		folder = {
			name = mtgnavalsupportfolder
			position = { x = 0 y = 13 }
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 50 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				if = { 
					limit = { 
						check_variable = { EAI_FOCUS/NAVY/naval_doctrine = global.EAI_TI_DOCTRINE }
					}

					add_to_temp_variable = { EAI_tmp_research_factor = num_ships_with_type@submarine }
				}

				multiply_temp_variable = { EAI_tmp_research_factor = EAI_RESEARCH_naval_research_factor }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1939.6.1
						}
						else = { 
							
							date < 1940.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				if = {
					limit = {
						NOT = { has_country_flag = EAI_unused_research_slots_extended }

						OR = { 

							AND = {
								always = yes
							}
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:advanced_ship_torpedo_launcher } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:advanced_ship_torpedo_launcher } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:advanced_ship_torpedo_launcher } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}

		categories = {
			naval_equipment
			ship_modules_tech
			cat_torpedoes
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
	}
	modern_ship_torpedo_launcher = {

		research_cost = 1.5

		start_year = 1944

		enable_equipment_modules = {
			ship_torpedo_4
		}

		on_research_complete = {
			custom_effect_tooltip = torpedo_advice_tt
		}


		folder = {
			name = mtgnavalsupportfolder
			position = { x = 0 y = 19 }
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 50 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				if = { 
					limit = { 
						check_variable = { EAI_FOCUS/NAVY/naval_doctrine = global.EAI_TI_DOCTRINE }
					}

					add_to_temp_variable = { EAI_tmp_research_factor = num_ships_with_type@submarine }
				}

				multiply_temp_variable = { EAI_tmp_research_factor = EAI_RESEARCH_naval_research_factor }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1943.6.1
						}
						else = { 
							
							date < 1944.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				if = {
					limit = {
						NOT = { has_country_flag = EAI_unused_research_slots_extended }

						OR = { 

							AND = {
								always = yes
							}
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:modern_ship_torpedo_launcher } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:modern_ship_torpedo_launcher } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:modern_ship_torpedo_launcher } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}

		categories = {
			naval_equipment
			ship_modules_tech
			cat_torpedoes
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
	}


###   ##  #   #  ##   ##  ###      ##   ##  #  # ### ###   ##  #
#  # #  # ## ## #  # #    #       #  # #  # ## #  #  #  # #  # #
#  # #### # # # #### # ## ##      #    #  # # ##  #  ###  #  # #
#  # #  # #   # #  # #  # #       #  # #  # #  #  #  #  # #  # #
###  #  # #   # #  #  ##  ###      ##   ##  #  #  #  #  #  ##  ###

	damage_control_1 = {

		research_cost = 2.5
		path = {
			leads_to_tech = damage_control_2
			research_cost_coeff = 1
		}
		critical_receive_chance = -0.1
		naval_critical_effect_factor = -0.1
		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		folder = {
			name = mtgnavalsupportfolder
			position = { x = 0 y = 1 }
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 1 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				if = { 
					limit = { 
						EAI_wants_to_build_surface_ships = yes
					}

					add_to_temp_variable = { EAI_tmp_research_factor = EAI_num_surface_ships }
				}

				multiply_temp_variable = { EAI_tmp_research_factor = EAI_RESEARCH_naval_research_factor }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1937.6.1
						}
						else = { 
							
							date < 1938.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				if = {
					limit = {
						NOT = { has_country_flag = EAI_unused_research_slots_extended }

						OR = { 
							
							AND = {
								NOT = { EAI_wants_to_build_ships = yes }
							}
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:damage_control_1 } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:damage_control_1 } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:damage_control_1 } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}

		categories = {
			naval_equipment
			ship_modules_tech
			mio_cat_tech_all_capital_ship_and_modules
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_submarine_and_modules
			mio_cat_tech_all_carrier_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
	}

	damage_control_2 = {

		research_cost = 2.5
		path = {
			leads_to_tech = damage_control_3
			research_cost_coeff = 1
		}
		critical_receive_chance = -0.1
		naval_critical_effect_factor = -0.1
		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		folder = {
			name = mtgnavalsupportfolder
			position = { x = 0 y = 6 }
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 1 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				if = { 
					limit = { 
						EAI_wants_to_build_surface_ships = yes
					}

					add_to_temp_variable = { EAI_tmp_research_factor = EAI_num_surface_ships }
				}

				multiply_temp_variable = { EAI_tmp_research_factor = EAI_RESEARCH_naval_research_factor }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1937.6.1
						}
						else = { 
							
							date < 1938.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				if = {
					limit = {
						NOT = { has_country_flag = EAI_unused_research_slots_extended }

						OR = { 
							
							AND = {
								NOT = { EAI_wants_to_build_ships = yes }
							}
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:damage_control_2 } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:damage_control_2 } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:damage_control_2 } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}

		categories = {
			naval_equipment
			ship_modules_tech
			mio_cat_tech_all_capital_ship_and_modules
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_submarine_and_modules
			mio_cat_tech_all_carrier_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
	}

	damage_control_3 = {

		research_cost = 2.5
		critical_receive_chance = -0.1
		naval_critical_effect_factor = -0.1
		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		folder = {
			name = mtgnavalsupportfolder
			position = { x = 0 y = 12 }
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 1 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				if = { 
					limit = { 
						EAI_wants_to_build_surface_ships = yes
					}

					add_to_temp_variable = { EAI_tmp_research_factor = EAI_num_surface_ships }
				}

				multiply_temp_variable = { EAI_tmp_research_factor = EAI_RESEARCH_naval_research_factor }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1939.6.1
						}
						else = { 
							
							date < 1940.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				if = {
					limit = {
						NOT = { has_country_flag = EAI_unused_research_slots_extended }

						OR = { 
							
							AND = {
								NOT = { EAI_wants_to_build_ships = yes }
							}
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:damage_control_3 } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:damage_control_3 } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:damage_control_3 } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}

		categories = {
			naval_equipment
			ship_modules_tech
			mio_cat_tech_all_capital_ship_and_modules
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_submarine_and_modules
			mio_cat_tech_all_carrier_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
	}

### ### ###  ###      ##   ##  #  # ### ###   ##  #       #   # ### ### #  #  ##  ###   ##
#    #  #  # #       #  # #  # ## #  #  #  # #  # #       ## ## #    #  #  # #  # #  # #
##   #  ###  ##      #    #  # # ##  #  ###  #  # #       # # # ##   #  #### #  # #  #  #
#    #  #  # #       #  # #  # #  #  #  #  # #  # #       #   # #    #  #  # #  # #  #   #
#   ### #  # ###      ##   ##  #  #  #  #  #  ##  ###     #   # ###  #  #  #  ##  ###  ##

#NOTE: FIRE CONTROL SYSTEMS ARE IN ELECTROMECHANICAL ENGINEERING FOLDER!

	fire_control_methods_1 = {

		research_cost = 2.5
		path = {
			leads_to_tech = fire_control_methods_2
			research_cost_coeff = 1
		}
		battleship = {
			lg_attack = 0.05
			hg_attack = 0.05
		}
		battle_cruiser = {
			lg_attack = 0.05
			hg_attack = 0.05
		}
		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		folder = {
			name = mtgnavalsupportfolder
			position = { x = 0 y = 1 }
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 1 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				if = { 
					limit = { 
						OR = {
							EAI_BB_navy_production = yes
							EAI_BC_navy_production = yes
							EAI_CA_navy_production = yes
						}
					}

					set_temp_variable = { t1 = num_ships_with_type@heavy_cruiser }
					add_to_temp_variable = { t1 = num_ships_with_type@battle_cruiser }
					add_to_temp_variable = { t1 = num_ships_with_type@battleship }

					multiply_temp_variable = { t1 = 20 }

					add_to_temp_variable = { EAI_tmp_research_factor = t1 }
				}

				multiply_temp_variable = { EAI_tmp_research_factor = EAI_RESEARCH_naval_research_factor }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1937.6.1
						}
						else = { 
							
							date < 1938.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				if = {
					limit = {
						NOT = { has_country_flag = EAI_unused_research_slots_extended }

						OR = { 
							
							AND = {
								NOT = {
									EAI_BB_navy_production = yes
									EAI_BC_navy_production = yes
									EAI_CA_navy_production = yes
								}
							}
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:fire_control_methods_1 } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:fire_control_methods_1 } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:fire_control_methods_1 } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}

		categories = {
			naval_equipment
			ship_modules_tech
			mio_cat_tech_all_capital_ship_and_modules
			mio_cat_tech_all_screen_ship_and_modules #Not really but for further tech
			mio_cat_tech_all_cruiser_and_modules #Not really but for further tech
			mio_cat_tech_all_destroyer_and_modules #Not really but for further tech
		}
	}

	fire_control_methods_2 = {
		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 2.5
		path = {
			leads_to_tech = fire_control_methods_3
			research_cost_coeff = 1
		}
		battleship = {
			lg_attack = 0.1
			hg_attack = 0.1
		}
		battle_cruiser = {
			lg_attack = 0.1
			hg_attack = 0.1
		}
		heavy_cruiser = {
			lg_attack = 0.05
			hg_attack = 0.05
		}

		folder = {
			name = mtgnavalsupportfolder
			position = { x = 0 y = 6 }
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 1 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				if = { 
					limit = { 
						OR = {
							EAI_BB_navy_production = yes
							EAI_BC_navy_production = yes
							EAI_CA_navy_production = yes
						}
					}

					set_temp_variable = { t1 = num_ships_with_type@heavy_cruiser }
					add_to_temp_variable = { t1 = num_ships_with_type@battle_cruiser }
					add_to_temp_variable = { t1 = num_ships_with_type@battleship }

					multiply_temp_variable = { t1 = 20 }

					add_to_temp_variable = { EAI_tmp_research_factor = t1 }
				}

				multiply_temp_variable = { EAI_tmp_research_factor = EAI_RESEARCH_naval_research_factor }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1937.6.1
						}
						else = { 
							
							date < 1938.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				if = {
					limit = {
						NOT = { has_country_flag = EAI_unused_research_slots_extended }

						OR = { 
							
							AND = {
								NOT = {
									EAI_BB_navy_production = yes
									EAI_BC_navy_production = yes
									EAI_CA_navy_production = yes
								}
							}
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:fire_control_methods_2 } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:fire_control_methods_2 } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:fire_control_methods_2 } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}

		categories = {
			naval_equipment
			ship_modules_tech
			mio_cat_tech_all_capital_ship_and_modules
			mio_cat_tech_all_screen_ship_and_modules #Not really but for further tech
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules #Not really but for further tech
		}
	}

	fire_control_methods_3 = {

		research_cost = 2.5
		battleship = {
			lg_attack = 0.15
			hg_attack = 0.15
		}
		battle_cruiser = {
			lg_attack = 0.15
			hg_attack = 0.15
		}
		heavy_cruiser = {
			lg_attack = 0.1
			hg_attack = 0.1
		}
		light_cruiser = {
			lg_attack = 0.1
			hg_attack = 0.1
		}
		destroyer = {
			lg_attack = 0.05
			hg_attack = 0.05
		}
		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		folder = {
			name = mtgnavalsupportfolder
			position = { x = 0 y = 12 }
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 1 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				if = { 
					limit = { 
						OR = {
							EAI_BB_navy_production = yes
							EAI_BC_navy_production = yes
							EAI_CA_navy_production = yes
						}
					}

					set_temp_variable = { t1 = num_ships_with_type@heavy_cruiser }
					add_to_temp_variable = { t1 = num_ships_with_type@battle_cruiser }
					add_to_temp_variable = { t1 = num_ships_with_type@battleship }

					multiply_temp_variable = { t1 = 20 }

					add_to_temp_variable = { EAI_tmp_research_factor = t1 }
				}

				multiply_temp_variable = { EAI_tmp_research_factor = EAI_RESEARCH_naval_research_factor }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1939.6.1
						}
						else = { 
							
							date < 1940.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				if = {
					limit = {
						NOT = { has_country_flag = EAI_unused_research_slots_extended }

						OR = { 
							
							AND = {
								NOT = {
									EAI_BB_navy_production = yes
									EAI_BC_navy_production = yes
									EAI_CA_navy_production = yes
								}
							}
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:fire_control_methods_3 } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:fire_control_methods_3 } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:fire_control_methods_3 } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}

		categories = {
			naval_equipment
			ship_modules_tech
			mio_cat_tech_all_capital_ship_and_modules
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
	}


#   # ### #  # ###  ##
## ##  #  ## # #   #
# # #  #  # ## ##   #
#   #  #  #  # #     #
#   # ### #  # ### ##

	basic_naval_mines = {

		research_cost = 2

		start_year = 1922

		path = {
			leads_to_tech = improved_naval_mines
			research_cost_coeff = 1
		}

		path = {
			leads_to_tech = submarine_mine_laying
			research_cost_coeff = 1
		}

		enable_equipment_modules = {
			ship_mine_layer_1
		}

		enable_equipment_modules = {
			ship_mine_sweeper_1
		}

		folder = {
			name = mtgnavalsupportfolder
			position = { x = 0 y = 1 }
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 1 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				if = { 
					limit = { 
						EAI_mine_sweeper_tech_focus = yes
					}

					multiply_temp_variable = { EAI_tmp_research_factor = 250 }
				}

				multiply_temp_variable = { EAI_tmp_research_factor = EAI_RESEARCH_naval_research_factor }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1937.6.1
						}
						else = { 
							
							date < 1938.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				if = {
					limit = {
						NOT = { has_country_flag = EAI_unused_research_slots_extended }

						OR = { 
							
							AND = {
								NOT = { EAI_ML_DD_tech_focus = yes EAI_mine_sweeper_tech_focus = yes }
							}
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:basic_naval_mines } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:basic_naval_mines } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:basic_naval_mines } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}

		categories = {
			naval_mines
			naval_minelaying
			naval_equipment
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
	}

	submarine_mine_laying = {

		research_cost = 2

		start_year = 1922

		path = {
			leads_to_tech = improved_submarine_mine_laying
			research_cost_coeff = 1
		}

		enable_equipment_modules = {
			ship_mine_layer_sub
		}

		folder = {
			name = mtgnavalsupportfolder
			position = { x = 4 y = 1 }
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 0 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1936.6.1
						}
						else = { 
							
							date < 1937.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:submarine_mine_laying } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:submarine_mine_laying } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:submarine_mine_laying } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}

		categories = {
			naval_mines
			naval_minelaying
			naval_equipment
			ship_modules_tech
			mio_cat_tech_all_submarine_and_modules
		}
	}

	improved_submarine_mine_laying = {

		research_cost = 2

		start_year = 1940

		submarine = {
			mines_planting = 0.2
		}

		folder = {
			name = mtgnavalsupportfolder
			position = { x = 4 y = 13 }
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 0 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1939.6.1
						}
						else = { 
							
							date < 1940.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:improved_submarine_mine_laying } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:improved_submarine_mine_laying } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:improved_submarine_mine_laying } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}

		categories = {
			naval_mines
			naval_minelaying
			naval_equipment
			ship_modules_tech
			mio_cat_tech_all_submarine_and_modules
		}
	}

	improved_naval_mines = {

		research_cost = 2

		start_year = 1936

		path = {
			leads_to_tech = advanced_naval_mines
			research_cost_coeff = 1
		}

		path = {
			leads_to_tech = degaussing
			research_cost_coeff = 1
		}



		naval_mines_damage_factor = 0.2 # more boom for the boom box
		folder = {
			name = mtgnavalsupportfolder
			position = { x = 0 y = 6 }
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 1 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				if = { 
					limit = { 
						EAI_mine_sweeper_tech_focus = yes
					}

					multiply_temp_variable = { EAI_tmp_research_factor = 250 }
				}

				multiply_temp_variable = { EAI_tmp_research_factor = EAI_RESEARCH_naval_research_factor }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1937.6.1
						}
						else = { 
							
							date < 1938.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				if = {
					limit = {
						NOT = { has_country_flag = EAI_unused_research_slots_extended }

						OR = { 
							
							AND = {
								NOT = { EAI_ML_DD_tech_focus = yes EAI_mine_sweeper_tech_focus = yes }
							}
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:improved_naval_mines } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:improved_naval_mines } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:improved_naval_mines } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}

		categories = {
			naval_mines
			naval_minelaying
			naval_equipment
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
	}

	degaussing = {

		research_cost = 1

		start_year = 1938

		naval_mines_effect_reduction = 0.5

		folder = {
			name = mtgnavalsupportfolder
			position = { x = 2 y = 10 }
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 250 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				multiply_temp_variable = { EAI_tmp_research_factor = EAI_RESEARCH_naval_research_factor }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1937.6.1
						}
						else = { 
							
							date < 1938.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				if = {
					limit = {
						NOT = { has_country_flag = EAI_unused_research_slots_extended }

						OR = { 
							
							AND = {
								NOT = { EAI_mine_sweeper_tech_focus = yes }
							}
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:degaussing } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:degaussing } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:degaussing } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}

		categories = {
			naval_mines
			naval_minesweeping
			naval_equipment
			mio_cat_tech_all_capital_ship_and_modules
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_submarine_and_modules
			mio_cat_tech_all_carrier_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
	}

	advanced_naval_mines = {

		research_cost = 2

		start_year = 1942

		path = {
			leads_to_tech = modern_naval_mines
			research_cost_coeff = 1
		}

		path = {
			leads_to_tech = airdrop_mines
			research_cost_coeff = 1
		}
		path = {
			leads_to_tech = airdrop_mines_bba
			research_cost_coeff = 1
		}

		naval_mines_damage_factor = 0.2 # more boom for the boom box
		folder = {
			name = mtgnavalsupportfolder
			position = { x = 0 y = 15 }
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 50 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				multiply_temp_variable = { EAI_tmp_research_factor = EAI_RESEARCH_naval_research_factor }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1941.6.1
						}
						else = { 
							
							date < 1942.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				if = {
					limit = {
						NOT = { has_country_flag = EAI_unused_research_slots_extended }

						OR = { 
							
							AND = {
								NOT = { EAI_ML_DD_tech_focus = yes }
							}
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:advanced_naval_mines } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:advanced_naval_mines } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:advanced_naval_mines } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}

		categories = {
			naval_mines
			naval_minelaying
			naval_equipment
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
	}

	airdrop_mines = {
		allow_branch = {
			NOT = { has_dlc = "By Blood Alone" }
		}

		research_cost = 2

		start_year = 1942

		category_nav_bomber = {
			mines_planting = 0.05
		}
		category_tac_bomber = {
			mines_planting = 0.08
		}
		category_strat_bomber = {
			mines_planting = 0.13
		}

		folder = {
			name = mtgnavalsupportfolder
			position = { x = 2 y = 15 }
		}
		
		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 0 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1941.6.1
						}
						else = { 
							
							date < 1942.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:airdrop_mines } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:airdrop_mines } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:airdrop_mines } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}

		categories = {
			naval_mines
			naval_minelaying
			naval_equipment
		}
	}

	airdrop_mines_bba = {
		allow_branch = {
			has_dlc = "By Blood Alone"
		}

		research_cost = 1

		start_year = 1942

		enable_equipment_modules = {
			airdropped_mines
		}

		folder = {
			name = mtgnavalsupportfolder
			position = { x = 2 y = 15 }
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 0 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1941.6.1
						}
						else = { 
							
							date < 1942.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:airdrop_mines_bba } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:airdrop_mines_bba } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:airdrop_mines_bba } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}

		categories = {
			naval_mines
			naval_minelaying
			naval_equipment
		}
	}

	modern_naval_mines = {

		research_cost = 2

		start_year = 1945

		path = {
			leads_to_tech = airsweep_mines
			research_cost_coeff = 1
		}
		path = {
			leads_to_tech = airsweep_mines_bba
			research_cost_coeff = 1
		}

		naval_mines_damage_factor = 0.2 # more boom for the boom box
		folder = {
			name = mtgnavalsupportfolder
			position = { x = 0 y = 19 }
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 50 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				multiply_temp_variable = { EAI_tmp_research_factor = EAI_RESEARCH_naval_research_factor }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1944.6.1
						}
						else = { 
							
							date < 1945.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				if = {
					limit = {
						NOT = { has_country_flag = EAI_unused_research_slots_extended }

						OR = { 
							
							AND = {
								NOT = { EAI_ML_DD_tech_focus = yes }
							}
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:modern_naval_mines } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:modern_naval_mines } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:modern_naval_mines } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}

		categories = {
			naval_mines
			naval_minelaying
			naval_equipment
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
	}

	airsweep_mines = {
		allow_branch = {
			NOT = { has_dlc = "By Blood Alone" }
		}

		research_cost = 2

		start_year = 1944

		category_nav_bomber = {
			mines_sweeping = 0.1
		}

		category_tac_bomber = {
			mines_sweeping = 0.15
		}

		folder = {
			name = mtgnavalsupportfolder
			position = { x = 2 y = 19 }
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 0 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1943.6.1
						}
						else = { 
							
							date < 1944.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:airsweep_mines } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:airsweep_mines } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:airsweep_mines } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}

		categories = {
			naval_mines
			naval_minesweeping
			naval_equipment
		}
	}

	airsweep_mines_bba = {
		allow_branch = {
			has_dlc = "By Blood Alone"
		}

		research_cost = 1

		start_year = 1944

		enable_equipment_modules = {
			demining_coil
		}

		folder = {
			name = mtgnavalsupportfolder
			position = { x = 2 y = 19 }
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 0 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1943.6.1
						}
						else = { 
							
							date < 1944.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:airsweep_mines_bba } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:airsweep_mines_bba } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:airsweep_mines_bba } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}

		categories = {
			naval_mines
			naval_minesweeping
			naval_equipment
		}
	}

	mtg_transport = { #WHEN BALANCING - ALSO FIX REGULAR NAVAL TREE

		transport_capacity = -0.5
		naval_invasion_capacity = 10

		path = {
			leads_to_tech = mtg_landing_craft
			research_cost_coeff = 1
		}

		research_cost = 1.5
		start_year = 1922

		folder = {
			name = mtgnavalsupportfolder
			position = { x = 0 y = 1 }
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 1 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				if = { 
					limit = { 
						OR = {
							EAI_transport_tech_focus = yes 
							date > 1940.1.1
						}
					}

					multiply_temp_variable = { EAI_tmp_research_factor = 300 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1936.6.1
						}
						else = { 
							
							date < 1937.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:mtg_transport } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:mtg_transport } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:mtg_transport } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}

		categories = {
			naval_equipment
			tp_tech
		}
	}

	mtg_landing_craft = {

		invasion_preparation = -0.5
		amphibious_invasion_defence = 0.15
		naval_invasion_capacity = 40

		path = {
			leads_to_tech = mtg_tank_landing_craft
			research_cost_coeff = 1
		}

		enable_equipments = {
			floating_harbor_equipment_1
		}
		force_use_small_tech_layout = yes
		show_equipment_icon = yes

		research_cost = 2
		start_year = 1940

		folder = {
			name = mtgnavalsupportfolder
			position = { x = 0 y = 13 }
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 1 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				if = { 
					limit = { 
						EAI_transport_tech_focus = yes date > 1941.1.1
					}

					multiply_temp_variable = { EAI_tmp_research_factor = 300 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1939.6.1
						}
						else = { 
							
							date < 1940.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				if = {
					limit = {
						NOT = { has_country_flag = EAI_unused_research_slots_extended }

						OR = { 
							
							AND = {
								NOT = { any_owned_state = { is_coastal = yes } }
							}
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:mtg_landing_craft } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:mtg_landing_craft } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:mtg_landing_craft } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}

		categories = {
			naval_equipment
			tp_tech
		}
	}

	mtg_tank_landing_craft = {

		amphibious_invasion = 0.25
		amphibious_invasion_defence = 0.5
		naval_invasion_capacity = 100

		research_cost = 2
		start_year = 1944
		folder = {
			name = mtgnavalsupportfolder
			position = { x = 0 y = 19 }
		}

		ai_will_do = { #EAI

			factor = 1

			modifier = {

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Base

				set_temp_variable = { EAI_tmp_research_factor = 1 }

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Modifiers

				if = { 
					limit = { 
						EAI_transport_tech_focus = yes
					}

					multiply_temp_variable = { EAI_tmp_research_factor = 300 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Date

				if = { 
					limit = { 
						if = { limit = { has_country_flag = EAI_unused_research_slots }

							date < 1943.6.1
						}
						else = { 
							
							date < 1944.1.1
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Restrictions

				if = {
					limit = {
						NOT = { has_country_flag = EAI_unused_research_slots_extended }

						OR = { 
							
							AND = {
								NOT = { any_owned_state = { is_coastal = yes } }
							}
						}
					}

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

				### RESEARCH:Priority research

				if = { limit = { NOT = { check_variable = { EAI_priority_research_current_tech = 0 } } NOT = { check_variable = { EAI_priority_research_current_tech = token:mtg_tank_landing_craft } } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { OR = { check_variable = { global.EAI_days_elapsed < 2 } has_country_flag = EAI_PR_block_research } } # Block dynamic strategies generated by the AI

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				if = { limit = { check_variable = { EAI_priority_research_current_tech = token:mtg_tank_landing_craft } NOT = { has_country_flag = EAI_PR_block_priority_research } }

					set_temp_variable = { EAI_tmp_research_factor = 1 }
				}

				if = { limit = { is_in_array = { EAI_priority_research_block_techs = token:mtg_tank_landing_craft } }

					set_temp_variable = { EAI_tmp_research_factor = 0 }
				}

				# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

				factor = EAI_tmp_research_factor
			}
		}

		categories = {
			naval_equipment
			tp_tech
		}
	}
}