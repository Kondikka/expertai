#######################################################################################
###		Electronic technologies
#######################################################################################

@PR_radio = 1000
@PR_radar = 700
@PR_computing_machine = 900
@PR_fire_control_system = 900
@PR_nukes = 800
@PR_jet_engines = 850

EAI_PR_STRATEGIES_electronic_technologies = {

	EAI_PR_STRATEGIES_radio = yes
	EAI_PR_STRATEGIES_radar = yes
	EAI_PR_STRATEGIES_computing_machine = yes
	EAI_PR_STRATEGIES_fire_control_system = yes
	EAI_PR_STRATEGIES_nukes = yes
	EAI_PR_STRATEGIES_jet_engines = yes
}

###

EAI_PR_STRATEGIES_radio = {

	if = { 
		limit = { 
			has_war = yes
		}

		set_temp_variable = { prio_cat = @PR_radio }

		### radio

		if = { limit = { set_temp_variable = { _prio_tech = token:radio } set_temp_variable = { _prio_val = prio_cat }

			date > 1936.1.1
				
		} EAI_PR_add_to_priority_research_queue = yes }
	}
}

EAI_PR_STRATEGIES_radar = {

	if = { 
		limit = { 
			amount_research_slots > 3
			date > 1940.1.1

			OR = {
				AND = {
					num_of_controlled_factories > 100
					check_variable = { num_deployed_planes > 2000 }
				}

				AND = {
					is_major = yes
					any_enemy_country = { is_major = yes }
				}
				AND = {
					OR = {
						EAI_radio_navigation_MODULE_FOCUS = yes
						EAI_air_to_ground_radar_MODULE_FOCUS = yes
						AND = { EAI_naval_radar_MODULE_FOCUS = yes check_variable = { EAI_RESEARCH_naval_research_factor > 0.5 } }
						EAI_radar_tech_focus = yes
					}
				}
			}
		}

		set_temp_variable = { prio_cat = @PR_radar }

		if = {
			limit = {
				num_of_controlled_factories > 200
				check_variable = { num_deployed_planes > 2000 }
			}
		
			add_to_temp_variable = { prio_cat = 400 }
		}

		### radio_detection

		if = { limit = { set_temp_variable = { _prio_tech = token:radio_detection } set_temp_variable = { _prio_val = prio_cat }

			date > 1939.1.1
			OR = {
				AND = {
					num_of_controlled_factories > 100
					check_variable = { num_deployed_planes > 2000 }
				}

				AND = {
					is_major = yes
					any_enemy_country = { is_major = yes }
				}
				AND = {
					OR = {
						EAI_radio_navigation_MODULE_FOCUS = yes
						EAI_air_to_ground_radar_MODULE_FOCUS = yes
						AND = { EAI_naval_radar_MODULE_FOCUS = yes check_variable = { EAI_RESEARCH_naval_research_factor > 0.5 } }
						EAI_radar_tech_focus = yes
					}
				}
			}
				
		} EAI_PR_add_to_priority_research_queue = yes }

		### decimetric_radar

		if = { limit = { set_temp_variable = { _prio_tech = token:decimetric_radar } set_temp_variable = { _prio_val = prio_cat }

			date > 1939.1.1
			OR = {
				AND = {
					num_of_controlled_factories > 100
					check_variable = { num_deployed_planes > 2000 }
				}

				AND = {
					is_major = yes
					any_enemy_country = { is_major = yes }
				}
				AND = {
					OR = {
						EAI_radio_navigation_MODULE_FOCUS = yes
						EAI_air_to_ground_radar_MODULE_FOCUS = yes
						AND = { EAI_naval_radar_MODULE_FOCUS = yes check_variable = { EAI_RESEARCH_naval_research_factor > 0.5 } }
						EAI_radar_tech_focus = yes
					}
				}
			}
				
		} EAI_PR_add_to_priority_research_queue = yes }

		### improved_decimetric_radar

		if = { limit = { set_temp_variable = { _prio_tech = token:improved_decimetric_radar } set_temp_variable = { _prio_val = prio_cat }

			date > 1939.1.1
			OR = {
				AND = {
					num_of_controlled_factories > 100
					check_variable = { num_deployed_planes > 2000 }
				}

				AND = {
					is_major = yes
					any_enemy_country = { is_major = yes }
				}
				AND = {
					OR = {
						EAI_radio_navigation_MODULE_FOCUS = yes
						EAI_air_to_ground_radar_MODULE_FOCUS = yes
						AND = { EAI_naval_radar_MODULE_FOCUS = yes check_variable = { EAI_RESEARCH_naval_research_factor > 0.5 } }
						EAI_radar_tech_focus = yes
					}
				}
			}
				
		} EAI_PR_add_to_priority_research_queue = yes }

		### centimetric_radar

		if = { limit = { set_temp_variable = { _prio_tech = token:centimetric_radar } set_temp_variable = { _prio_val = prio_cat }

			date > 1940.1.1
			OR = {
				AND = {
					num_of_controlled_factories > 100
					check_variable = { num_deployed_planes > 2000 }
				}

				AND = {
					is_major = yes
					any_enemy_country = { is_major = yes }
				}
				AND = {
					OR = {
						EAI_radio_navigation_MODULE_FOCUS = yes
						EAI_air_to_ground_radar_MODULE_FOCUS = yes
						AND = { EAI_naval_radar_MODULE_FOCUS = yes check_variable = { EAI_RESEARCH_naval_research_factor > 0.5 } }
						EAI_radar_tech_focus = yes
					}
				}
			}
				
		} EAI_PR_add_to_priority_research_queue = yes }

		### improved_centimetric_radar

		if = { limit = { set_temp_variable = { _prio_tech = token:improved_centimetric_radar } set_temp_variable = { _prio_val = prio_cat }

			date > 1941.1.1
			OR = {
				EAI_air_to_ground_radar_MODULE_FOCUS = yes
				AND = { EAI_naval_radar_MODULE_FOCUS = yes check_variable = { EAI_RESEARCH_naval_research_factor > 0.5 } }
				EAI_radar_tech_focus = yes
			}
				
		} EAI_PR_add_to_priority_research_queue = yes }

		### advanced_centimetric_radar

		if = { limit = { set_temp_variable = { _prio_tech = token:advanced_centimetric_radar } set_temp_variable = { _prio_val = prio_cat }

			date > 1942.1.1
			OR = {
				EAI_air_to_ground_radar_MODULE_FOCUS = yes
				AND = { EAI_naval_radar_MODULE_FOCUS = yes check_variable = { EAI_RESEARCH_naval_research_factor > 0.5 } }
				EAI_radar_tech_focus = yes
			}
				
		} EAI_PR_add_to_priority_research_queue = yes }
	}
}

EAI_PR_STRATEGIES_computing_machine = {

	if = { 
		limit = { 
			always = no
		}

		set_temp_variable = { prio_cat = @PR_computing_machine }

		### electronic_mechanical_engineering

		if = { limit = { set_temp_variable = { _prio_tech = token:electronic_mechanical_engineering } set_temp_variable = { _prio_val = prio_cat }

			date > 1936.1.1
				
		} EAI_PR_add_to_priority_research_queue = yes }

		### mechanical_computing

		if = { limit = { set_temp_variable = { _prio_tech = token:mechanical_computing } set_temp_variable = { _prio_val = prio_cat }

			date > 1936.1.1
				
		} EAI_PR_add_to_priority_research_queue = yes }

		### computing_machine

		if = { limit = { set_temp_variable = { _prio_tech = token:computing_machine } set_temp_variable = { _prio_val = prio_cat }

			date > 1938.1.1
				
		} EAI_PR_add_to_priority_research_queue = yes }

		### improved_computing_machine

		if = { limit = { set_temp_variable = { _prio_tech = token:improved_computing_machine } set_temp_variable = { _prio_val = prio_cat }

			date > 1940.1.1
				
		} EAI_PR_add_to_priority_research_queue = yes }

		### advanced_computing_machine

		if = { limit = { set_temp_variable = { _prio_tech = token:advanced_computing_machine } set_temp_variable = { _prio_val = prio_cat }

			date > 1942.1.1
				
		} EAI_PR_add_to_priority_research_queue = yes }
	}
}

EAI_PR_STRATEGIES_fire_control_system = {

	if = { 
		limit = { 
			OR = {
				EAI_DD_tech_focus = yes 
				EAI_CL_tech_focus = yes 
				EAI_CA_tech_focus = yes 
				EAI_BC_tech_focus = yes 
				EAI_BB_tech_focus = yes 
				EAI_SHBB_tech_focus = yes
			}

			check_variable = { EAI_RESEARCH_naval_research_factor > 0.5 }
		}

		set_temp_variable = { prio_cat = @PR_fire_control_system }

		### computing_machine

		if = { limit = { set_temp_variable = { _prio_tech = token:computing_machine } set_temp_variable = { _prio_val = prio_cat }

			date > 1938.1.1
				
		} EAI_PR_add_to_priority_research_queue = yes }

		### basic_fire_control_system

		if = { limit = { set_temp_variable = { _prio_tech = token:basic_fire_control_system } set_temp_variable = { _prio_val = prio_cat }

			NOT = { has_tech = improved_fire_control_system can_research = improved_fire_control_system is_researching_technology = improved_fire_control_system }
				
		} EAI_PR_add_to_priority_research_queue = yes }

		### improved_computing_machine

		if = { limit = { set_temp_variable = { _prio_tech = token:improved_computing_machine } set_temp_variable = { _prio_val = prio_cat }

			date > 1940.1.1
				
		} EAI_PR_add_to_priority_research_queue = yes }

		### improved_fire_control_system

		if = { limit = { set_temp_variable = { _prio_tech = token:improved_fire_control_system } set_temp_variable = { _prio_val = prio_cat }

			date > 1938.1.1
			NOT = { has_tech = advanced_fire_control_system can_research = advanced_fire_control_system is_researching_technology = advanced_fire_control_system }
				
		} EAI_PR_add_to_priority_research_queue = yes }

		### advanced_computing_machine

		if = { limit = { set_temp_variable = { _prio_tech = token:advanced_computing_machine } set_temp_variable = { _prio_val = prio_cat }

			date > 1942.1.1
				
		} EAI_PR_add_to_priority_research_queue = yes }

		### advanced_fire_control_system

		if = { limit = { set_temp_variable = { _prio_tech = token:advanced_fire_control_system } set_temp_variable = { _prio_val = prio_cat }

			date > 1940.1.1
			always = yes
				
		} EAI_PR_add_to_priority_research_queue = yes }
	}
}

EAI_PR_STRATEGIES_nukes = {

	if = { 
		limit = { 
			always = no
		}

		set_temp_variable = { prio_cat = @PR_nukes }

		### atomic_research

		if = { limit = { set_temp_variable = { _prio_tech = token:atomic_research } set_temp_variable = { _prio_val = prio_cat }

			date > 1940.1.1 
				
		} EAI_PR_add_to_priority_research_queue = yes }

		### nuclear_reactor

		if = { limit = { set_temp_variable = { _prio_tech = token:nuclear_reactor } set_temp_variable = { _prio_val = prio_cat }

			date > 1943.1.1 
				
		} EAI_PR_add_to_priority_research_queue = yes }

		### nukes

		if = { limit = { set_temp_variable = { _prio_tech = token:nukes } set_temp_variable = { _prio_val = prio_cat }

			date > 1945.1.1
				
		} EAI_PR_add_to_priority_research_queue = yes }
	}
}

EAI_PR_STRATEGIES_jet_engines = {

	if = { 
		limit = { 
			EAI_wants_to_build_aircraft = yes
			is_major = yes
		}

		set_temp_variable = { prio_cat = @PR_jet_engines }

		### experimental_rockets

		if = { limit = { set_temp_variable = { _prio_tech = token:experimental_rockets } set_temp_variable = { _prio_val = prio_cat }

			date > 1944.1.1
				
		} EAI_PR_add_to_priority_research_queue = yes }

		### rocket_engines

		if = { limit = { set_temp_variable = { _prio_tech = token:rocket_engines } set_temp_variable = { _prio_val = prio_cat }

			date > 1944.1.1
				
		} EAI_PR_add_to_priority_research_queue = yes }

		### jet_engines

		if = { limit = { set_temp_variable = { _prio_tech = token:jet_engines } set_temp_variable = { _prio_val = prio_cat }

			date > 1945.1.1
				
		} EAI_PR_add_to_priority_research_queue = yes }
	}
}